<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>day11 弱點 (雷)被加密被入侵都是人為因素多</title><url>https://lovesharepc.github.io/2021/09/25/day11-%E5%BC%B1%E9%BB%9E/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> Nessus
 在比較大的企業中會定期進行弱點掃描
 弱點掃描
就是利用工具程式進行模擬滲透攻擊
藉此找出弱點在災害發生時提前修補
 所謂的弱點
基本非為兩種
軟體本身漏洞 人為設定漏洞  軟體本身漏洞 比如說 CVE-xxxx-xxxxx
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-22006
這種修補方式通常就是找原廠 patch 更新即可
  人為設定漏洞 比如說未加密連線 telnet
使用弱密碼 (password)
修補方式就是修改設定
  免費弱點掃描工具 可以使用 Nessus
幫助掃描漏洞
這類軟體在找出漏洞後
都可以出 report 並附上修補辦法
所以把關資訊安全
天下無難事，只怕有心人
定期掃描弱點是 IT 一定要做的工作</content></entry><entry><title>day10 軌跡 (雷)沒有就等著被電到飛上天</title><url>https://lovesharepc.github.io/2021/09/24/day10-%E8%BB%8C%E8%B7%A1-%E9%9B%B7/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 前面說防火牆
我們會設定 log 記錄功能
而一般防火牆內建空間不大
也有各式各樣的設備要記錄 log
所以一個 log server 絕對是各位系統工程師在維運時一定要有準備的東西
 目前最常聽到的 log server
有兩個選擇 ELK 跟 garylog
 在此之前 LOG 的好處有什麼
1.操作過程記錄
如果有多位管理者或是忘記自己曾經做了什麼
可以藉由 log 系統回顧
比如說 某A 建立 B 帳號
 緝凶 比如說 某A 刪除 B 帳號
 3.分析
以 ELK 來說
他與一般 log 系統不同的在於他可以進行資料分析的動作
比如說 10 分鐘內登入失敗的 top 10
 某網站 404、502 ….出現次數
最多人瀏覽的頁面…..
  4.符合法規
現在大部分法規都會要求保留一定年限的 log
   簡單舉例 4 個
但總而言之，建議 IT 管理者一定要準備 log server
對自己絕對是正向的幫助
 目前來說相當多人選擇 ELK 作為日誌系統
原因不外乎就是功能很強
網路上相關教學很多，後面就不多作介紹 ELK 了
希望大家都能去玩玩看</content></entry><entry><title>day9 稽核 (雷)除了技術，也要學管理</title><url>https://lovesharepc.github.io/2021/09/21/day9-%E7%A8%BD%E6%A0%B8-%E9%9B%B7/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html">
 所謂的稽核
很多人都會擔心做不好就懲處
導致稽核前大家人仰馬翻
 其實稽核這件事的目的是要協助企業找出做不好的部分
並進行改善作業，藉由持續 稽核>缺失>改善 這樣循環
來讓企業越做越好
 而要通過每次的稽核，重點就是要將日常維運做的事情標準化
稽核只需針對日常維運的日誌檢查就直接通過
 講是這樣
那如果平常該做的沒做會如何?
當然就是準備在稽核時爆炸了
 對於管理者
最好的最法就是在修改設定時，能有表單紀錄並有人批准，變成一個正式的流程
這樣就能知道當初為何要做設定、並可追朔是誰要由
 在維修時，也要有表單記錄問題
從紀錄可得知嚴重等級，並在未來可做規劃如何避免
 具體來說稽核要準備那些東西，這要看企業內部的規定
簡單來說
稽核的核心，就是確保企業是否有照規則行事，並有軌跡記錄
所以系統工程師在做事的時候，請務必養成紀錄的習慣，對自己及企業都是好事
  而稽核最重要的既然是軌跡，最雷的時候當然就是不做軌跡的人
通常來說，長官一定做軌跡，當長官習性不好時….你就準備把所有錯扛下來了
這時候也很容易認清，這是不是一個能待的地方
 </content></entry><entry><title>day8 儲存設備 (雷)大家都不一樣呢</title><url>https://lovesharepc.github.io/2021/09/21/day8-%E5%84%B2%E5%AD%98%E8%A8%AD%E5%82%99-%E9%9B%B7%E5%A4%A7%E5%AE%B6%E9%83%BD%E4%B8%8D%E4%B8%80%E6%A8%A3%E5%91%A2/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html">  儲存設備
可以說是應該要很簡單，著實卻有點複雜的東西
一般的 server 能插的硬碟數量有限
而且該 disk 也無法被其他 server 存取
所以一個能被共用且大容量的儲存設備就出現了
 儲存設備會分為兩種
storage – 定位會偏向高速、可用協定較少、雙控制器高可靠度 NAS – 定位會偏向低速、可用協定較多 儲存設備本身也會做 RAID
而大部分廠牌除了傳統的 RAID 還有自己較特殊的演算法
比如說群暉的 SHR
 協定部分
一般 storage 都是 fibre channel 、 iSCSI
 NAS 會支援 NFS、SMB、fibre channel 、 iSCSI
甚至提供 docker …. 許多功能
 而 storage 說真的要講會比較有難度，鑑於這次鐵人在我的目標不會在細說一個東西
就此簡單帶過
 不同廠牌設定就會不同，並有不同的管理工具
對於管理者最好的辦法
就是找 SI 或是自己研讀文件
這也是呼應前面幾天的文章
如果你在機房內看到各種 storage
又通無人維護時，真的是會想哭出來呢</content></entry><entry><title>day7 來管理 firewall 吧 (雷)沒人知道答案的問題</title><url>https://lovesharepc.github.io/2021/09/21/day7-%E4%BE%86%E7%AE%A1%E7%90%86-firewall-%E5%90%A7-%E9%9B%B7%E6%B2%92%E4%BA%BA%E7%9F%A5%E9%81%93%E7%AD%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> firewall 跟 switch 一樣，也是存在各種廠牌 好在沒有 switch 那麼多種 他主要的功能就是阻擋不正常流量 而現今的防火牆效能之強 從以前的L4 IP/port 阻擋 到現在 L7 都做得到 (比如說限制應用程式) 而我最早接觸到的防火牆是 juniper 的 SSG 就算拿到今日，其實也是功能強大的防火牆，只是可惜的是後繼沒有再出了
防火牆，可以分透通跟NAT mode 兩種 簡單來說，就是做不做路由 以目前防火牆越來越強的情況下 不做路由是有點可惜的
甚至因為效能越來越強，有些人也提倡把防火牆當作 core switch 使用 進一步把安全性拉高
在管理防火牆時 如何開放適當權限的規則 這會是我在管理防火牆中最困擾的一部份 因為通常系統管理有時也不知道到底該怎麼開放權限
於是就可以依據 log 看到的資訊，將權限做限縮
前面提到 GNS3
我們就以 fortigate 來做示範
規劃 防火牆在上線時
第一步規劃 interface 怎麼使用
若以剛剛提到的，將 fireware 作為 core switch 的話
我們就把每個區段的 gateway 放在防火牆本身
首先先做區域的規劃
大部分會分為 wan、lan、server
你可以選擇建立一個 L2 switch、再用 vlan 切開
或是不同區域對到 1 個或多個 interface
但我們先簡單一些，1個區域對到1個interface
首先
先在 GNS3 中把元件都拉出來
並放一台 linux client 作為 mgmt firewall 用
第一步，設定 FG IP
預設為 DHCP
# 預設帳密 admin 無密碼 # 執行指令 config system interface edit port1 set mode static set ip 192.168.1.1/24 end 在 linux 開機後
我們設定 IP 192.168.1.200
並連上 FG 開始做 interface 的設定
先進到 interface 設定介面
對 port 編輯
設定 alias、IP、並允許 ping 功能
並重複完成其他介面設定
在 wan 這邊，我本來就有 DHCP
並在 WAN 的介面，我們不開放任何管理功能
在來我們設定政策
來決定封包是否可以通過
在絕大份的防火牆，預設都是全檔的
我們試著全開看看
進到 policy 設定頁面
建議任何 policy 都把 log 全部打開
對於 lan 到 wan ，我們啟動 NAT 功能
接著設定 vpcs 的IP
設定完成後，檢查 PC1(lan) 是可以 ping 到 PC2(server) 相反因為政策設定問題 PC2(server) 無法 ping 到 PC1(lan)
接著再 ping 8.8.8.8 看看 是可以 work
接著我們回去看 log
如果在設定 policy 那部分有將 log 開啟 就可以看到 log 底下使用了那些服務 比如說 ping 藉由長期紀錄，就可以揪出是否有 policy 設定不當的情況 未來要將 policy 做限縮就不會因為管理者自己也不清楚，導致你看我 我看你的困境 而從防火牆的管理，最重要的可以說就是 log 也就是從這時候開始，分析 log 就變成了系統管理者最重要的一環</content></entry><entry><title>day8 來管理 server 吧 (雷)相容性檢查好再開始</title><url>https://lovesharepc.github.io/2021/09/20/day8-%E4%BE%86%E7%AE%A1%E7%90%86-server-%E5%90%A7-%E9%9B%B7%E7%9B%B8%E5%AE%B9%E6%80%A7%E6%AA%A2%E6%9F%A5%E5%A5%BD%E5%86%8D%E9%96%8B%E5%A7%8B/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> support matrix
compatible matrix
 有幾個名詞代表這意義 – 相容性
題外話，培養用英文找問題的習慣很重要
因為英文資料最充足，最能找到你要的資料
 再拿到到伺服器的時候，我們通常會去安裝系統
承前篇
第一件事我會先把 fireware 更新過一遍，解決未知的問題
在開始安裝系統之前，先評估該 OS 是否相容 (不過這應該在買之前就先做了，後面再談)
 以 dell 舉例，可以到 KB 文章找資料
The PowerEdge Server Operating System Support Library
這麼做的第一件事是確保日後 OS 能穩定運作
另外就是安裝過程中是否有特別要注意的東西 ( 比如說先上 driver )
 以前就有遇到過，客戶買了一台 server
卻要裝 server 2008
安裝過程一直失敗，一查相容性根本不支援
這時再怎麼硬上，結果絕對是不好的
 這也是踩了幾次雷之後
對於規劃的重要性才有越來越深的體會
 </content></entry><entry><title>day7 來管理 server 吧 (雷)定期更新很重要</title><url>https://lovesharepc.github.io/2021/09/20/day7-%E4%BE%86%E7%AE%A1%E7%90%86-server-%E5%90%A7-%E9%9B%B7%E5%AE%9A%E6%9C%9F%E6%9B%B4%E6%96%B0%E5%BE%88%E9%87%8D%E8%A6%81/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 在踏入充滿著琳瑯滿目的機房後
伺服器就是第二個上手的東西
伺服器其實很簡單
就是高級版的 PC
在選購時，跟 PC 一樣可以選擇配備組合成你要的需求
 稍微不同的是，硬碟會做 RAID
CPU 有兩顆 RAM 要成對配置
大部分會配雙 power
 維運 大部分的伺服器都會有 BMC ( Baseboard Management Controller )
這東西簡單說就是一個內建在該台伺服器上，卻獨立於伺服器的模組
基本功能就是察看硬體的狀態，設定告警功能，當異常時主動通知
依 license 等級 (又是 license) 覺得是否有更多功能，比如說充當 KVM 使用
表列一下各家 server 的 BMC 叫什麼
lenovo – IMM
dell – iDrac
HPE – iLO
 在平時維運伺服器時
將 BMC 的 alert 功能打開是非常有用的
可以大幅度的避免硬體故障許久後才發現
而就算 server 故障，也能藉由 BMC 迅速理解原因
快速進行排除作業
 舉個例子，當硬碟故障的時候
藉由 BMC 確認硬碟規格、位置來迅速準備料件
並由 BMC 了解 RAID 、hotspare 模式，釐清事件等級
 另外部分廠牌 BMC 還有韌體管理供功能
伺服器的韌體
舉凡 BIOS 、 network 、 disk 、 RAID ….
韌體，很多人幾乎都是從不更新的，畢竟商用的東西
很多人先天就認定他會穩，fireware 只是關乎效能
而經過幾年的踩雷，driver 跟 韌體定期更新非常重要
因為有些問題其實要時間到了才會發現有重大 BUG
 以近年來最慘痛的例子來說
SSDs experience unexpected failures at 32k/40k power-on hours
https://kb.vmware.com/s/article/79471
這起事件有多嚴重?
基本上遇到就是 SSD 陣列直接全部陣亡
就算事後再更新 fireware 也是沒救
慘痛程度滿分
 然而一台 server 內需要更新的 fireware 其實很多
建議可以使用線上更新或是更新包的方式
自動搜尋並更新避免任何漏網之魚
當然我會提這案例就是…
真的有客戶踩到這 bug
導致深夜必須趕至客戶那進行急救
 所以各位系統工程師除了定期檢查硬體是否正常
也拜託養成定期更新的習慣喔</content></entry><entry><title>day6 初級系統工程師 (雷)管理眼花撩亂的機房，不是幸福</title><url>https://lovesharepc.github.io/2021/09/20/day6-%E5%88%9D%E7%B4%9A%E7%B3%BB%E7%B5%B1%E5%B7%A5%E7%A8%8B%E5%B8%AB-%E9%9B%B7%E7%AE%A1%E7%90%86%E7%9C%BC%E8%8A%B1%E6%92%A9%E4%BA%82%E7%9A%84%E6%A9%9F%E6%88%BF%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%B9%B8/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 時間回到我入行第二年
這時才算是正式的系統工程師並開機接觸機房
 最開始的工作是協助客戶處理機房伺服器事宜
基本工作包刮每天巡檢、故障排除，完成交辦事項
當然，都是一個人完成
從一天得到的心得一樣
這工作，是孤獨的
 一開始進入機房時
跟我想的完全不同
以為 CCNA 學完之後，switch就可以輕鬆上手
只要再理解 firewall、storage、server
誰知道一踏入這領域
switch 有著各種廠牌 juniper、dell、brocade、zyxel、extreme、HPE、d-link….
哇，…原來不同廠牌指令就不一樣
甚至還有名詞定義不一樣的現象
而就算是同間廠牌的 switch ，還有系列的差別
不同系列可能指令又完全不同
也就是說，花幾個月研讀的 CCNA
得再花好幾倍的時間學其他廠牌才有辦法完全 conver 網路這塊
 光 switch 這塊就感到深深的惡意
再來 firewall、server、storage….這些也是同樣的情況
真的要摸熟，這輩子的時間是不夠的
於是應該要做好充足準備的工程師
演變成只能遇到問題再來想怎麼解決問題
 大概所有系統工程師都討厭這種惡劣的機房環境
採購設備的準則，是看誰便宜，卻沒有考慮到維護(使用者)的問題
於是機房放就充斥各種不同廠牌的設備，看起來很酷炫
哇，這機房內設備好多種，肯定很厲害
這種現象導致維運難度大幅提升
如果各位工程師看到機房內是這種現象
可以說，管理絕對是一蹋糊塗
 如果你是採購單位
希望採購設備的同時，以管理者的角度出發
而不是以價格甚至是圖利特定廠商為理由
必須採購不同設備
  試想你的慣用手機是 iPhone
今天要你朋友 A 聯絡使用 android
跟朋友 B 聯絡使用 黑莓
跟朋友 C 聯絡使用 WP
大部分人都會認為 你殺了我吧
對系統工程師何嘗不也是這樣
要我負責維運各種不同廠牌設備， 到現在我還是認為… 拜託你乾脆殺了我吧
  </content></entry><entry><title>day5 network simulator GNS3 (雷)沒硬體怎麼玩?</title><url>https://lovesharepc.github.io/2021/09/18/day5-network-simulator-gns3-%E9%9B%B7%E6%88%91%E7%9A%84%E8%B3%87%E6%BA%90%E4%B8%8D%E8%B6%B3%E4%BA%86/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 前言 在開始 LAB 之前
先來說說我在 GNS3 最常用的功能
linux、network、firewall
沒錯 有 linux
GNS3 在前面提到是模擬器
而實現的做法就是它就是一個基於 KVM 的 hypervisor
在這上面也是可以跑 windows、linux 系統的
所以實際上，要模擬設備，其實 ESXi、virtualbox 其實都能做
那使用 GNS3 乍看多此一舉
而實際上藉由 GNS3 client 可以把我們的虛擬機間的網路連線
快速的設定並產生一個網路拓樸
試想每一條網路線在一般虛擬化平台必須建立自己的虛擬網路，並套用在不同 VM 間，也許快的話花你 1 min
GNS3 協助你只需要在 UI 上拉條線就好 只要 1 second
真的超棒的
而因為一般我們在 LAB 過程，也是需要 client 、server 做驗證，一套就能搞定所有需求
簡易介紹 打開 GNS3 client 後，介面簡單介紹如下
 我習慣的操作窗格會改成這樣 (log 不重要啦)，左側窗格會開啟 all device
我會用到的預設 device 說明
cloud – 用來將 GNS3 內的 VM 與外部橋接
ethernet switch – 就是 switch、支援 vlan
VPCS – 一個非常精簡的 client ，提供 IP/DHCP/ping/arp/trace 功能，供你基本測試用
start basic lab 先來建立一個基本
1.拉出 2 個 vpcs 並設定 IP
192.168.190.11/24
192.168.190.12/24
設定指令如下
ip 192.168.190.11/24
save
2.拉出 switch 界接
並確定 vpcs 能夠互 ping
3.拉出 cloud 讓 vpcs 可與外部網路橋接
ping 192.168.190.1 正常
https://wp.nevertired.us.to/wp-content/uploads/2021/09/2348_31.mp4
 完成後
可以對虛擬機點右鍵看看
可以做一些設定喔
 新增 template 很顯然
內建的東西非常少
這時我們可以去匯入 VM 來做 LAB
詳細支援清單可以到官方 marketplace 看看
有些東西是免費的、有些要授權 看該模擬設備廠商的規定
我接下來示範新增 extreme switch 來做 lab (它是免費的)
打開選單的 new template
以預設值下一步
選擇 switch 下的 EXOS 點 install
繼續
選擇我們要的版本，點下載
完成後點匯入
可以看到該虛擬準備好新增至 GNS3 了
點 NEXT
部分設備如果有備註的話會在此提醒
通常都是預設帳密
完成後，在 template 就可以看到 EXOS 了
可以對該 EXOS 點右鍵
來做編輯
像是 CPU、記憶體大小、網卡數量可以在這修改
為了加速 lab 及 VM 穩定度，可以視情況將資源開大
usage 可看到剛剛 import 時的備註
 結語 簡單教學到此
安裝此環境後才對各種設備有實際操作的認識
比如說 fortigate、palo alto、cisco、extreme、F5…
有時我們必須對正在線上運作的設備做設定的修改
也多虧有這平台
才有辦法做修改的事前驗證
如果要學網路
這套 GNS3 絕對是必備的工具啊
 然而要準備虛擬話平台，記憶體一定要多
像剛剛的 EXOS ，一台要吃 512M
有時必須架 server 及 client
比較大型的設備需要資源更多，一台 PA 最少 4G RAM
一般電腦根本沒辦法模擬幾台
 這 LAB 資源怎麼來
在我剛入這行時，公司並沒有這樣的資源
沒有 LAB 自己的功力就難以提升
想著這就是投資自己，於是就自願花錢準備
還好在那時流行 “洋垃圾”
記憶體真的便宜到爆，那時買了一組把 RAM 加到 32G
才解決了我求知的慾望、消除進步的阻礙
不過 32G 的記憶體有時候還是不足，因為有些 VM 真的太大了
如果各位要進入這行業
沒有基本的資金是根本沒辦法進入的
門檻高，待遇卻…..
     </content></entry><entry><title>day4 network simulator (雷)新不代表好</title><url>https://lovesharepc.github.io/2021/09/18/day4-network-simulator-%E9%9B%B7%E6%96%B0%E4%B8%8D%E4%BB%A3%E8%A1%A8%E5%A5%BD/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 模擬器分三種 packet tracer GNS3 EVE-NG 在學習網路的模擬器中
packet tracer 只能模擬 cisco 設備，當然在通過 CCNA 只要 packet tracer 就足夠了
要能連其他家的設備一並模擬
必須使用 GNS3 或是 EVE-NG
想必大多人在 google 階段
都會覺得 EVE-NG 比較好
EVE-NG 全名為 The Emulated Virtual Environment next generation
使用 web-ui 就可以讓多數人同時模擬
並內建各設備 icon 及簡易操作的見面，乍看之下比 GNS3 是更好的選擇
 所以就踩到 EVE-NG 的地雷了
EVE-NG 在開始使用時，真的是令我覺得驚豔
但深入使用後發現該套模擬器的問題卻蠻嚴重的
1.EVE-NG Community Edition 不支援開機狀態下接線
也就是說在模擬的過程中可能要跳線、更改線路
是沒辦法的
這造成很大的困擾，因為某些虛擬的 device 開機會非常久
所以在測試時效率非常低落
2.不穩定
雖然大部分設備都是使用 KVM 在跑
但虛擬的 device 常常當機
在不斷除錯時
發現 GNS3 相對沒這問題
 結合以上兩個致命缺點，大家就不必浪費時間測試了
(在距離上次使用 EVE-NG 也過了很久，也許不穩定的問題已經改善
但可惜的是，EVE-NG Community Edition 跳線的限制非常惱人，所以基本上不會採用此軟體)
 GNS3 從 EVE-NG 轉用 GNS3
儘管那時有些缺陷在
但至少他跑模擬是穩定的
而從我剛開始使用 GNS3 到現在
他也解決了許多不方便的地方 (比如說多人 LAB)
算是相當成熟的的模擬器了 ∑d(°∀°d)
GNS3 安裝 以下來個簡單的初學者快速攻略 (本 LAB 使用版本為 2.2.25)
準備一台電腦或伺服器安裝好 hypervisor 平台
至 https://www.gns3.com/ 註冊免費帳號
再到 https://www.gns3.com/software/download
下載 client 及 server 端 (GNS3 VM)
以預設值安裝 client 程式
部屬 GNS3 VM 並視需求調整資源後開機 建議最少來個 4C 4G
開機之後第 一件事設定 IP，預設為使用 DHCP
我們不管你的環境有沒有 DHCP，都把 IP 改為固定
選擇 network 控制項
把前方的 # 註解掉
再依項目設定即可改為固定 IP
接著開啟剛剛的 client 端
選擇 run on a remote server
IP 修改為剛剛 server 上設定的
並將 port 改為 80
取消 enable authentication
下一步後即可完成設定
下一篇我們繼續深入 GNS3 實戰
 </content></entry><entry><title>day3 CCNA – router (雷)硬體也要分 license</title><url>https://lovesharepc.github.io/2021/09/18/day2-ccna-%E6%8C%87%E5%8D%97-2-%E9%9B%B7%E7%A1%AC%E9%AB%94%E4%B9%9F%E8%A6%81%E5%88%86-license/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html">  在我開始接觸商用設備之前
我大概都是玩這種設備
 俗稱 IP 分享器
在那時候就會先去刷 DD-WRT 這類的路由來玩
從基本幾個按鈕能做少少幾件事
到眼花撩亂的功能
了解到網路這塊是非常多東西可以玩
那時對 cisco Router 的認識
大概就是 layer 3 必定要使用 router
 然而真正開始接觸 系統工程師這塊時
才知道，原來 cisco switch 也能做 router 功能
 那他跟 cisco router 差在哪呢?
所謂的 layer 3 其實涵蓋許多協定
可以使用 https://cfnng.cisco.com/compare
隨便抓台 switch 跟 router 做比較
PS.雖然這官方的比較工具能 switch 與 router 互相比較，但結果似乎會不太準確
 在細說之前
先說說 switch 的踩雷
這是我第二年學到的東西
cisco switch 有 license 的差別
那時主流的 switch
layer 2 是 2960 系列
layer 3 是 3750 系列
包含我上司也認為看到型號就知道是 L2 或是 L3 (L =layer)
誰知某天突然有人說
“2960 也能做路由啊 (･_･?) 為什麼不用 2960 來跑路由就好”
在那時還在不斷學技術且接觸到的設備不多，根本不會去細看 datasheet
(尤其 cisco datasheet 挺複雜的，就算現在也要花時間找很多地方才看得懂)
 誰知一看
Σ(°ロ°) WTF 還真的可以
天真的我那時候一直認為硬體就是硬體，不是軟體還分 license
沒想到原來硬體內也有分 license 來限制功能 (☆_@)
就在這時開始，慢慢培養看 datasheet 的能力
藉由 datasheet 就可知道這設備的能力範圍
而不至於每次都只能有實機才能知道有哪些功能
細看之後呢就發現，2960 做路由不是不行
但他也有硬體的限制，無法像 3750 那樣強大
所以這樣幹還不如乖乖買的 L3 switch 更好
 回過頭來說 switch 跟 router 差別
大概差異會是
switch 支援這些路由協定 : EIGRP, HSRP, IS-IS, BSR, MSDP, IP SLA, OSPF
router 除了上面 switch 那些功能，會多支援 NAT、SIP、MPLS、VPN….功能
 聽起來 router 好棒棒啊
但企業內部一定會有 switch、firewall
router 提供的功能基本上 firewall 也有
router 要拚 inter-vlan 路由沒 switch 快
剩下一些 router 才能幹的功能，基本上也都用不到，要不就是很多便宜的設備也能做
或是 ISP 業者會提供設備 (數據機)
所以實際要看到 cisco router 的機會其實蠻低，真的c會用的大部分是不懂被騙買下去居多呢 （ ´∀｀）
 所以在 系統工程師學習的過程中
雖然 cisco 的 router 有很多特異功能
但基本上除特殊需求外，各位是不用特別去了解的
倒是 cisco 的 switch 是非常值得去深入了解
學完之後對網路的了解真的幫助很大
 下篇 來介紹一下網路學習利器 GNS3</content></entry><entry><title>day2 CCNA – switch (雷)這東西不簡單</title><url>https://lovesharepc.github.io/2021/09/16/day2-ccna-%E6%8C%87%E5%8D%97-1/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html">  心想 在尚未成為機房管理員前
我以為我未來的工作會是這樣
認真工作大概是這樣
或是這樣
&lt;- 這圖從 NVIDIA 官網截來的 (^|0|^)
 看起來一整個帥，於是頭也不回上了
 努力過程 CCNA
一個網路設備的領導廠牌
心想著只要學會他，網路就通通都會了
但實在很窮，在參考 GOOGLE 大量心得後
選擇旁門左道的方式
買了書 + 題庫+模擬器大量練習來通過
 CCNA 主要是 switch及 router 內容的證照
在開始學之前 我的認知是
switch就是 layer2
router就是 layer3
 switch cisco switch 跟一般市面上看到的 switch 有什麼不一樣?
簡單來說，他們都在幹一樣的事，layer2 的交換封包
那 cisco switch 有什麼特異功能? 需要專門的證照來襯托它 щ(゜ロ゜щ)?
在商用的網路架構中，我們會選擇使用 管理型 switch
管理型 switch 就是你可控制它
就是說，你看某人不爽，可以斷他網路 ✧(๑✪д✪)۶ㅂ٩(✪д✪๑)✧
 cisco switch 功能多強? 看他手冊上千頁就知道 很 強
 一般商業環境下常用到的功能有
spanning tree 及一系列防止迴圈功能
vlan 功能，有 N 個網段不必再分 N 台 switch
LAG/LACP ，鏈路整合(頻寬提升、備援機制)
SNMP 監控，哪邊網路慢讓你有軌跡可循
layer3 路由功能，沒錯 switch 可以當路由器喔
書 可以帶您快速進入 switch 的世界
一開始不必挑原文書
只是要先學概念而已
大部分的書有大量的練習
搭配模擬器用，很快就能上手
模擬器 cisco 的模擬器大致分為三種
官方免費的 PacketTracer 儘管內部的模擬器幾乎都是非常老舊的型號
但好在這領域變動不大，基本操作無太大改變
且官方也有在更新
是非常好用的模擬器
這套模擬器也設計部分物理的模擬 (須自己拉元件、開機動作)
模擬器運作速度也很快、具備封包流向分析功能
對入門者學習來說是一大福音
 Cisco-IOU IOU 即 IOS on UNIX
IOS 就是 cisco switch 的作業系統名稱
使用此模擬器需自備 UNIX 平台
並須 license，基本上較少人使用
這個就很像實體了，開機要等 XD
可以使用 GNS3 來進行模擬
實際測試其實跟 PacketTracer 內虛擬的功能差異不大
買了就是你踩雷了 (´°̥̥̥̥̥̥̥̥ω°̥̥̥̥̥̥̥̥｀)
 cisco nexus 9000v cisco nexus 是什麼
主要是超高效能的 data center 平台使用
順便提一下，cisco 主流的 OS 有
IOS – 上一代的 OS ，新機器已不再使用 IOS XE – 接續 IOS ，操作基本與 IOS 相同，為目前主流 NXOS – nexus 系列 switch 用，指令與 IOS 部分不同，大部分可通用 cisco nexus 9000v
就是 nexus 系列的模擬器
可以跑在 GNS3 平台
不須 license
如果要學習 nexus 系列專有功能，這一定要有
不過缺點是 VM 開機必須吃相當的資源
並且數量一多容易當機 =.=
考題 cisco 的考題資源在網路上相當豐富
不須為了背考題可恥
因為你不背基本上也過不了
這很現實，因為考題其實都考…..痾…..蠻概念的
就算我平時有在使用 cisco 設備
要我回去直接考試也是直接慘死
 考題答案有時會錯
所以在看考題時，不要死背答案
看到考題試著自己挖掘答案，培養解決問題的能力，這才是工程師
 基本上要從開始準備到通過為止
你要先準備好銀彈及 1 個月以上非常用心的準備
這時候我的心態是，我就要成為機房內的主宰啦，看著 CCNA 這個題材在書局都是一本厚厚的書
肯定很有價值
就算這東西付出很多，都是值得的
 誰知道，這根本是這行業不歸路的開始，學習、學習、再學習
付出 N 個瘋狂學習沒自己生活的日子
卻遲遲沒辦法像那些圖中的人一樣瀟灑，原因我們繼續看下去
 下一篇接續 cisco router 的主題
  </content></entry><entry><title>day1 只要有錢，什麼缺都做 (雷)系統工程師</title><url>https://lovesharepc.github.io/2021/09/15/day1-%E5%8F%AA%E8%A6%81%E6%9C%89%E9%8C%A2%EF%BC%8C%E4%BB%80%E9%BA%BC%E7%BC%BA%E9%83%BD%E5%81%9A/</url><categories><category>鐵人賽2021</category></categories><tags/><content type="html"> 乞丐 當時剛退伍我就跟乞丐沒兩樣，大學努力存的錢，都在當兵時消失殆盡，入不敷出的狀況下，總算退伍了
存款也快見底了
當時幾乎唯一的選擇就是打工先過日子
但也想說要碰碰運氣，找看看有沒有比較專業性質的工作
賺不多但能累積經驗的
 當時我的人生目標就是想去當機房管理員
在那時完全沒接觸過伺服器(當然也是因為窮啦)，頂多就是自己拆拆個人電腦、筆電
重灌 windows 、 linux 來玩
有著微薄的專業知識，於是就面試了幾個系統工程師的缺
從個人電腦 client 疑難雜症開始處理，想著在企業中也能接觸到伺服器，不斷進步提升自我價值
開始上工 很幸運的，馬上就找到缺，職位叫做駐點系統工程師，既能賺錢又不用打工浪費人生
上工後發現，是前人要走了，這沒什麼
殊不知，我是駐點在此的唯一系統工程師
回顧從入這行開始到現在
有件事很肯定 這行業注定是孤獨的 
這行業慣性似乎就是人力精簡再精簡， 在一般公司中 ，所謂的 IT team 就是一個人包山包海，哈哈…
 上工一年 在資訊發達的年代，有問題就 google ，但再怎樣 google 沒辦法有實務經驗根本沒用
這份工作雇主不給碰機房，僅能碰 client
就算是 server 有問題，只能回報不能協助也就不能吸趴
剛好算是小公司，人不多，跑 client 端，工作算是輕鬆
硬體壞就換硬體，軟體壞就重裝，word 不會用就教他
一天 8hr 幾乎 1 hr 有事做
剩下不管你
很閒但薪水超低，+合約制萬年死薪水
(合約制=非正式員工，只當你短期人力使用)
職位是工程師，有著專業知識卻拿著比超商員工更低的薪水
AKA 職業工具人
超沒前途
進修 在這一年空檔進修後
人生第一張證照到手
cisco 的 CCNA
大家都說這是網路入門
到此時第一份工作為期一年的合約也結束
請公司改派至其他地方駐點
總算可以往機房邁進了
總算能當個比較像樣的系統工程師了
 第一份工作結束 CCNA 考過至今 6 年，我還是覺得，這行業付出的投資跟回報超不成比例
CCNA 正常去上課+考試，付出都是以萬為單位
有些公司覺得這是基本該擁有的，有些公司意思加薪 1K
且證照考試內容跟實務沒太多關係
大概是因為這樣，所以這張價值萬元且有期限的證照，大部分的人就直接任由其過期，不會重新再次取得
畢竟只是入此行的敲門磚，有經驗後根本沒人去鳥你這張證照
 回顧剛入這行到現在
證照難考，價值又不高
剛入行小白幾乎都沒老鳥能帶
制度差、待遇差
這行業可以說本身就是地雷，只有真心愛這行業才待的住
 下篇文章，就從我最開始學習的 CCNA 開始說起
 </content></entry><entry><title>open ssl 憑證工具</title><url>https://lovesharepc.github.io/2020/05/20/open-ssl-%E6%86%91%E8%AD%89%E5%B7%A5%E5%85%B7/</url><categories><category>網管</category></categories><tags><tag>openssl</tag></tags><content type="html"> linux 下載
https://www.openssl.org/source/
windows 下載
https://slproweb.com/products/Win32OpenSSL.html
 操作
https://www.sslshopper.com/article-most-common-openssl-commands.html
 產生 private KEY 、 CSR
D:\key>openssl.exe" req -new -newkey rsa:2048 -nodes -keyout Wildcard.key -out Wildcard.csr
Generating a RSA private key
........................+++++
....+++++
writing new private key to 'Wildcard.key'
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:TW
State or Province Name (full name) [Some-State]:Taiwan
Locality Name (eg, city) []:Taichung
Organization Name (eg, company) [Internet Widgits Pty Ltd]:english company name
Organizational Unit Name (eg, section) []:IT
Common Name (e.g. server FQDN or YOUR name) []:*.domain.name
Email Address []:whocare@who.who
Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:P@ssw0rd
An optional company name []:
==================================
將 CSR 給憑證單位簽發憑證
==================================
換回
root.cer 根憑證
server.cer 主憑證
uca_1.cer 鍊憑證1
uca_2.cer 鍊憑證2
合併鍊憑證
copy uca_2.cer+uca_1.cer chain.cer
轉換憑證 pfx
D:\key>openssl pkcs12 -export -out Wildcard.pfx -inkey Wildcard.key -in server.cer -certfile root.cer -certfile chain.cer
Enter Export Password:自訂 PFX 密碼
Verifying - Enter Export Password:自訂 PFX 密碼
 </content></entry><entry><title>linux 新增硬碟、multipath 指令</title><url>https://lovesharepc.github.io/2020/05/07/linux-%E6%96%B0%E5%A2%9E%E7%A1%AC%E7%A2%9F%E3%80%81multipath-%E6%8C%87%E4%BB%A4/</url><categories><category>Centos 7</category><category>Centos 8</category><category>proxmox VE</category></categories><tags/><content type="html"> When Adding a New Disk echo "- - -" > /sys/class/scsi_host/host1/scan
echo "- - -" > /sys/class/scsi_host/host2/scan
echo "- - -" > /sys/class/scsi_host/host3/scan
echo "- - -" > /sys/class/scsi_host/host4/scan
echo "- - -" > /sys/class/scsi_host/host5/scan
echo "- - -" > /sys/class/scsi_host/host6/scan
echo "- - -" > /sys/class/scsi_host/host7/scan
echo "- - -" > /sys/class/scsi_host/host8/scan
echo "- - -" > /sys/class/scsi_host/host9/scan
echo "- - -" > /sys/class/scsi_host/host10/scan
echo "- - -" > /sys/class/scsi_host/host11/scan
echo "- - -" > /sys/class/scsi_host/host12/scan
echo "- - -" > /sys/class/scsi_host/host13/scan
echo "- - -" > /sys/class/scsi_host/host14/scan
echo "- - -" > /sys/class/scsi_host/host15/scan
echo "- - -" > /sys/class/scsi_host/host16/scan
echo "- - -" > /sys/class/scsi_host/host17/scan
echo "- - -" > /sys/class/scsi_host/host18/scan
echo "- - -" > /sys/class/scsi_host/host19/scan
echo "- - -" > /sys/class/scsi_host/host20/scan
When Increasing Existing Disk Size echo "1" > /sys/class/block/sdX/device/rescan ..where X is the device you increased and want to rescan.  maltipath 產生預設 maltipath 設定檔
mpathconf --enable --user_friendly_names y --find_multipaths y
config file
/etc/multipath.conf
服務重啟
systemctl restart multipathd
顯示路徑
multipath -ll
重新搜尋
multipath -F
multipath -v2    選項 描述 -l &lt;td width="460"> &lt;span class="fontstyle0">顯示從 &lt;/span>&lt;span class="fontstyle2">sysfs &lt;/span>&lt;span class="fontstyle0">與 &lt;/span>&lt;span class="fontstyle3">device mapper &lt;/span>&lt;span class="fontstyle0">蒐集而來的 &lt;/span>&lt;span class="fontstyle3">multipath &lt;/span>&lt;span class="fontstyle0">設定。&lt;/span> &lt;/td> -ll &lt;td width="460"> &lt;span class="fontstyle0">顯示從 &lt;/span>&lt;span class="fontstyle2">sysfs&lt;/span>&lt;span class="fontstyle0">、&lt;/span>&lt;span class="fontstyle3">device mapper&lt;/span>&lt;span class="fontstyle0">、與其它系統的可用元件蒐集而來的&lt;br /> &lt;/span>&lt;span class="fontstyle3">multipath &lt;/span>&lt;span class="fontstyle0">設定。&lt;/span> &lt;/td> -f 裝置 &lt;td width="460"> &lt;span class="fontstyle0">移除指定的 &lt;/span>&lt;span class="fontstyle3">multipath &lt;/span>&lt;span class="fontstyle0">裝置。&lt;/span> &lt;/td> -F &lt;td width="460"> &lt;span class="fontstyle0">移除所有未使用的 &lt;/span>&lt;span class="fontstyle3">multipath &lt;/span>&lt;span class="fontstyle0">裝置。&lt;/span> &lt;/td> -w device &lt;td width="460"> &lt;span class="fontstyle0">（&lt;/span>&lt;span class="fontstyle3">Red Hat Enterprise Linux 6.6 &lt;/span>&lt;span class="fontstyle0">以上）移除&lt;/span>&lt;span class="fontstyle2">wwids &lt;/span>&lt;span class="fontstyle0">檔案中特定裝置的&lt;br /> &lt;/span>&lt;span class="fontstyle2">wwid&lt;/span>&lt;span class="fontstyle0">。&lt;/span> &lt;/td> -W &lt;td width="460"> &lt;span class="fontstyle0">（&lt;/span>&lt;span class="fontstyle3">Red Hat Enterprise Linux 6.6 &lt;/span>&lt;span class="fontstyle0">以上）重新設定&lt;/span>&lt;span class="fontstyle2">wwids &lt;/span>&lt;span class="fontstyle0">檔案，以僅納入現有&lt;br /> 的 &lt;/span>&lt;span class="fontstyle3">multipath &lt;/span>&lt;span class="fontstyle0">裝置。&lt;/span> &lt;/td> 5.10. 使用 DMSETUP 指令，決定 DEVICE MA
  其他細節
https://access.redhat.com/documentation/zh-tw/red_hat_enterprise_linux/6/pdf/dm_multipath/Red_Hat_Enterprise_Linux-6-DM_Multipath-zh-TW.pdf</content></entry><entry><title>centos 校時設定 chrony</title><url>https://lovesharepc.github.io/2020/05/06/centos-%E6%A0%A1%E6%99%82%E8%A8%AD%E5%AE%9A-chrony/</url><categories><category>Centos 7</category><category>Centos 8</category></categories><tags><tag>chrony</tag><tag>ntp</tag></tags><content type="html"> centos 手動及自動校時
手動 查詢時間、時區
date
ls -l /etc/localtime 設定時間、時區
date -s "2020-05-05 12:12:12"
mv /etc/localtime /etc/localtime.bak
ln -s /usr/share/zoneinfo/Asia/Taipei /etc/localtime
 自動 設定時間
yum install chrony
systemctl stop chronyd
systemctl start chronyd
chronyc -a sources
chronyc -a makestep       </content></entry><entry><title>linux 系統壓力測試</title><url>https://lovesharepc.github.io/2020/05/03/linux-%E7%B3%BB%E7%B5%B1%E5%A3%93%E5%8A%9B%E6%B8%AC%E8%A9%A6/</url><categories><category>Centos 7</category><category>Centos 8</category></categories><tags><tag>壓力測試</tag></tags><content type="html"> 壓力測試
用來測試系統效能及好壞
取得系統資訊 lscpu
lsmem
lspci  測試 network (iperf3) 安裝工具 iperf3 centos yum install https://iperf.fr/download/fedora/iperf3-3.1.3-1.fc24.x86_64.rpm -y debian wget https://iperf.fr/download/ubuntu/iperf3_3.1.3-1_amd64.deb wget https://iperf.fr/download/ubuntu/libiperf0_3.1.3-1_amd64.deb dpkg -i iperf3_3.1.3-1_amd64.deb libiperf0_3.1.3-1_amd64.deb  測試網路頻寬 啟動 server 端
iperf3 -s
啟動 client 端 (測試 100G 雙向)
iperf3 -c &lt;server ip> -n 100G -R -i 10 -P 10 && iperf3 -c &lt;server ip> -n 100G -i 10 -P 10 其他參數 Usage: iperf [-s|-c host] [options]
iperf [-h|--help] [-v|--version]
Server or Client:
-p, --port # server port to listen on/connect to
-f, --format [kmgKMG] format to report: Kbits, Mbits, KBytes, MBytes
-i, --interval # seconds between periodic bandwidth reports
-F, --file name xmit/recv the specified file
-A, --affinity n/n,m set CPU affinity
-B, --bind &lt;host> bind to a specific interface
-V, --verbose more detailed output
-J, --json output in JSON format
--logfile f send output to a log file
-d, --debug emit debugging output
-v, --version show version information and quit
-h, --help show this message and quit
Server specific:
-s, --server run in server mode
-D, --daemon run the server as a daemon
-I, --pidfile file write PID file
-1, --one-off handle one client connection then exit
Client specific:
-c, --client &lt;host> run in client mode, connecting to &lt;host>
-u, --udp use UDP rather than TCP
-b, --bandwidth #[KMG][/#] target bandwidth in bits/sec (0 for unlimited)
(default 1 Mbit/sec for UDP, unlimited for TCP)
(optional slash and packet count for burst mode)
-t, --time # time in seconds to transmit for (default 10 secs)
-n, --bytes #[KMG] number of bytes to transmit (instead of -t)
-k, --blockcount #[KMG] number of blocks (packets) to transmit (instead of -t or -n)
-l, --len #[KMG] length of buffer to read or write
(default 128 KB for TCP, 8 KB for UDP)
--cport &lt;port> bind to a specific client port (TCP and UDP, default: ephemeral port)
-P, --parallel # number of parallel client streams to run
-R, --reverse run in reverse mode (server sends, client receives)
-w, --window #[KMG] set window size / socket buffer size
-C, --congestion &lt;algo> set TCP congestion control algorithm (Linux and FreeBSD only)
-M, --set-mss # set TCP/SCTP maximum segment size (MTU - 40 bytes)
-N, --no-delay set TCP/SCTP no delay, disabling Nagle's Algorithm
-4, --version4 only use IPv4
-6, --version6 only use IPv6
-S, --tos N set the IP 'type of service'
-L, --flowlabel N set the IPv6 flow label (only supported on Linux)
-Z, --zerocopy use a 'zero copy' method of sending data
-O, --omit N omit the first n seconds
-T, --title str prefix every output line with this string
--get-server-output get results from server
--udp-counters-64bit use 64-bit counters in UDP test packets
--no-fq-socket-pacing disable fair-queuing based socket pacing
  測試硬碟 IO (fio) 安裝工具 fio debian apt install fio centos yum install fio 寫設定檔 設定檔可以快速的測試各種參數
nano /fio.conf
[global]
# where to test io
filename=/dev/sdb/jobfile.fio
size=10g
io_size=10g
ioengine=libaio
group_reporting
wait_for_previous
[4kSeqRead]
name=4kSeqRead
bs=4k
readwrite=read
[4kSeqwirte]
name=4kSeqwirte
bs=4k
readwrite=write
[4kRandRead]
name=4kRandRead
bs=4k
readwrite=randread
[4kRandwrite]
name=4kRandwrite
bs=4k
readwrite=randwrite
[4mSeqRead]
name=4mSeqRead
bs=4m
readwrite=read
[4mSeqwirte]
name=4mSeqwirte
bs=4m
readwrite=write
[4mRandRead]
name=4mRandRead
bs=4m
readwrite=randread
[4mRandwrite]
name=4mRandwrite
bs=4m
readwrite=randwrite
 執行測試 fio fio.conf
rm jobfile.fio  測試 CPU &amp; memory speed (sysbench) 安裝 sysbench https://github.com/akopytov/sysbench
Debian/Ubuntu
curl -s https://packagecloud.io/install/repositories/akopytov/sysbench/script.deb.sh | sudo bash
sudo apt -y install sysbench
RHEL/CentOS:
curl -s https://packagecloud.io/install/repositories/akopytov/sysbench/script.rpm.sh | sudo bash
sudo yum -y install sysbench  測試 CPU 效能 執行測試 30s 算質數數量
sysbench --threads=1 --time=60 cpu run 結果以 total number of events 作為性能基準
root@pve1:/vm-storage# sysbench --threads=1 cpu --cpu-max-prime=1000 --time=30 run
sysbench 1.0.20 (using bundled LuaJIT 2.1.0-beta2)
Running the test with following options:
Number of threads: 1
Initializing random number generator from current time
Prime numbers limit: 1000
Initializing worker threads...
Threads started!
CPU speed:
events per second: 18476.94
General statistics:
total time: 30.0001s
total number of events: 554357
Latency (ms):
min: 0.05
avg: 0.05
max: 1.45
95th percentile: 0.06
sum: 29875.48
Threads fairness:
events (avg/stddev): 554357.0000/0.00
execution time (avg/stddev): 29.8755/0.00
 測試
以 total number of events 作為性能基準
sysbench --threads=1 --time=60 memory --memory-total-size=1024G run  </content></entry><entry><title>linux 自建指令</title><url>https://lovesharepc.github.io/2020/04/29/linux-%E8%87%AA%E5%BB%BA%E6%8C%87%E4%BB%A4/</url><categories><category>未分類</category></categories><tags/><content type="html"> alias ll='ls -al'  </content></entry><entry><title>librenms 安裝筆記 1090213</title><url>https://lovesharepc.github.io/2020/02/13/librenms-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-1090213/</url><categories><category>網管</category></categories><tags/><content type="html">  yum install epel-release
指定 php 版本
yum install -y http://rpms.remirepo.net/enterprise/remi-release-7.rpm
yum install -y yum-utils
yum-config-manager --disable remi-php54
yum-config-manager --enable remi-php73
新版 mariadb
curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash
新版 apache
cd /etc/yum.repos.d && wget https://repo.codeit.guru/codeit.el`rpm -q --qf "%{VERSION}" $(rpm -q --whatprovides redhat-release)`.repo
yum install git cronie fping jwhois ImageMagick mtr MySQL-python net-snmp net-snmp-utils nmap python-memcached rrdtool policycoreutils-python httpd mariadb mariadb-server unzip wget nano yum install mod_php php-cli php-common php-curl php-gd php-mbstring php-process php-snmp php-xml php-zip php-memcached php-mysqlnd php -y
useradd librenms -d /opt/librenms -M -r
usermod -a -G librenms apache
cd /opt
git clone https://github.com/librenms/librenms.git
chown -R librenms:librenms /opt/librenms
chmod 770 /opt/librenms
setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ /opt/librenms/cache
setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ /opt/librenms/cache
su - librenms
./scripts/composer_wrapper.php install --no-dev
exit
systemctl start mariadb
mysql -u root
CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost';
FLUSH PRIVILEGES;
exit
nano //etc/my.cnf.d/server.cnf
Within the [mysqld] section please add:
innodb_file_per_table=1
lower_case_table_names=0
systemctl enable mariadb
systemctl restart mariadb
timedatectl set-timezone Asia/Taipei
sed -e 's/memory_limit = 128M/memory_limit = 1024M/' -i /etc/php.ini sed -e 's/max_execution_time = 30/max_execution_time = 3600/' -i /etc/php.ini
sed -e 's/max_input_time = 60/max_input_time = 3600/' -i /etc/php.ini
sed -e 's/upload_max_filesize = 2M/upload_max_filesize = 1024M/' -i /etc/php.ini sed -e 's/post_max_size = 8M/post_max_size = 1024M/' -i /etc/php.ini sed -e 's/^;date.timezone =/date\.timezone ="Asia\/Taipei"/' -i /etc/php.ini
systemctl enable httpd
systemctl start httpd
test
php_admin_value[open_basedir] = "/opt/librenms:/usr/lib64/nagios/plugins:/dev/urandom:/usr/sbin/fping:/usr/sbin/fping6:/usr/bin/snmpgetnext:/usr/bin/rrdtool:/usr/bin/snmpwalk:/usr/bin/snmpget:/usr/bin/snmpbulkwalk:/usr/bin/snmptranslate:/usr/bin/traceroute:/usr/bin/whois:/bin/ping:/usr/sbin/mtr:/usr/bin/nmap:/usr/sbin/ipmitool:/usr/bin/virsh:/usr/bin/nfdump"
nano /etc/httpd/conf.d/librenms.conf
&lt;VirtualHost *:80>
DocumentRoot /opt/librenms/html/
ServerName librenms.example.com
AllowEncodedSlashes NoDecode
&lt;Directory "/opt/librenms/html/">
Require all granted
AllowOverride All
Options FollowSymLinks MultiViews
&lt;/Directory>
&lt;/VirtualHost>
systemctl restart httpd
disable selinux cd ~
nano http_fping.tt
module http_fping 1.0;
require {
type httpd_t;
class capability net_raw;
class rawip_socket { getopt create setopt write read };
}
#============= httpd_t ==============
allow httpd_t self:capability net_raw;
allow httpd_t self:rawip_socket { getopt create setopt write read };
checkmodule -M -m -o http_fping.mod http_fping.tt
semodule_package -o http_fping.pp -m http_fping.mod
semodule -i http_fping.pp
systemctl disable firewalld cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf
nano /etc/snmp/snmpd.conf
Edit the text which says RANDOMSTRINGGOESHERE and set your own community string.
curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro
chmod +x /usr/bin/distro
systemctl enable snmpd
systemctl restart snmpd
cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms
cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms
 </content></entry><entry><title>syslog-ng 過濾設定</title><url>https://lovesharepc.github.io/2020/02/13/syslog-ng-%E9%81%8E%E6%BF%BE%E8%A8%AD%E5%AE%9A/</url><categories><category>網管</category></categories><tags/><content type="html"> ter.
#
# See syslog-ng(8) and syslog-ng.conf(5) for more information.
#
# Note: it also sources additional configuration files (*.conf)
# located in /etc/syslog-ng/conf.d/
options {
flush_lines (2000);
#time_reopen (10);
log_fifo_size (1000);
chain_hostnames (off);
use_dns (no);
use_fqdn (no);
owner("root");
group("adm");
perm(0640);
stats_freq(0);
bad_hostname("^gconfd$");
};
source s_sys {
system();
internal();
# udp(ip(0.0.0.0) port(514));
};
source s_net {
#tcp(port(514) flags(syslog-protocol));
udp(port(514) flags(syslog-protocol));
};
destination d_librenms {
program("/opt/librenms/syslog.php" template ("$HOST||$FACILITY||$PRIORITY||$LEVEL||$TAG||$R_YEAR-$R_MONTH-$R_DAY $R_HOUR:$R_MIN:$R_SEC||$MSG||$PROGRAM\n") template-escape(yes));
};
destination d_cons { file("/dev/console"); };
destination d_mesg { file("/var/log/messages"); };
destination d_auth { file("/var/log/secure"); };
destination d_mail { file("/var/log/maillog" flush_lines(10)); };
destination d_spol { file("/var/log/spooler"); };
destination d_boot { file("/var/log/boot.log"); };
destination d_cron { file("/var/log/cron"); };
destination d_kern { file("/var/log/kern"); };
destination d_mlal { usertty("*"); };
destination d_firewall_system { file("/var/log/syslog-ng_remote/IP_${SOURCEIP}_SystemLog"); };
destination d_firewall_traffic { file("/var/log/syslog-ng_remote/IP_${SOURCEIP}_TrafficLog"); };
destination d_imperva_SecurityEvent { file("/var/log/syslog-ng_remote/IP_${SOURCEIP}_SecurityEvent"); };
filter f_kernel { facility(kern); };
filter f_default { level(info..emerg) and
not (facility(mail)
or facility(authpriv)
or facility(cron)); };
filter f_auth { facility(authpriv); };
filter f_mail { facility(mail); };
filter f_emergency { level(emerg); };
filter f_news { facility(uucp) or
(facility(news)
and level(crit..emerg)); };
filter f_boot { facility(local7); };
filter f_cron { facility(cron); };
filter f_firewall_1_traffic {(host(172.28.10.254))};
filter f_firewall_1_system {(host(172.28.10.254)and not match("traffic"))};
filter f_firewall_2_traffic {(host(172.28.100.38))};
filter f_firewall_2_system {(host(172.28.100.38)and not match("TRAFFIC"))};
filter f_imperva_SecurityEvent {(host(172.28.11.200))};
filter f_imperva_SystemEvent {(host(172.28.11.200)and match("SystemEvent"))};
filter f_noLogToLibrenms1 {(host(172.28.11.200)) };
filter f_noLogToLibrenms2 {(host(172.28.10.254)) };
filter f_noLogToLibrenms3 {(host(172.28.100.38)) };
log {source(s_net);filter(f_firewall_1_traffic);destination(d_firewall_traffic); };
log {source(s_net);filter(f_firewall_1_system);destination(d_firewall_system); };
log {source(s_net);filter(f_firewall_2_traffic);destination(d_firewall_traffic); };
log {source(s_net);filter(f_firewall_2_system);destination(d_firewall_system);;};
log {source(s_net);filter(f_imperva_SecurityEvent);destination(d_imperva_SecurityEvent); };
log {source(s_net);filter(f_imperva_SystemEvent);destination(d_firewall_system);;};
log {source(s_net); filter(f_firewall_1_system); destination(d_librenms);};
log {source(s_net); filter(f_firewall_2_system); destination(d_librenms);};
log {source(s_net); filter(f_imperva_SystemEvent); destination(d_librenms);};
log {
source(s_net);
source(s_sys);
filter(f_noLogToLibrenms1);
filter(f_noLogToLibrenms2);
filter(f_noLogToLibrenms3);
destination(d_librenms);
};
# Source additional configuration files (.conf extension only)
@include "/etc/syslog-ng/conf.d/*.conf"
# vim:ft=syslog-ng:ai:si:ts=4:sw=4:et:
[root@localhost syslog-ng]#
 </content></entry><entry><title>ESXi import OVA from datastore</title><url>https://lovesharepc.github.io/2020/02/06/esxi-import-ova-from-datastore/</url><categories><category>未分類</category></categories><tags/><content type="html"> https:///folder</content></entry><entry><title>UrBackup 跨平台開源中央備份軟體</title><url>https://lovesharepc.github.io/2020/02/02/urbackup-%E8%B7%A8%E5%B9%B3%E5%8F%B0%E4%B8%AD%E5%A4%AE%E5%82%99%E4%BB%BD%E8%BB%9F%E9%AB%94/</url><categories><category>網管</category></categories><tags/><content type="html"> 官網 https://www.urbackup.org/index.html
 主打功能 fast 快速-支援增量備份
Easy to setup 簡單上手，不需要什麼設定
Space efficient 支援重複數據刪除
Free Software. 採用AGPLv3+.授權的免費軟體
Web interface 網頁管理
Consistent backups while in use 可線上備份
Backups via Internet 可跨網際網路備份
Multi-platform. 跨平台
** **
** **
** **
Full feature list 功能清單 以下不專業簡易翻譯
Full and incremental image and file backups: Whole partitions can be saved as well as single directories
支援全備份、增量備份、支援映像檔和檔案模式
Clients for Windows, Linux and FreeBSD
Client 支援 windows 、Linux 、 FreeBSD
Fast calculation of file tree differences leads to very fast incremental file backups – only new changed files will be retransmitted
強調增量備份性能佳
Only used and changed hard disk sectors are transmitted during an incremental image backup
強調增量備份能力
Image and file backups while the system is running
可以線上備份
Consistent backups of used files on Windows and Linux. For example Outlook .pst files
檔案可保留原格式備份
Same files on different computers are saved only once. Less server storage space is needed for your backups (file level deduplication)
支援重複數據刪除
Clients can change their settings like backup frequency or number of backups and can take a look at log files of their backups
Client 端可以控制備份作業，包含備份紀錄及可用還原
Next to no configuration. Install, select the directories you want to backup and watch it backup
超容易上手，1.安裝 2.指定備份檔存放位置 3.開始使用
Client warns if there was no backup for some time
Client 可以收到告警功能
Webinterface that shows the status of the clients, current activities and statistics. It allows the administrator to change backup settings and override the settings for the clients. Existing file backups can be browsed, files from these backups can be extracted or restore processes started
採用WEB管理，管理者能控制權限
Reports about backups can be sent to users or administrators
有報告機制，可送至users or administrators
Secure and efficient backups to your own server via Internet if the client is currently not in your local network
強調安全、高效能的備份機制
File metadata such as last modified time is backed up
檔案詳細資料皆有備份，例如修改時間
Easy to use file and image restore (via restore CD/USB stick)
官方提供裸機還原工具
Easy to configure and use file backup access
強調使用上簡易
E-Mail alerts if a machine isn’t backed up for a configurable amount of time
有Email 告警功能
** **
Limitations 限制 Image backups only work with NTFS formatted volumes and with the Windows client. The drives must be MBR or GPT partitioned, the partition must be a primary one. Dynamic volumes are not supported. Mirrored dynamic volumes work, but are not officially supported. Backup to VHD files only works for volumes with a size of less than 2TB. Explanation:
The image backup is mainly designed to backup the boot volume (C:) of Windows systems such that they can be brought back quickly e.g. after a hard disk failure or hardware loss. Other data on other volumes should be backed up and restored via file backup. If the server uses ZFS or btrfs as backup storage file system it can backup to raw image files which have no size restriction.
 映像檔備份僅支援 NTFS、ZFS、btrfs三種檔案系統
備份成 VHD 格式映像檔最大至 2TB (目前僅支援 VHD)
 其他優點 支援多國語言，包括繁中(部分)
Server and client 架構
 快速使用步驟 下載 server 端安裝 選擇存放備份目錄 去網頁管理介面設定備份目錄 Server 會自動搜尋 client 端 安裝 client 端 完成 開始備份
 簡易實測心得 就如同快速使用步驟一樣，上手超簡易，傻子都會、功能又齊全
設定面也相當齊全，包含自動備份規則
傳輸加密規則
備份歸檔
速度限制…. 該有的都有
對比之前介紹的 Bareos
覺得花大把時間、精力根本傻子一樣</content></entry><entry><title>CoreDNS – Cloud Native DNS</title><url>https://lovesharepc.github.io/2020/02/01/coredns-cloud-native-dns/</url><categories><category>網管</category></categories><tags/><content type="html"> 前面介紹過 MaraDNS
今天來說 CoreDNS
同樣支援跨平台、opensource
主打 Cloud Native DNS
其更過人的長處在於
MaraDNS 稍微有點複雜
CoreDNS 更進一步簡化
並支援 Plugins
想要什麼，就有什麼
CoreDNS 官網 https://coredns.io/
 優點 節錄自 https://github.com/coredns/coredns
Serve zone data from a file; both DNSSEC (NSEC only) and DNS are supported (file and auto). Retrieve zone data from primaries, i.e., act as a secondary server (AXFR only) (secondary). Sign zone data on-the-fly (dnssec). Load balancing of responses (loadbalance). Allow for zone transfers, i.e., act as a primary server (file). Automatically load zone files from disk (auto). Caching of DNS responses (cache). Use etcd as a backend (replacing SkyDNS) (etcd). Use k8s (kubernetes) as a backend (kubernetes). Serve as a proxy to forward queries to some other (recursive) nameserver (forward). Provide metrics (by using Prometheus) (metrics). Provide query (log) and error (errors) logging. Integrate with cloud providers (route53). Support the CH class: version.bind and friends (chaos). Support the RFC 5001 DNS name server identifier (NSID) option (nsid). Profiling support (pprof). Rewrite queries (qtype, qclass and qname) (rewrite and template). Block ANY queries (any).    開始使用 進入官網按下 Download 就會發現 CoreDNS 都已經編譯好各種平台了，貼心啊
以 windows 為例
下載後僅有一個執行檔
直接執行預設就有 whoami and _log _兩個 plugins
建立 config 在同目錄下建立 Corefile
# 監聽 53 port .:53 {
forward . 8.8.8.8:53
errors
log
}
# 建立 example.org domain
# 相關紀錄位於 db.example.org 格式請參考 https://docs.cloud.oracle.com/en-us/iaas/Content/DNS/Reference/formattingzonefile.htm
example.org {
file db.example.org
errors
log
}
建立 db.example.org flie
格式請參考 RFC 1035 https://docs.cloud.oracle.com/en-us/iaas/Content/DNS/Reference/formattingzonefile.htm
example.org. IN SOA dns.example.org. domains.example.org. (
2012062701 ; serial
300 ; refresh
1800 ; retry
14400 ; expire
300 ) ; minimum
@ IN NS dns.example.com.
@ 42000 IN A 127.0.0.1
@ 42000 IN A 127.0.0.2
@ 42000 IN A 127.0.0.3
api 42000 IN CNAME sample.service.dns.example.de.
www 42000 IN CNAME sample.service.dns.example.de.
blog 42000 IN CNAME sample.service.dns.example.de.
@ 3600 IN MX 1 ASPMX1.L.google.com.
@ 3600 IN MX 1 ASPMX2.L.google.com.
@ 3600 IN MX 1 ASPMX3.L.google.com.
@ 300 IN TXT "v=spf1 include:_spf.google.com ~all"  執行、測試 .\\coredns.exe  nslookup
> server 127.0.0.1
預設伺服器: [127.0.0.1]
Address: 127.0.0.1
> example.org
伺服器: [127.0.0.1]
Address: 127.0.0.1
名稱: example.org
Addresses: 127.0.0.1
127.0.0.2
127.0.0.3  </content></entry><entry><title>MaraDNS 小型 open-source DNS server</title><url>https://lovesharepc.github.io/2020/01/31/maradns-%E5%B0%8F%E5%9E%8B-open-source-dns-server/</url><categories><category>網管</category></categories><tags/><content type="html"> MaraDNS https://maradns.samiam.org/index.html
簡介 MaraDNS 是一款 open-source 、免費的 DNS server
優點
支援 windows 、 UNIX like 小型 輕量 簡單使用 安全  MaraDNS 下載
下載後 MaraDNS 分成三個部分
MaraDNS – DNS server
askmara – DNS queries (可供你測試)
Deadwood – DNS recursive
 開始使用 執行 mkSecretTxt.exe
產生 secret.txt
使用記事本編輯 mararc 檔案進行 MaraDNS server 設定
新增 DNS domain
 範例
mararc 檔案
ipv4_bind_addresses = "127.0.0.1" timestamp_type = 2 random_seed_file = "secret.txt" ## 新增網域 local.com 設定檔 local.com.txt csv2 = {} csv2["local.com."] = "local.com.txt" 新增一個 local.com.txt 檔案
# 新增 A Name # % -> 帶入網域 esx1.% = esx1.local.com esx1.% 192.168.43.11 ~ # The format of a Domain Zone file # example.com. NS ns1.example.com. ~ # ns1.example.com. 10.10.10.19 ~ # example.com. 10.10.10.19 ~ # www.example.com. 10.10.10.19 ~ # example.com. MX 10 mail1.example.com. ~ # mail1.example.com. 10.10.10.19 ~ # Translated into English, the above lines say: # One name server for example.com is called ns1.example.com. # The IP for ns1.example.com is 10.10.10.19 # The IP for example.com (in other words, the machine a web browser should hit if one selects http://example.com/) is 10.10.10.19 # The IP for www.example.com is 10.10.10.19 # The name of the machine which processes incoming mail, which has a priority of ten (lower priority numbers are more important), is called mail1.example.com. # The IP for mail1.example.com is 10.10.10.19 # # 更多細節請參考文件 https://maradns.samiam.org/tutorial/man.csv2.html  測試 啟動 CMD nslookup > server 127.0.0.1 預設伺服器: [127.0.0.1] Address: 127.0.0.1 > esx1.local.com 伺服器: [192.168.43.206] Address: 192.168.43.206 名稱: esx1.local.com Address: 192.168.43.11  </content></entry><entry><title>PowerShell 安全性警告 關閉</title><url>https://lovesharepc.github.io/2020/01/31/powershell-%E5%AE%89%E5%85%A8%E6%80%A7%E8%AD%A6%E5%91%8A-%E9%97%9C%E9%96%89/</url><categories><category>網管</category></categories><tags/><content type="html"> Set-ExecutionPolicy [-ExecutionPolicy] {Unrestricted | RemoteSigned | AllSigned | Restricted | Default | Bypass | U ndefined} [[-Scope] {Process | CurrentUser | LocalMachine | UserPolicy | MachinePolicy}] [-Confirm] [-Force] [-What If] [&lt;CommonParameters>] 關閉警告 Set-ExecutionPolicy Bypass  </content></entry><entry><title>VMware ESXi Direct Console 按鍵表</title><url>https://lovesharepc.github.io/2020/01/30/vmware-esxi-direct-console-%E6%8C%89%E9%8D%B5%E8%A1%A8/</url><categories><category>VMware</category></categories><tags/><content type="html"> 動作 &lt;td width="277"> &lt;strong>按鍵&lt;/strong> &lt;/td> 檢視和變更組態 &lt;td width="277"> F2 &lt;/td> 將使用者介面變更為高對比模式 &lt;td width="277"> F4 &lt;/td> 關閉或重新啟動主機 &lt;td width="277"> F12 &lt;/td> 檢視 VMkernel 記錄 &lt;td width="277"> Alt+F12 &lt;/td> 切換至 Shell 主控台
&lt;p> Troubleshooting mode Options&lt;br /> ESXi Shell 要開&lt;/td> &lt;td width="277"> Alt+F1 &lt;/td>&lt;/tr> &lt;tr> &lt;td width="277"> 切換至 Direct Console 使用者介面 &lt;/td> &lt;td width="277"> Alt+F2 &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 在欄位之間移動選取項目 &lt;/td> &lt;td width="277"> 方向鍵 &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 選取功能表項目 &lt;/td> &lt;td width="277"> Enter &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 切換值 &lt;/td> &lt;td width="277"> 空格鍵 &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 確認敏感命令，例如重設組態預設值 &lt;/td> &lt;td width="277"> F11 &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 儲存並結束 &lt;/td> &lt;td width="277"> Enter &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 結束而不儲存 &lt;/td> &lt;td width="277"> Esc &lt;/td> &lt;/tr> &lt;tr> &lt;td width="277"> 結束系統記錄 &lt;/td> &lt;td width="277"> q &lt;/td> &lt;/tr>&lt;/tbody> &lt;/table> &lt;p> &amp;nbsp; &lt;/p> &lt;p> 節錄自 &lt;a href="https://docs.vmware.com/tw/VMware-vSphere/6.7/com.vmware.esxi.install.doc/GUID-E64B4311-11E5-44E8-8DB5-B438B4A14289.html">VMware ESXi 安裝和設定&lt;/a> 手冊 &lt;/p></content></entry><entry><title>FreePBX 網路電話交換軟體</title><url>https://lovesharepc.github.io/2020/01/28/freepbx-%E7%B6%B2%E8%B7%AF%E9%9B%BB%E8%A9%B1%E4%BA%A4%E6%8F%9B%E8%BB%9F%E9%AB%94/</url><categories><category>網管</category></categories><tags/><content type="html"> freepbx https://www.freepbx.org/
是藉由 open-source 軟體 Asterisk 加上 OS、WEB-UI 而成
Asterisk WIKI 介紹 https://zh.wikipedia.org/wiki/Asterisk
 Asterisk 提供的功能很強大
但卻非常難以上手，於是 freepbx 就出現了
藉由 ISO 安裝檔裝到你想要的地方，再藉由 WEB-UI 管理即可
下載 freepbx https://www.freepbx.org/downloads/freepbx-distro/
 底層 OS 採用 centos 7
安裝起來後直接上 web-ui 進行初始化作業，註冊的部分一定要做，否則無法更新含漏洞軟體、網路設定作業
 基本設定 設定 IP 進入 FreePBX Administration admin &#8211; System Admin &#8211; Network Settings
更新模組 admin &#8211; updates &#8211; Module updates check online &#8211; update all &#8211; proceed &#8211; confirm</content></entry><entry><title>Centos 8 安裝 nextcloud</title><url>https://lovesharepc.github.io/2020/01/26/centos-8-%E5%AE%89%E8%A3%9D-nextcloud/</url><categories><category>未分類</category></categories><tags/><content type="html"> 先安裝 apache 、 php 、 mariaDB
 安裝 PHP Add Remi Repository
dnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm
List the available PHP module stream.
dnf module list php
輸出如下
[root@nextcloud yum.repos.d]# dnf module list php
Last metadata expiration check: 0:02:47 ago on Sun 26 Jan 2020 06:28:30 PM CST.
CentOS-8 - AppStream
Name Stream Profiles Summary
php 7.2 [d] common [d], devel, minimal PHP scripting language
php 7.3 common, devel, minimal PHP scripting language
Remi's Modular repository for Enterprise Linux 8 - x86_64
Name Stream Profiles Summary
php remi-7.2 common [d], devel, minimal PHP scripting language
php remi-7.3 common [d], devel, minimal PHP scripting language
php remi-7.4 common [d], devel, minimal PHP scripting language
 選擇 7.3
dnf module enable php:remi-7.3 -y
 安裝其他相依套件 dnf install -y unzip curl wget bash-completion policycoreutils-python-utils mlocate bzip2
dnf install -y httpd php php-gd php-mbstring php-intl php-pecl-apcu php-mysqlnd php-opcache php-json php-zip
systemctl enable httpd 設定 mariaDB nano /etc/my.cnf.d/server.cnf
[mysqld]
...
transaction_isolation = READ-COMMITTED
binlog_format = ROW
...
systemctl restart mariadb
mysql -u root -p
CREATE USER 'nextcloud'@'localhost' IDENTIFIED BY 'nextcloudPW';
CREATE DATABASE IF NOT EXISTS nextcloud CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
GRANT ALL PRIVILEGES on nextcloud.* to 'nextcloud'@'localhost';
FLUSH privileges;  安裝 NextCloud 下載 nextcloud web-installer
cd /var/www/html/ && wget https://download.nextcloud.com/server/installer/setup-nextcloud.php
cd /var/www/ && chown apache: -R html   使用瀏覽器進行後續設定
http://{server-ip}/setup-nextcloud.php
 </content></entry><entry><title>Centos 8 install mariaDB</title><url>https://lovesharepc.github.io/2020/01/26/centos-8-install-mariadb/</url><categories><category>未分類</category></categories><tags/><content type="html">  curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash  sudo dnf install MariaDB-server -y sudo systemctl start mariadb sudo systemctl enable mariadb 執行安全性設定 mysql_secure_installation  </content></entry><entry><title>Centos 8 設定 IP</title><url>https://lovesharepc.github.io/2020/01/26/centos-8-%E8%A8%AD%E5%AE%9A-ip/</url><categories><category>Centos 8</category></categories><tags/><content type="html"> 設定 IP 主要有兩種方法
tui 工具 (text ui)
nmtui
 與
 cli 工具
nmcli
 推薦使用
nmtui
nmtui 是在文字介面為基礎
建立起 ui 畫面
   nmcli nmcli 相關指令如下
https://developer.gnome.org/NetworkManager/stable/nmcli.html</content></entry><entry><title>Centos 8 套件管理工具 、 EPEL</title><url>https://lovesharepc.github.io/2020/01/26/centos-8-%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E3%80%81-epel/</url><categories><category>Centos 8</category></categories><tags/><content type="html"> Centos 8 開始
採用了 DNF 取代 YUM
但這兩隻工具是一樣的
未來指令應該會只剩 DNF
 使用 Extra Packages for Enterprise Linux (EPEL)
dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y  </content></entry><entry><title>WSUS 調校,優化</title><url>https://lovesharepc.github.io/2020/01/21/wsus-%E8%AA%BF%E6%A0%A1%E5%84%AA%E5%8C%96/</url><categories><category>windows</category></categories><tags/><content type="html"> WSUS (Windows Server Update Services)
常常發生節點無回應、報表產生費時甚至無法失敗
 微軟提供的調校文章 https://support.microsoft.com/en-us/help/4490414/windows-server-update-services-best-practices
 設定方法 首先進去 IIS
展開伺服器
選擇應用程式集區
wsuspool 右鍵-進階設定
 建議調校參數 Queue Length = 10000 (up from default of 1000) Idle Time-out (minutes) = 0 (down from the default of 20) Ping Enabled = False (from default of True) Private Memory Limit (KB) = 0 (unlimited, up from the default of 1843200 KB) Regular Time Interval (minutes) = 0 (to prevent a recycle, and modified from the default of 1740)  其他建議 防毒軟體排除 WSUS 資料夾 \WSUS\WSUSContent \WSUS\UpdateServicesDBFiles \SoftwareDistribution\Datastore \SoftwareDistribution\Download    </content></entry><entry><title>Proxmox use ceph 3副本 糾錯碼</title><url>https://lovesharepc.github.io/2019/12/15/proxmox-use-ceph-3%E5%89%AF%E6%9C%AC-%E7%B3%BE%E9%8C%AF%E7%A2%BC/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 手冊 https://docs.ceph.com/docs/luminous/start/intro/
在所有 node 安裝 ceph
Ceph Manager
管理 Ceph
Ceph Monitors
監控、存取 DATA
空間計算
nOSD * k / (k+m) * OSD Size
 空間計算
nOSD * k / (k+m) * OSD Size
pg 數量建議
https://docs.ceph.com/docs/mimic/rados/operations/placement-groups/
INSTALL CEPH (QUICK)
https://ceph.com/install/
查看狀態
ceph status
查看 osd 清單
ceph osd tree
=================================
移除 osd
先摧毀 ceph osd destroy osd.4 –force
ceph osd purge osd.4 –force
CRUSH map 定義設備位置
可分成 row=a rack=a2 chassis=a2a host=a2a1
使用 pool
https://docs.ceph.com/docs/jewel/rados/operations/pools/
移除 cephfs
停掉所有 ceph-mds
systemctl stop ceph-mds.target
killall ceph-mds
或是從 webui
查看 cefs 資訊
root@pve2:~# ceph fs ls
name: cephfs, metadata pool: cephfs_metadata, data pools: [cephfs_data ]
移除cefs
ceph fs rm –yes-i-really-mean-it
ceph fs rm cephfs –yes-i-really-mean-it
移除 pool (安全起見 要兩次 )
ceph osd pool delete –yes-i-really-really-mean-it
ceph osd pool delete –yes-i-really-really-mean-it
ceph osd pool delete cephfs_data cephfs_data –yes-i-really-really-mean-it
ceph osd pool delete cephfs_metadata cephfs_metadata –yes-i-really-really-mean-it
 =================================
CRUSH MAP
GET A CRUSH MAP
ceph osd getcrushmap -o {compiled-crushmap-filename}
ceph osd getcrushmap -o map
DECOMPILE A CRUSH MAP
crushtool –decompile {compiled-crushmap-filename} -o {decompiled-crushmap-filename}
crushtool –decompile map -o map.txt
compile A CRUSH MAP
crushtool –compile {decompiled-crushmap-filename} -o {compiled-crushmap-filename}
crushtool –compile map.txt -o map
ceph osd setcrushmap -i map
=================================
ERASURE CODE PROFILES
查
ceph osd erasure-code-profile get default
設定
ceph osd erasure-code-profile set myprofile k=4 m=2
k=data chunks
m=糾錯碼 chunks
GET A CRUSH MAP
ceph osd getcrushmap -o {compiled-crushmap-filename}
DECOMPILE A CRUSH MAP
crushtool -d {compiled-crushmap-filename} -o {decompiled-crushmap-filename}
編輯
rule erasure_rule {
id 1
type erasure
# 固定分 6 等分
min_size 6
max_size 6
# 分成三個 host 儲存，每個 host 存兩等份
step take default
step choose indep 3 type host
step choose indep 2 type osd
step emit
}
—————————————- https://docs.ceph.com/docs/mimic/rados/operations/erasure-code/
create cefs
建立兩個 pool
$ ceph osd pool create cephfs_data &lt;pg_num>
$ ceph osd pool create cephfs_metadata &lt;pg_num>
ceph osd pool create {pool-name} {pg-num} {pgp-num} erasure \
\[erasure-code-profile] [crush-ruleset-name]
ceph osd pool create ec42 64 erasure myprofile erasure_rule
ceph osd pool set ec42 allow_ec_overwrites true
ceph osd pool application enable ec42 rbd
ceph osd pool create rbd_ec 64
ceph osd pool application enable rbd_ec rbd
rbd create rbd_ec/test_ec –size 100G –data-pool ec42
echo “rbd: rbd_ec” &raquo; /etc/pve/storage.cfg
echo “monhost 192.168.43.21;192.168.43.22;192.168.43.23” &raquo; /etc/pve/storage.cfg
echo “content images,rootdir” &raquo; /etc/pve/storage.cfg
echo “krbd 1” &raquo; /etc/pve/storage.cfg
echo “pool ceph_es_metadata” &raquo; /etc/pve/storage.cfg
echo “username admin” &raquo; /etc/pve/storage.cfg
rbd: rbd_ec
monhost 192.168.43.21;192.168.43.22;192.168.43.23
content images,rootdir
krbd 1
pool rbd_ec
username admin
cp /etc/pve/priv/ceph.client.admin.keyring /etc/pve/priv/ceph/rbd_ec.keyring;
rbd ls ec42 -l
For now no, but we will evaluate an addition.
But try this setting, put it in the ceph.conf. It should use the specified pool by default for rbd data.
[client]
rbd default data pool =
https://k2r2bai.com/2015/11/21/ceph/cephfs/
https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/3/html/ceph_file_system_guide/deploying-ceph-file-systems
https://bugzilla.proxmox.com/show_bug.cgi?id=1816
https://forum.proxmox.com/threads/created-an-erasure-code-pool-in-ceph-but-cannot-work-with-it-in-proxmox.45099/
https://ceph.com/planet/erasure-code-on-small-clusters/
 </content></entry><entry><title>citrix xenserver 故障處理、改 host-uuid</title><url>https://lovesharepc.github.io/2019/12/15/citrix-xenserver-%E6%95%85%E9%9A%9C%E8%99%95%E7%90%86%E3%80%81%E6%94%B9-host-uuid/</url><categories><category>xenserver</category></categories><tags/><content type="html"> 移除外接設備、網路
 取得 host-uuid
xe host-uuid cat /etc/xensource-inventory | grep -i installation_uuid  轉 standalone
把自己提升為 master
xe pool-emergency-transition-to-master uuid=
reboot
 網路不通
console 畫面 emergency network reset
reboot
 設定 management IP
 ssh 、 xen center 管理
xe host-list
移除自己以外的 host
xe host-forget uuid= 可以用 tab 代出
或是
xe pool-eject host-uuid=
如果遇到無法移除
查看該 host 使用中 VM
xe vm-list resident-on=
停止 VM (遇到移不掉無所謂)
xe vm-reset-powerstate uuid=–force
然後利用 xencenter 轉為 standalone
或是用指令
xe pool-list
xe pool-param-set name-label=”” uuid=reboot
 =============================================
移除所有 Storage Repository
列出清單
xe sr-list
找出 pbd UUID
xe pbd-list sr-uuid=
找出 unplug UUID
xe pbd-unplug uuid=(非 sr-uuid )
移除 Storage Repository
xe sr-forget uuid=
=============================================
改 host-UUID
修改 /etc/xensource-inventory INSTALLATION_UUID
改名 mv /var/xapi/state.db /var/xapi/state1.db
reboot
xe host-list
會列出兩個 host UUID
xe host-forget uuid=&lt;舊的 UUID> 可以用 tab 代出
執行 xe pool-emergency-transition-to-master
reboot
 =============================================
xe service 沒顯示網卡 -> emergency network reset
  </content></entry><entry><title>CVE-2019-14899 漏洞</title><url>https://lovesharepc.github.io/2019/12/09/cve-2019-14899-%E6%BC%8F%E6%B4%9E/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 查詢方法
sysctl -ar '.rp_filter' 或 cat /usr/lib/sysctl.d/50-default.conf | grep net.ipv4.conf   kernel 說明
https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt
 rp_filter - INTEGER 0 - No source validation. 1 - Strict mode as defined in RFC3704 Strict Reverse Path Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail. By default failed packets are discarded. 2 - Loose mode as defined in RFC3704 Loose Reverse Path Each incoming packet's source address is also tested against the FIB and if the source address is not reachable via any interface the packet check will fail. Current recommended practice in RFC3704 is to enable strict mode to prevent IP spoofing from DDos attacks. If using asymmetric routing or other complicated routing, then loose mode is recommended. The max value from conf/{all,interface}/rp_filter is used when doing source validation on the {interface}. Default value is 0. Note that some distributions enable it in startup scripts.   </content></entry><entry><title>顯示 windows 系統環境變數</title><url>https://lovesharepc.github.io/2019/12/07/%E9%A1%AF%E7%A4%BA-windows-%E7%B3%BB%E7%B5%B1%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/</url><categories><category>網管</category></categories><tags/><content type="html"> 顯示 windows 系統環境變數
set
C:\Users\NB>set ALLUSERSPROFILE=C:\ProgramData APPDATA=C:\Users\NB\AppData\Roaming ChocolateyInstall=C:\ProgramData\chocolatey ChocolateyLastPathUpdate=132192207097462796 CommonProgramFiles=C:\Program Files\Common Files CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files CommonProgramW6432=C:\Program Files\Common Files COMPUTERNAME=NB ComSpec=C:\WINDOWS\system32\cmd.exe DriverData=C:\Windows\System32\Drivers\DriverData FPS_BROWSER_APP_PROFILE_STRING=Internet Explorer FPS_BROWSER_USER_PROFILE_STRING=Default HOMEDRIVE=C: HOMEPATH=\Users\NB LOCALAPPDATA=C:\Users\NB\AppData\Local LOGONSERVER=\\NB NUMBER_OF_PROCESSORS=4 OneDrive=C:\Users\NB\OneDrive OS=Windows_NT Path=C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\ProgramData\chocolatey\bin;C:\Program Files (x86)\Dell\Enterprise Manager\msagui;C:\Program Files\OpenSSL-Win64\bin;;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;%SYSTEMROOT%\System32\OpenSSH\;C:\Users\NB\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\; PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC PROCESSOR_ARCHITECTURE=AMD64 PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 42 Stepping 7, GenuineIntel PROCESSOR_LEVEL=6 PROCESSOR_REVISION=2a07 ProgramData=C:\ProgramData ProgramFiles=C:\Program Files ProgramFiles(x86)=C:\Program Files (x86) ProgramW6432=C:\Program Files PROMPT=$P$G PSModulePath=C:\Program Files\WindowsPowerShell\Modules;C:\WINDOWS\system32\WindowsPowerShell\v1.0\Modules PT7HOME=C:\Program Files\Cisco Packet Tracer 7.2.1 PUBLIC=C:\Users\Public QT_DEVICE_PIXEL_RATIO=auto SESSIONNAME=Console SystemDrive=C: SystemRoot=C:\WINDOWS TEMP=C:\Users\NB\AppData\Local\Temp TMP=C:\Users\NB\AppData\Local\Temp USERDOMAIN=NB USERDOMAIN_ROAMINGPROFILE=NB USERNAME=NB USERPROFILE=C:\Users\NB windir=C:\WINDOWS  </content></entry><entry><title>ZFS over iSCSI</title><url>https://lovesharepc.github.io/2019/11/24/zfs-over-iscsi/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 示意圖
來源 https://docs.oracle.com/cd/E19735-01/820-7821/girgb/index.html
 好處
能將 local Disk 分享給其他 node 使用
 可用環境 local Disk 做 RAID 5， ZFS 做 RAIDZ1
藉此達到單一節點故障、單一硬碟故障
 </content></entry><entry><title>免費 NAS 軟體</title><url>https://lovesharepc.github.io/2019/11/22/%E5%85%8D%E8%B2%BB-nas-%E8%BB%9F%E9%AB%94/</url><categories><category>網管</category></categories><tags/><content type="html"> 万由nas-U 跟 qnap、群暉很像的見面
http://www.u-nas.cn/
freenas 支援 zfs 效能一流
https://www.freenas.org/
xigmanas https://www.xigmanas.com/
openmediavault https://www.openmediavault.org/
   </content></entry><entry><title>Proxmox VE 巢狀虛擬化</title><url>https://lovesharepc.github.io/2019/11/17/proxmox-ve-%E5%B7%A2%E7%8B%80%E8%99%9B%E6%93%AC%E5%8C%96/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 巢狀虛擬化 Nested Virtualization
每一層虛擬化約損失 15% 效能
兩層就損失 30%
所以在正式 production 環境下別使用
 這個功能主要是方便測試
比如說在一台 Proxmox VE 底下虛擬多台 Proxmox VE LAB 環境
 ## INTEL CPU echo "options kvm-intel nested=Y" > /etc/modprobe.d/kvm-intel.conf ## AMD CPU echo "options kvm-amd nested=1" > /etc/modprobe.d/kvm-amd.conf 重開機 在 VM 的設定 CPU Type 選擇 HOST  </content></entry><entry><title>Proxmox VE ZFS 更換硬碟</title><url>https://lovesharepc.github.io/2019/11/10/proxmox-ve-zfs-%E6%9B%B4%E6%8F%9B%E7%A1%AC%E7%A2%9F/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 如果有一顆硬碟故障了
該如何處理
 首先用
zpool status
查看 pool 的組成模式、硬碟、狀態
正常情況 root@pve:~# zpool status pool: RAID1 state: ONLINE config: NAME STATE READ WRITE CKSUM RAID1 ONLINE 0 0 0 mirror-0 ONLINE 0 0 0 sda1 ONLINE 0 0 0 sdc1 ONLINE 0 0 0 ================================================== 異常 root@pve:~# zpool status pool: RAID1 state: DEGRADED status: One or more devices could not be used because the label is missing or invalid. Sufficient replicas exist for the pool to continue functioning in a degraded state. action: Replace the device using 'zpool replace'. see: http://zfsonlinux.org/msg/ZFS-8000-4J scan: resilvered 5.68M in 0 days 00:00:01 with 0 errors on Sun Nov 10 10:30:25 2019 config: NAME STATE READ WRITE CKSUM RAID1 DEGRADED 0 0 0 mirror-0 DEGRADED 0 0 0 sda1 ONLINE 0 0 0 sdc1 UNAVAIL 3 261 0 errors: No known data errors  這時候，如果有一顆硬碟離線了
就會發現 HEALTH 變成 DEGRADED
root@pve:~# zpool list NAME SIZE ALLOC FREE CKPOINT EXPANDSZ FRAG CAP DEDUP HEALTH ALTROOT RAID1 199G 744M 198G - - 0% 0% 1.00x DEGRADED -  這時候你就算更換了硬碟
也不會自動 rebuild 成 online
這是因為 zfs 預設參數問題
 手動更換 更換流程
1.在更換硬碟之前
先用
zpool status
查看哪一顆硬碟故障 ex. sdc1
root@pve:~# zpool status pool: RAID1 state: DEGRADED status: One or more devices could not be used because the label is missing or invalid. Sufficient replicas exist for the pool to continue functioning in a degraded state. action: Replace the device using 'zpool replace'. see: http://zfsonlinux.org/msg/ZFS-8000-4J scan: resilvered 5.68M in 0 days 00:00:01 with 0 errors on Sun Nov 10 10:30:25 2019 config: NAME STATE READ WRITE CKSUM RAID1 DEGRADED 0 0 0 mirror-0 DEGRADED 0 0 0 sda1 ONLINE 0 0 0 sdc1 UNAVAIL 3 261 0  2.移除故障硬碟
3.安裝新硬碟
使用 fdisk 進行初始化
fdisk dev/sdc
g
w
 4.使用指令更換硬碟
可以先用 fdisk -l 檢查硬碟所在位置
同位置
zpool replace -f RAID1 sdc1
如果是不同硬碟位置
zpool replace -f RAID1 sdc1 sdd1
 最後再用 zpool status 查看 resilvering 狀態 (rebuilding)
root@pve:~# zpool status pool: RAID1 state: DEGRADED status: One or more devices is currently being resilvered. The pool will continue to function, possibly in a degraded state. action: Wait for the resilver to complete. scan: resilver in progress since Sun Nov 10 10:53:33 2019 15.5G scanned at 2.58G/s, 773M issued at 129M/s, 15.5G total 776M resilvered, 4.87% done, 0 days 00:01:57 to go config: NAME STATE READ WRITE CKSUM RAID1 DEGRADED 0 0 0 mirror-0 DEGRADED 0 0 0 sda1 ONLINE 0 0 0 replacing-1 DEGRADED 0 0 0 old UNAVAIL 3 261 0 sdc1 ONLINE 0 0 0 (resilvering)  resilver 完成
root@pve:~# zpool status pool: RAID1 state: ONLINE scan: resilvered 15.5G in 0 days 00:01:35 with 0 errors on Sun Nov 10 10:55:08 2019 config: NAME STATE READ WRITE CKSUM RAID1 ONLINE 0 0 0 mirror-0 ONLINE 0 0 0 sda1 ONLINE 0 0 0 sdc1 ONLINE 0 0 0 errors: No known data errors  可以看到 zfs 因為是 file level 儲存，所以只 resilver 有資料的部分
 使用自動更換 zfs 預設參數是不會自動更換故障硬碟的
這部分可以用
zpool get all RAID1
找到 autoreplace
autoreplace 官方的定義是
只要在相同的實體位置 (就是同一個硬碟插槽)
找到新硬碟
那就會自動更換
autoreplace 這個參數 Proxmox 5.4 以前是 on
在 Proxmox 6.0 變成 off 了，而即便在 Proxmox 5.4 這個功能也不會起作用，必須要另外裝 zfs-zed 才行
 zfs-zed ZFS Event Daemon
就是用來監控 zfs 的狀態
首先要先加入 Proxmox 官方的 Package Repository
詳見 Proxmox VE 更新
安裝套件
apt update
apt install zfs-zed postfix
apt upgrade
* 這邊要注意 Proxmox 跟 debian 的 Repository 都有這個套件
必須使用 Proxmox 的
 編輯 zed config
nano /etc/zfs/zed.d/zed.rc
## ZED_EMAIL_ADDR 用來發 mail 通知 zfs 狀態的使用者清單，範例發給兩位使用者 root test ZED_EMAIL_ADDR="root test" ## ZED_EMAIL_PROG 使用 mail 通知功能 ZED_EMAIL_PROG="mail" ## 設定格式 (參考 postfix) ZED_EMAIL_OPTS="-s '@SUBJECT@' @ADDRESS@" ## 多久要重新通知 範例 10 分鐘一次 ZED_NOTIFY_INTERVAL_SECS=600 ## 不管 pool health 皆發送通知 ZED_NOTIFY_VERBOSE=1 ## resilver 完成後，進行 scrub (校驗檔案錯誤)動作 ZED_SCRUB_AFTER_RESILVER=1 重啟 zfs-zed 服務 systemctl restart zfs-zed  開啟功能
zpool set autoreplace=on  發信測試
echo “Test Email from the new server” | mail -s “Test Subject”  可惜實際測試 PVE 6.0
這功能有 BUG ，大概是這樣所以官方預設關掉了
已知問題是，autoreplace 只有在重開機時才會運作
health state 改變也不會發通知</content></entry><entry><title>proxmox VE 使用 SSD cache 增進 ZFS 效能</title><url>https://lovesharepc.github.io/2019/11/10/proxmox-ve-%E4%BD%BF%E7%94%A8-ssd-cache-%E5%A2%9E%E9%80%B2-zfs-%E6%95%88%E8%83%BD/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 使用 fdisk 將 SSD 分割成兩個 partition
fdisk /dev/sdd
root@pve:~# fdisk /dev/sdd Command (m for help): n Partition number (1-128, default 1): First sector (2048-937703054, default 2048): Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-937703054, default 937703054): 437703054 Created a new partition 1 of type 'Linux filesystem' and of size 208.7 GiB. Partition #1 contains a zfs_member signature. Do you want to remove the signature? [Y]es/[N]o: Y The signature will be removed by a write command. Command (m for help): n Partition number (2-128, default 2): First sector (437703055-937703054, default 437704704): Last sector, +/-sectors or +/-size{K,M,G,T,P} (437704704-937703054, default 937703054): Created a new partition 2 of type 'Linux filesystem' and of size 238.4 GiB. Command (m for help): w The partition table has been altered. Calling ioctl() to re-read partition table. Syncing disks.  設定 SSD cache 到 zfs pool
zpool add -f RAID1 log /dev/sdd1 cache /dev/sdd2
 </content></entry><entry><title>Proxmox VE ZFS storage 測速 Benchmarking ZFS Storage</title><url>https://lovesharepc.github.io/2019/11/09/proxmox-ve-storage-%E6%B8%AC%E9%80%9F-benchmarking-storage/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 官方手冊 https://pve.proxmox.com/wiki/Benchmarking_Storage
https://manpages.ubuntu.com/manpages/bionic/en/man1/fio.1.html
fio – flexible I/O tester
安裝 fio 套件 wget http://archive.ubuntu.com/ubuntu/pool/universe/f/fio/fio_3.1-1_amd64.deb dpkg -i fio_3.1-1_amd64.deb  指令 參考使用 https://martin.heiland.io/2018/02/23/zfs-tuning/
先切換到你的 zpool
例如 cd /RAID1
 –filesize=1G –runtime=10 這兩個參數自行修改
filesize 如果你的 IO 很快 就把他拉大
runtime 理論上時間越長平均值越準，也可以用在 SSD 髒碟測試
  Pattern &lt;td> &lt;strong>Command&lt;/strong> &lt;/td> 隨機讀取 &lt;td> fio \-\-filename=test \-\-rw=randread \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test &lt;/td> 隨機寫入 &lt;td> fio \-\-filename=test \-\-rw=randwrite \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test &lt;/td> 連續讀取 &lt;td> fio \-\-filename=test \-\-rw=read \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test &lt;/td> 連續寫入 &lt;td> fio \-\-filename=test \-\-rw=write \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test &lt;/td> 連續讀寫 &lt;td> fio \-\-filename=test \-\-rw=readwrite \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test&lt;/p> &lt;ul> &lt;li> 讀寫比率預設為 50:50 &lt;/li> &lt;/ul> &lt;/td> 隨機讀寫 &lt;td> fio \-\-filename=test \-\-rw=randrw \-\-bs=4k \-\-numjobs=1 \-\-iodepth=4 \-\-group_reporting \-\-name=test \-\-filesize=1G \-\-runtime=10 \-\-time_based &amp;&amp; rm test&lt;/p> &lt;ul> &lt;li> 讀寫比率預設為 50:50 &lt;/li> &lt;/ul> &lt;/td>  寫入部分 可以增加 –sync=1 參數測得沒有 cache 的數據</content></entry><entry><title>Proxmox VE 更新</title><url>https://lovesharepc.github.io/2019/11/09/proxmox-ve-%E6%9B%B4%E6%96%B0/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 官方手冊 https://pve.proxmox.com/wiki/Package_Repositories
 查看目前版本 pveversion -v
 新增更新來源 總共有三個
訂閱用戶 – 保證穩定度
非訂閱用戶 – 不保證穩定度，不建議用在正式環境
測試 test – 給開發者使用
  編輯 sources.list
nano /etc/apt/sources.list
加入
## ## For Proxmox VE 6.x ## 自行依需求取消 # 註解 ## #訂閱用戶 - 保證穩定度 #deb https://enterprise.proxmox.com/debian/pve buster pve-enterprise #非訂閱用戶 - 不保證穩定度，不建議用在正式環境 #deb http://download.proxmox.com/debian/pve buster pve-no-subscription #測試 test - 給開發者使用 #deb http://download.proxmox.com/debian/pve buster pvetest  ## For Proxmox VE 5.x ## 自行依需求取消 # 註解 ## #訂閱用戶 - 保證穩定度 #deb https://enterprise.proxmox.com/debian/pve stretch pve-enterprise #非訂閱用戶 - 不保證穩定度，不建議用在正式環境 #deb http://download.proxmox.com/debian/pve stretch pve-no-subscription #測試 test - 給開發者使用 #deb http://download.proxmox.com/debian/pve stretch pvetest  執行更新作業 apt-get update apt-get dist-upgrade   </content></entry><entry><title>proxmox VE 使用 ZFS</title><url>https://lovesharepc.github.io/2019/11/09/proxmox-ve-%E4%BD%BF%E7%94%A8-zfs/</url><categories><category>proxmox VE</category></categories><tags/><content type="html"> 相關手冊
https://pve.proxmox.com/wiki/ZFS_on_Linux
https://manpages.ubuntu.com/manpages/trusty/en/man8/zpool.8.html
 簡介 ZFS 是 linux 能使用的 soft raid 軟體
其中指令相當”豐富”
可玩性很大，功能也很多
只是這也變成調校是件很重要的事情，在網路上
謠傳調校之後可以增加好幾倍的效能
 開始建立 ZFS 空間 硬碟初始化 在使用前，先用 fdisk 把硬碟初始化
zfs 重點
務必使用 GPT partition tables
用
fdisk -l
列出你的硬碟
 我的硬碟清單如下
/dev/sda #HDD1
/dev/sdc #HDD2
/dev/sdd #SSD
這裡我用兩顆硬碟做 RAID1
首先刪除既有的 partition table
fdisk /dev/sda g #create a new empty GPT partition table w #write table to disk and exit fdisk /dev/sdc g #create a new empty GPT partition table w #write table to disk and exit  建立 RAID  我的範例建立 RAID 1 ，其他 RAID 模式請參考手冊
# -f 使用 virtual disk (建議)
# -o ashift=12 所謂的 4K 對齊
# 實例
zpool create -f -o ashift=12 RAID1 mirror /dev/sda /dev/sdc
 完成後，顯示你的 ZFS zpool 資訊
zpool list
 掛入 Proxmox Storage 空間 ZFS pool 建立完成後
要用 pvesm – Proxmox VE Storage Manager
掛起來才能夠開始存放 VM 使用
掃描可用的 ZFS pool
pvesm scan zfs
掛入 Proxmox Storage
pvesm add zfspool RAID1storage -pool RAID1
上面的動作其實 web ui 都可以完成
 ZFS 設定 顯示 ZFS 空間的設定 列出 zfs pool 的詳細參數
zpool get all RAID1
zfs get all RAID1
 **查看 pool 模式、HDD 成員
** zpool status
 **查看 pool 使用狀況
** zpool iostat -v
 刪除 zfs pool zpool destroy -f RAID1
刪除後 zfs partition table 不會刪除
可以用 fdisk
把 partition table 重建就好  使用 SSD 做 cache 首先 ZFS 總共有三種快取設定
首先是第一級的 primary cache (ARC)
他是用電腦的 RAM 作為快取空間，容量預設是一半的 RAM
也就是說，假設你有 32GB 的 RAM ，那有 16 GB 會被他拿來使用
不過當然這是動態的，只有 RAM 是空閒的時候才會被使用
 然後是二級快取 secondary cache (L2ARC)
跟
ZFS Intent Log (ZIL)
  log – 設定為寫入快取 (ZIL) cache – 設定為讀取快取 (L2ARC)  你可以在建立的時候直接指定 SSD
或者也可以事後增加
ZFS 中有兩種 cache 設定
log – 設定為寫入快取 cache – 設定為讀取快取  在我的情況，我全都要!
首先把 SSD 對半分割
root@pve:~# fdisk /dev/sdd Command (m for help): n Partition number (1-128, default 1): First sector (2048-937703054, default 2048): Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-937703054, default 937703054): 437703054 Created a new partition 1 of type 'Linux filesystem' and of size 208.7 GiB. Partition #1 contains a zfs_member signature. Do you want to remove the signature? [Y]es/[N]o: Y The signature will be removed by a write command. Command (m for help): n Partition number (2-128, default 2): First sector (437703055-937703054, default 437704704): Last sector, +/-sectors or +/-size{K,M,G,T,P} (437704704-937703054, default 937703054): Created a new partition 2 of type 'Linux filesystem' and of size 238.4 GiB. Command (m for help): w The partition table has been altered. Calling ioctl() to re-read partition table. Syncing disks.  然後設定 ZFS
建立新的 zfs pool 並設定 SSD cache zpool create -f -o ashift=12 RAID1 mirror /dev/sda /dev/sdc log /dev/sdd1 cache /dev/sdd2 ============================================================================== 設定 SSD cache 到現有 zfs pool zpool add -f RAID1 log /dev/sdd1 cache /dev/sdd2 移除 zpool remove RAID1 sdd1 zpool remove RAID1 sdd2 不過實測 只有 cache 比較會用到
log 倒是比較少
 其他設定 **壓縮功能 compression
** zfs set compression=on/off
重複數據刪除 dedup
zfs set dedup=on/off
提醒硬碟故障、自動更換
更換硬碟
 </content></entry><entry><title>linux fdisk 工具</title><url>https://lovesharepc.github.io/2019/11/09/linux-fdisk-%E5%B7%A5%E5%85%B7/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> fdisk
用來建立硬碟的分割表
我使用的 fdisk 版本為 2.33.1
有支援 GPT、MBR 分割表
 顯示目前有哪些硬碟 fdisk -l 把硬碟初始化，因為我的硬碟有使用過 所以先做 partition pable 重建 GPT ，把所有資料清乾淨 fdisk /dev/sda o create a new empty DOS partition table g create a new empty GPT partition table w write table to disk and exit fdisk /dev/sdc g w fdisk /dev/sdd g w  </content></entry><entry><title>硬碟測速工具 ioblazer</title><url>https://lovesharepc.github.io/2019/11/09/%E7%A1%AC%E7%A2%9F%E6%B8%AC%E9%80%9F%E5%B7%A5%E5%85%B7-ioblazer/</url><categories><category>網管</category></categories><tags><tag>硬碟測速</tag></tags><content type="html"> 來源 https://flings.vmware.com/ioblazer
 使用方法
root@pve:/rpool/data/ioblazer-1.01# ./ioblazer-linux-x64 -d /rpool/data/ -f 10000 -t 60 -F IOBlazer, the ultimate IO benchmark :D Test parameters: Test duration = 60 s Worker threads = 1 File/Device path(s) = /rpool/data/, File/Device size = 10000 MB Buffer size = 1 MB IO Alignment = 512 B IO access pattern = r IO size (Avg) = 8192 B IO size pattern = f Burst size (OIOs, Avg) = 32 Burst size pattern = f Inter-burst time (Avg) = 0 us Inter-burst time pattern = f Read ratio = 1.0 Latency threshold = 5000 ms Buffered IO = 0 Checksum = 0 Raw Device Access = 0 Fill file = 1 Trace file = Running test for 60 seconds... Test complete. Test duration = 60.006 s Total IOs = 1778432 Total Bytes = 14568914944 IOPS = 29638 Byte/s = 242790970 (231.5 MB/s) Average latency = 555.292 us Max Latency = 3065 us Long IOs = 0 root@pve:/rpool/data/ioblazer-1.01#  </content></entry><entry><title>魔力象限 (Magic Quadrant)</title><url>https://lovesharepc.github.io/2019/11/09/%E9%AD%94%E5%8A%9B%E8%B1%A1%E9%99%90-magic-quadrant/</url><categories><category>網管</category></categories><tags/><content type="html">  簡介 魔力象限
是一個二維平面圖
常用來表達市場中相同性質廠商在市場的反應程度
 常見網站 Gartner Inc.
trustradius
  </content></entry><entry><title>刪除 AD 網域控制站錯誤 正在進行網域重新命名操作</title><url>https://lovesharepc.github.io/2019/11/04/%E5%88%AA%E9%99%A4-ad-%E7%B6%B2%E5%9F%9F%E6%8E%A7%E5%88%B6%E7%AB%99%E9%8C%AF%E8%AA%A4-%E6%AD%A3%E5%9C%A8%E9%80%B2%E8%A1%8C%E7%B6%B2%E5%9F%9F%E9%87%8D%E6%96%B0%E5%91%BD%E5%90%8D%E6%93%8D%E4%BD%9C/</url><categories><category>windows</category></categories><tags/><content type="html"> 錯誤訊息
目錄服務無法執行要求的操作，因為正在進行網域重新命名操作  該狀況是因為以前有做過網域重新命名
但沒有做最後的步驟
 rendom /end    </content></entry><entry><title>windows 錯誤代碼快查 (英文)</title><url>https://lovesharepc.github.io/2019/11/04/windows-%E9%8C%AF%E8%AA%A4%E4%BB%A3%E7%A2%BC%E5%BF%AB%E6%9F%A5-%E8%8B%B1%E6%96%87/</url><categories><category>windows</category></categories><tags/><content type="html"> https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes
 備註
英文的錯誤訊息比較容易找到解法 (人多)</content></entry><entry><title>centos 7 安裝 wordpress</title><url>https://lovesharepc.github.io/2019/10/12/centos7-%E5%AE%89%E8%A3%9D-wordpress/</url><categories><category>Centos 7</category></categories><tags><tag>centos 7</tag><tag>wordpress</tag></tags><content type="html">  事先準備
centos 7 PHP 7.3 apache mariadb  安裝工具 yum install -y nano wget unzip 指定 php 版本 yum install -y epel-release yum install -y http://rpms.remirepo.net/enterprise/remi-release-7.rpm yum install -y yum-utils yum-config-manager --disable remi-php54 yum-config-manager --enable remi-php73 新版 mariadb curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash 新版 apache cd /etc/yum.repos.d && wget https://repo.codeit.guru/codeit.el`rpm -q --qf "%{VERSION}" $(rpm -q --whatprovides redhat-release)`.repo 安裝套件 yum clean all yum install -y httpd php php-gd php-mysql php-opcache php-curl php-xml php-mbstring MariaDB-server galera MariaDB-client MariaDB-shared MariaDB-backup MariaDB-common  更改系統時區、啟動服務
timedatectl set-timezone Asia/Taipei systemctl enable httpd systemctl enable mariadb systemctl start httpd systemctl start mariadb mariadb 安全性設定 mysql_secure_installation 匯入 timezone 資料 mysql -u root -p mysql &lt; /usr/share/mysql/mysql_test_data_timezone.sql 修改 mariadb 設定 nano /etc/my.cnf.d/server.cnf [mysqld] character-set-server = utf8mb4 nano /etc/my.cnf.d/client.cnf [client] default-character-set = utf8mb4 systemctl restart mariadb 進入 mariadb mysql -u root -p 檢查 DB 注意是否有更換成 utf8mb4 SHOW VARIABLES WHERE Variable_name LIKE '%character%'; SHOW VARIABLES WHERE Variable_name LIKE '%collation%'; 建立 DB wordpress (自行注意 DB 名稱、使用者、密碼 ) CREATE DATABASE wordpressDB; GRANT ALL ON wordpressDB.* TO wordpressUSER@localhost IDENTIFIED BY 'wordpressPW'; flush privileges; exit; 將 wordpress 上傳 /var/www/html/wordpress.zip 解壓縮 cd /var/www/html/ unzip wordpress-5.2.3-zh_TW.zip chown -R apache: wordpress chmod -R 775 wordpress 修改 php 設定 sed -e 's/memory_limit = 128M/memory_limit = 1024M/' -i /etc/php.ini sed -e 's/max_execution_time = 30/max_execution_time = 180/' -i /etc/php.ini sed -e 's/upload_max_filesize = 2M/upload_max_filesize = 1024M/' -i /etc/php.ini sed -e 's/post_max_size = 8M/post_max_size = 1024M/' -i /etc/php.ini sed -e 's/^;date.timezone =/date\.timezone ="Asia\/Taipei"/' -i /etc/php.ini systemctl restart httpd 增加防火牆規則 firewall-cmd --zone=public --permanent --add-service=http firewall-cmd --zone=public --permanent --add-service=https firewall-cmd --reload firewall-cmd --zone=public --list-all 如果遇到永久連結無法更新 先到 apache change AllowOverride None to AllowOverride All change AllowOverride None to AllowOverride All 在網站根目錄新增 .htaccess RewriteEngine On RewriteBase /wordpress/ RewriteRule ^index.php$ - [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /wordpress/index.php [L]  </content></entry><entry><title>centos 7 環境設定</title><url>https://lovesharepc.github.io/2019/10/12/centos7-%E5%88%9D%E5%A7%8B%E5%8C%96/</url><categories><category>Centos 7</category></categories><tags/><content type="html">  更改時區
timedatectl set-timezone Asia/Taipei
 重新檢測 fastmirror
yum clean all
yum makecache
 安裝常用工具
yum install -y nano wget unzip
 更新套件
yum update -y
 安裝字體
yum groupinstall -y font
 關閉 selinux (重開機生效)
sed -e ‘s/SELINUX=enforcing/SELINUX=disabled/’ -i /etc/selinux/config
 關閉防火牆
systemctl disable firewalld
 </content></entry><entry><title>網管工具 三個大網站</title><url>https://lovesharepc.github.io/2019/10/08/%E7%B6%B2%E7%AE%A1%E5%B7%A5%E5%85%B7-%E4%B8%89%E5%80%8B%E5%A4%A7%E7%B6%B2%E7%AB%99/</url><categories><category>網管</category></categories><tags><tag>網管</tag></tags><content type="html"> 這三個網站提供大部分網管實用工具
https://www.solarwinds.com/
https://www.manageengine.com
https://www.paessler.com/
 </content></entry><entry><title>centos 7 安裝 NTOP</title><url>https://lovesharepc.github.io/2019/10/08/centos7-%E5%AE%89%E8%A3%9D-ntop/</url><categories><category>網管</category></categories><tags><tag>NTOP</tag></tags><content type="html"> yum install -y wget cd /etc/yum.repos.d/ wget http://packages.ntop.org/centos-stable/ntop.repo -O ntop.repo rpm -ivh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm yum update -y yum install -y pfring n2disk nprobe ntopng ntopng-data cento pfring-drivers-zc-dkms firewall-cmd --zone=public --permanent --add-port=3000/tcp firewall-cmd --reload  </content></entry><entry><title>windows server backup 失敗 “指定的備份存放位置,擁有其他磁碟區的陰影複製儲存區”</title><url>https://lovesharepc.github.io/2019/10/07/windows-server-backup-%E5%A4%B1%E6%95%97-%E6%8C%87%E5%AE%9A%E7%9A%84%E5%82%99%E4%BB%BD%E5%AD%98%E6%94%BE%E4%BD%8D%E7%BD%AE%E6%93%81%E6%9C%89%E5%85%B6%E4%BB%96%E7%A3%81%E7%A2%9F%E5%8D%80%E7%9A%84/</url><categories><category>windows</category></categories><tags><tag>server backup</tag></tags><content type="html"> 官方手冊 https://docs.microsoft.com/zh-tw/windows-server/administration/windows-commands/wbadmin
 今天發現 windows server backup 失敗問題
就算重新建立排程
一樣失敗
“指定的備份存放位置,擁有其他磁碟區的陰影複製儲存區”
只要執行 DISKSHADOW
不是 vssadmin
把所有陰影複製刪除即可
 以系統管理員身分執行 power shell 執行工具 DISKSHADOW 執行指令 DELETE SHADOWS all 如果還是不行 先把所有備份刪除看看 WBAdmin DELETE BACKUP -keepVersions:0    </content></entry><entry><title>CENTOS YUM 相關指令</title><url>https://lovesharepc.github.io/2019/09/29/centos-yum-%E7%9B%B8%E9%97%9C%E6%8C%87%E4%BB%A4/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 安裝套件 yum install 套件名 移除套件，config 也會清掉
yum remove 套件名
重新偵測 fastestmirror
yum clean all
yum makecache
查看套件可用版本
yum info 套件名
對套件升版或降板
yum downgrade 套件名
yum upgrade-to 套件名
顯示可安裝的 group 套件
yum grouplist
顯示可安裝的 group 套件細節
yum groupinfo “Server with GUI”
yum groupinfo “Server with GUI” backup-server
安裝 group 套件
yum groupinstall “File and Print Server” backup-client backup-server
更新套件
yum update
 </content></entry><entry><title>Centos 7 安裝 Tiki Wiki CMS Groupware</title><url>https://lovesharepc.github.io/2019/09/07/tiki-wiki-cms-groupware/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> Tiki Wiki CMS Groupware Tiki Wiki CMS Groupware
集合非常多功能在單一系統 以下是官網所列主要功能
Wiki pages Database Tracking System Blogs Forums RSS Syndication WYSIWYG Editing Calendars and Events File and Image Galleries User and Group Management Surveys, Quizes, and Polls
事先準備 事先準備 centos 7 PHP 7.2 apache mariadb  安裝工具 yum install -y nano wget unzip 指定 php 版本 yum install -y epel-release yum install -y http://rpms.remirepo.net/enterprise/remi-release-7.rpm yum install -y yum-utils yum-config-manager --disable remi-php54 yum-config-manager --enable remi-php72 新版 mariadb curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash 新版 apache cd /etc/yum.repos.d && wget https://repo.codeit.guru/codeit.el`rpm -q --qf "%{VERSION}" $(rpm -q --whatprovides redhat-release)`.repo 安裝套件 yum clean all yum install -y php php-gd php-mysql php-opcache php-curl php-xml php-mbstring MariaDB-server galera MariaDB-client MariaDB-shared MariaDB-backup MariaDB-common  更改系統時區、啟動服務 timedatectl set-timezone Asia/Taipei systemctl enable httpd systemctl enable mariadb systemctl start httpd systemctl start mariadb mariadb 設定 mariadb 安全性設定 mysql_secure_installation 匯入 timezone 資料 mysql -u root -p mysql &lt; /usr/share/mysql/mysql_test_data_timezone.sql 修改 mariadb 設定 nano /etc/my.cnf.d/server.cnf [mysqld] character-set-server = utf8mb4 nano /etc/my.cnf.d/client.cnf [client] default-character-set = utf8mb4 systemctl restart mariadb 進入 mariadb mysql -u root -p 檢查 DB 注意是否有更換成 utf8mb4 SHOW VARIABLES WHERE Variable_name LIKE '%character%'; SHOW VARIABLES WHERE Variable_name LIKE '%collation%'; 建立 DB tiki (自行注意 DB 名稱、使用者、密碼 ) CREATE DATABASE tiki; GRANT ALL ON tiki.* TO tikiuser@localhost IDENTIFIED BY 'tikipassword'; flush privileges; exit;  將 tiki 上傳 /var/www/html/tiki-20.0.zip
解壓縮
cd /var/www/html/ unzip tiki-20.0.zip mv tiki-20.0 tiki chown -R apache: tiki chmod -R 775 tiki  編輯 apache 設定 nano /etc/httpd/conf.d/tiki.conf (無法顯示，貼圖片*1)
修改 php 設定 timedatectl set-timezone Asia/Taipei sed -e &rsquo;s/memory_limit = 128M/memory_limit = 1024M/' -i /etc/php.ini sed -e &rsquo;s/max_execution_time = 30/max_execution_time = 3600/' -i /etc/php.ini sed -e &rsquo;s/max_input_time = 60/max_input_time = 3600/' -i /etc/php.ini sed -e &rsquo;s/upload_max_filesize = 2M/upload_max_filesize = 1024M/' -i /etc/php.ini sed -e &rsquo;s/post_max_size = 8M/post_max_size = 1024M/' -i /etc/php.ini sed -e &rsquo;s/^;date.timezone =/date\.timezone =&ldquo;Asia\/Taipei&rdquo;/' -i /etc/php.ini systemctl restart httpd
&nbsp; 增加防火牆規則
firewall-cmd --zone=public --permanent --add-service=http firewall-cmd --zone=public --permanent --add-service=https firewall-cmd --reload firewall-cmd --zone=public --list-all    </content></entry><entry><title>fortimanager VM add fortigate VM</title><url>https://lovesharepc.github.io/2019/08/24/fortimanager-vm-add-fortigate-vm/</url><categories><category>網管</category></categories><tags/><content type="html"> 因為沒有 license 的情況下 fortigate VM 只能支援 sslv3 連線 而 manager 預設是用 tlsv2 會無法連線 需用指令設定
config system global set fgfm-ssl-protocol sslv3 end</content></entry><entry><title>ESX 設定 SNMP 、 NTP、syslog</title><url>https://lovesharepc.github.io/2019/07/21/esx-%E8%A8%AD%E5%AE%9A-snmp-%E3%80%81-ntp/</url><categories><category>VMware</category></categories><tags/><content type="html"> esxcli system snmp get esxcli system snmp set --communities &lt;name> esxcli system snmp set --enable yes esxcli system snmp set -e true esxcli system syslog config set --loghost=172.28.11.113 esxcli system syslog reload vi /etc/ntp.conf server 172.28.11.113 systemctl restart ntpd  </content></entry><entry><title>HP Comware Lab (network device emulation software)</title><url>https://lovesharepc.github.io/2019/07/09/hp-comware-lab-network-device-emulation-software/</url><categories><category>網管</category></categories><tags/><content type="html"> 官網下載
https://support.hpe.com/hpsc/swd/public/detail?sp4ts.oid=7107839&amp;swItemId=nw_148568-1&amp;swEnvOid=4184#
1.安裝 Oracle VM VirtualBox 4.2.24
2.安裝 HP Comware Lab</content></entry><entry><title>centos7 更新 mariadb</title><url>https://lovesharepc.github.io/2019/04/08/centos7-%E6%9B%B4%E6%96%B0-mariadb/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 執行
curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash</content></entry><entry><title>線上標籤產生工具</title><url>https://lovesharepc.github.io/2019/04/07/%E7%B7%9A%E4%B8%8A%E6%A8%99%E7%B1%A4%E7%94%A2%E7%94%9F%E5%B7%A5%E5%85%B7/</url><categories><category>網管</category></categories><tags/><content type="html"> https://tapelabel.de/
https://label.tec-it.com</content></entry><entry><title>以 nmap 工具檢測網站服務</title><url>https://lovesharepc.github.io/2019/04/07/%E4%BB%A5-nmap-%E5%B7%A5%E5%85%B7%E6%AA%A2%E6%B8%AC%E7%B6%B2%E7%AB%99%E6%9C%8D%E5%8B%99/</url><categories><category>網管</category></categories><tags/><content type="html"> nmap 工具提供了相當多的功能 比凡說檢測 SSL 協定 檢測 web server 版本 https://nmap.org/ nmap 同時也提供 windows 以及 linux 版本
支援度相當高
而且官方內建高達 500 多種 scripts 供你使用
以下語法參考資料
https://hackertarget.com/nmap-cheatsheet-a-quick-reference-guide/
https://shazi.info/用 NMAP 驗證支援的 TLS 版本和 CIPHERS
 掃描 SSL 加密協定 nmap --script ssl-enum-ciphers -p 443 --host-timeout 60s 192.168.43.0/24 Get HTTP headers of web services (取得 web service 資訊)
nmap –script=http-headers 192.168.1.0/24</content></entry><entry><title>CentOS 7 更新 apache httpd 、 NGINX</title><url>https://lovesharepc.github.io/2019/04/07/centos-7-%E6%9B%B4%E6%96%B0-apache-httpd-%E3%80%81-nginx/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> Centos 7 官方套件庫的 apache 非常舊
時至今日 2019 年
他的套件庫還是 2013 的
早就漏洞滿天飛了
而要自己編譯則是非常麻煩一件事
幸好
國外有人有將自己打包好的 rpm 包以 repo 方式供人直接更新下載
https://codeit.guru/en_US/
輸入以下指令 更新即可
yum install -y epel-release cd /etc/yum.repos.d && wget https://repo.codeit.guru/codeit.el`rpm -q --qf "%{VERSION}" $(rpm -q --whatprovides redhat-release)`.repo yum update  </content></entry><entry><title>Markdown 語法手冊</title><url>https://lovesharepc.github.io/en/zh-tw/post/markdown-syntax.html</url><categories><category>themes</category><category>syntax</category></categories><tags><tag>markdown</tag><tag>css</tag><tag>html</tag></tags><content type="html"> 本文提供了一個可以在 Hugo 內容文件中使用的基本Markdown語法示例，還展示了基本 HTML 元素在 Hugo 主題中是否使用 CSS 裝飾。
標題 下麵的 HTML 代碼&lt;h1>—&lt;h6> 元素表示六個級別的節標題。 &lt;h1>是最高的節級別，&lt;h6>是最低的節級別。
H1 H2 H3 H4 H5 H6 段落 Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.
伊塔圖？廚房裡有很多東西，我不知道他們喜歡吃什麼，或者他們喜歡吃什麼。
引用 blockquote元素表示從另一個來源引用的內容，可選的引用必須在footer或cite元素內，也可選的內嵌更改，如註釋和縮寫。
引用沒有歸屬 Tiam, ad mint andaepu dandae nostion secatur sequo quae. 註意 可以在塊引用中使用 Markdown 語法。
帶歸屬的引用 不要通過分享記憶來交流，通過交流來分享記憶。
— 羅布·派克1
表格 表不是Markdown核心規範的一部分，但是Hugo支持開箱即用。
Name Age Bob 27 Alice 23 表格內使用Markdown語法 Italics Bold Code italics bold code 圖像 ![圖像描述](圖像地址) 示例 Google Chrome Firefox Browser
點擊圖像可以打開圖像瀏覽器，快試試吧。
代碼塊 帶有引號的代碼塊 &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="utf-8"> &lt;title>Example HTML5 Document&lt;/title> &lt;/head> &lt;body> &lt;p>Test&lt;/p> &lt;/body> &lt;/html> 用四個空格縮進的代碼塊 &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="utf-8"> &lt;title>Example HTML5 Document&lt;/title> &lt;/head> &lt;body> &lt;p>Test&lt;/p> &lt;/body> &lt;/html> 代碼塊引用Hugo的內部高亮短代碼 &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="utf-8"> &lt;title>Example HTML5 Document&lt;/title> &lt;/head> &lt;body> &lt;p>Test&lt;/p> &lt;/body> &lt;/html> 列表類型 有序列表 First item Second item Third item 無序列表 List item Another item And another item 嵌套列表 Fruit Apple Orange Banana Dairy Milk Cheese 其他元素 — abbr, sub, sup, kbd, mark GIF 是位圖圖像格式。
H2O
Xn + Yn = Zn
按 CTRL+ALT+Delete 組合鍵結束會話。
大多數蠑螈在夜間活動，捕食昆蟲、蠕蟲和其他小動物。
以上引文摘自Rob Pike在2015年11月18日Gopherfest上的演講。&#160;&#8617;&#xfe0e;</content></entry><entry><title>富文本内容测试</title><url>https://lovesharepc.github.io/en/zh-tw/post/rich-content.html</url><categories/><tags><tag>shortcodes</tag><tag>privacy</tag></tags><content type="html"> Hugo上有几个内置短代码，用于丰富内容，以及隐私配置还有一组简单的短代码，支持各种社交媒体嵌入的静态和非JS版本。
YouTube Privacy Enhanced Shortcode Twitter Simple Shortcode .twitter-tweet { font: 14px/1.45 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; border-left: 4px solid #2b7bb9; padding-left: 1.5em; color: #555; } .twitter-tweet a { color: #2b7bb9; text-decoration: none; } blockquote.twitter-tweet a:hover, blockquote.twitter-tweet a:focus { text-decoration: underline; } “In addition to being more logical, asymmetry has the advantage that its complete appearance is far more optically effective than symmetry.”
— Jan Tschichold pic.twitter.com/gcv7SrhvJb
&mdash; Graphic Design History (@DesignReviewed) January 17, 2019 Vimeo Simple Shortcode .__h_video { position: relative; padding-bottom: 56.23%; height: 0; overflow: hidden; width: 100%; background: #000; } .__h_video img { width: 100%; height: auto; color: #000; } .__h_video .play { height: 72px; width: 72px; left: 50%; top: 50%; margin-left: -36px; margin-top: -36px; position: absolute; cursor: pointer; }</content></entry><entry><title>占位符文本显示</title><url>https://lovesharepc.github.io/en/zh-tw/post/placeholder-text.html</url><categories/><tags><tag>markdown</tag><tag>text</tag></tags><content type="html"> 你对我的心有偏见。我向您保证，我们的生活将不会受到影响，我们的生活将会受到影响。你说你现在住在医院里，因为你的眼睛是透明的，你的眼睛是光明的，你的眼睛是光明的!
Exierant elisi ambit vivere dedere Duce pollice Eris modo Spargitque ferrea quos palude Rursus nulli murmur; hastile inridet ut ab gravi sententia! Nomine potitus silentia flumen, sustinet placuit petis in dilapsa erat sunt. Atria tractus malis.
Comas hunc haec pietate fetum procerum dixit Post torum vates letum Tiresia Flumen querellas Arcanaque montibus omnes Quidem et Vagus elidunt
The Van de Graaf Canon
Mane refeci capiebant unda mulcebat Victa caducifer, malo vulnere contra dicere aurato, ludit regale, voca! Retorsit colit est profanae esse virescere furit nec; iaculi matertera et visa est, viribus. Divesque creatis, tecta novat collumque vulnus est, parvas. Faces illo pepulere tempus adest. Tendit flamma, ab opes virum sustinet, sidus sequendo urbis.
Iubar proles corpore raptos vero auctor imperium; sed et huic: manus caeli Lelegas tu lux. Verbis obstitit intus oblectamina fixis linguisque ausus sperare Echionides cornuaque tenent clausit possit. Omnia putatur. Praeteritae refert ausus; ferebant e primus lora nutat, vici quae mea ipse. Et iter nil spectatae vulnus haerentia iuste et exercebat, sui et.
Eurytus Hector, materna ipsumque ut Politen, nec, nate, ignari, vernum cohaesit sequitur. Vel mitis temploque vocatus, inque alis, oculos nomen non silvis corpore coniunx ne displicet illa. Crescunt non unus, vidit visa quantum inmiti flumina mortis facto sic: undique a alios vincula sunt iactata abdita! Suspenderat ego fuit tendit: luna, ante urbem Propoetides parte.</content></entry><entry><title>数据公式设置显示</title><url>https://lovesharepc.github.io/en/zh-tw/post/math-typesetting.html</url><categories/><tags/><content type="html"> Hugo项目中的数学表示法可以通过使用第三方JavaScript库来实现。
在这个例子中，我们将使用 MathJax
Create a post under /content/en[zh-CN]/math.md
可以全局启用MathJax，请在项目配置中将参数math设置为true
或是在每页基础上启用MathJax，在内容文件中包括参数math: true
注意： 使用支持的TeX功能的联机参考资料
例子 重复的分数 $$ \frac{1}{\Bigl(\sqrt{\phi \sqrt{5}}-\phi\Bigr) e^{\frac25 \pi}} \equiv 1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {1+\frac{e^{-6\pi}} {1+\frac{e^{-8\pi}} {1+\cdots} } } } $$
总和记号 $$ \left( \sum_{k=1}^n a_k b_k \right)^2 \leq \left( \sum_{k=1}^n a_k^2 \right) \left( \sum_{k=1}^n b_k^2 \right) $$
几何级数之和 我把接下来的两个例子分成了几行，这样它在手机上表现得更好。这就是为什么它们包含 \displaystyle。
$$ \displaystyle\sum_{i=1}^{k+1}i $$
$$ \displaystyle= \left(\sum_{i=1}^{k}i\right) +(k+1) $$
$$ \displaystyle= \frac{k(k+1)}{2}+k+1 $$
$$ \displaystyle= \frac{k(k+1)+2(k+1)}{2} $$
$$ \displaystyle= \frac{(k+1)(k+2)}{2} $$
$$ \displaystyle= \frac{(k+1)((k+1)+1)}{2} $$
乘记号 $$ \displaystyle 1 + \frac{q^2}{(1-q)}+\frac{q^6}{(1-q)(1-q^2)}+\cdots = \displaystyle \prod_{j=0}^{\infty}\frac{1}{(1-q^{5j+2})(1-q^{5j+3})}, \displaystyle\text{ for }\lvert q\rvert &lt; 1. $$
随文数式 这是一些线性数学: $$ k_{n+1} = n^2 + k_n^2 - k_{n-1} $$ ， 然后是更多的文本。
希腊字母 $$ \Gamma\ \Delta\ \Theta\ \Lambda\ \Xi\ \Pi\ \Sigma\ \Upsilon\ \Phi\ \Psi\ \Omega \alpha\ \beta\ \gamma\ \delta\ \epsilon\ \zeta\ \eta\ \theta\ \iota\ \kappa\ \lambda\ \mu\ \nu\ \xi \ \omicron\ \pi\ \rho\ \sigma\ \tau\ \upsilon\ \phi\ \chi\ \psi\ \omega\ \varepsilon\ \vartheta\ \varpi\ \varrho\ \varsigma\ \varphi $$
箭头 $$ \gets\ \to\ \leftarrow\ \rightarrow\ \uparrow\ \Uparrow\ \downarrow\ \Downarrow\ \updownarrow\ \Updownarrow $$
$$ \Leftarrow\ \Rightarrow\ \leftrightarrow\ \Leftrightarrow\ \mapsto\ \hookleftarrow \leftharpoonup\ \leftharpoondown\ \rightleftharpoons\ \longleftarrow\ \Longleftarrow\ \longrightarrow $$
$$ \Longrightarrow\ \longleftrightarrow\ \Longleftrightarrow\ \longmapsto\ \hookrightarrow\ \rightharpoonup $$
$$ \rightharpoondown\ \leadsto\ \nearrow\ \searrow\ \swarrow\ \nwarrow $$
符号 $$ \surd\ \barwedge\ \veebar\ \odot\ \oplus\ \otimes\ \oslash\ \circledcirc\ \boxdot\ \bigtriangleup $$
$$ \bigtriangledown\ \dagger\ \diamond\ \star\ \triangleleft\ \triangleright\ \angle\ \infty\ \prime\ \triangle $$
微积分学 $$ \int u \frac{dv}{dx},dx=uv-\int \frac{du}{dx}v,dx $$
$$ f(x) = \int_{-\infty}^\infty \hat f(\xi),e^{2 \pi i \xi x} $$
$$ \oint \vec{F} \cdot d\vec{s}=0 $$
洛伦茨方程 $$ \begin{aligned} \dot{x} &amp; = \sigma(y-x) \ \dot{y} &amp; = \rho x - y - xz \ \dot{z} &amp; = -\beta z + xy \end{aligned} $$
交叉乘积 这在KaTeX中是可行的，但在这种环境中馏分的分离不是很好。
$$ \mathbf{V}_1 \times \mathbf{V}_2 = \begin{vmatrix} \mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \ \frac{\partial X}{\partial u} &amp; \frac{\partial Y}{\partial u} &amp; 0 \ \frac{\partial X}{\partial v} &amp; \frac{\partial Y}{\partial v} &amp; 0 \end{vmatrix} $$
这里有一个解决方案:使用“mfrac”类(在MathJax情况下没有区别)的额外类使分数更小:
$$ \mathbf{V}_1 \times \mathbf{V}_2 = \begin{vmatrix} \mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \ \frac{\partial X}{\partial u} &amp; \frac{\partial Y}{\partial u} &amp; 0 \ \frac{\partial X}{\partial v} &amp; \frac{\partial Y}{\partial v} &amp; 0 \end{vmatrix} $$
强调 $$ \hat{x}\ \vec{x}\ \ddot{x} $$
有弹性的括号 $$ \left(\frac{x^2}{y^3}\right) $$
评估范围 $$ \left.\frac{x^3}{3}\right|_0^1 $$
诊断标准 $$ f(n) = \begin{cases} \frac{n}{2}, &amp; \text{if } n\text{ is even} \ 3n+1, &amp; \text{if } n\text{ is odd} \end{cases} $$
麦克斯韦方程组 $$ \begin{aligned} \nabla \times \vec{\mathbf{B}} -, \frac1c, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp; = \frac{4\pi}{c}\vec{\mathbf{j}} \ \nabla \cdot \vec{\mathbf{E}} &amp; = 4 \pi \rho \ \nabla \times \vec{\mathbf{E}}, +, \frac1c, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp; = \vec{\mathbf{0}} \ \nabla \cdot \vec{\mathbf{B}} &amp; = 0 \end{aligned} $$
这些方程式很狭窄。我们可以使用(例如)添加垂直间距 [1em] 在每个换行符(\)之后。正如你在这里看到的：
$$ \begin{aligned} \nabla \times \vec{\mathbf{B}} -, \frac1c, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp; = \frac{4\pi}{c}\vec{\mathbf{j}} \[1em] \nabla \cdot \vec{\mathbf{E}} &amp; = 4 \pi \rho \[0.5em] \nabla \times \vec{\mathbf{E}}, +, \frac1c, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp; = \vec{\mathbf{0}} \[1em] \nabla \cdot \vec{\mathbf{B}} &amp; = 0 \end{aligned} $$
统计学 固定词组：
$$ \frac{n!}{k!(n-k)!} = {^n}C_k {n \choose k} $$
分数在分数 $$ \frac{\frac{1}{x}+\frac{1}{y}}{y-z} $$
ｎ次方根 $$ \sqrt[n]{1+x+x^2+x^3+\ldots} $$
矩阵 $$ \begin{pmatrix} a_{11} &amp; a_{12} &amp; a_{13}\ a_{21} &amp; a_{22} &amp; a_{23}\ a_{31} &amp; a_{32} &amp; a_{33} \end{pmatrix} \begin{bmatrix} 0 &amp; \cdots &amp; 0 \ \vdots &amp; \ddots &amp; \vdots \ 0 &amp; \cdots &amp; 0 \end{bmatrix} $$
标点符号 $$ f(x) = \sqrt{1+x} \quad (x \ge -1) f(x) \sim x^2 \quad (x\to\infty) $$
现在用标点符号:
$$ f(x) = \sqrt{1+x}, \quad x \ge -1 f(x) \sim x^2, \quad x\to\infty $$</content></entry><entry><title>支持Emoji表情符号</title><url>https://lovesharepc.github.io/en/zh-tw/post/emoji-support.html</url><categories/><tags><tag>emoji</tag></tags><content type="html"> 在Hugo项目中可以通过多种方式启用Emoji。
The emojify function can be called directly in templates or Inline Shortcodes.
To enable emoji globally, set enableEmoji to true in your site&rsquo;s configuration and then you can type emoji shorthand codes directly in content files; e.g.
馃檲 🙈 馃檳 🙉 馃檴 🙊
The Emoji cheat sheet is a useful reference for emoji shorthand codes.
N.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.
.emoji { font-family: Apple Color Emoji, Segoe UI Emoji, NotoColorEmoji, Segoe UI Symbol, Android Emoji, EmojiSymbols; }</content></entry><entry><title>關於我</title><url>https://lovesharepc.github.io/en/about.html</url><categories/><tags/><content type="html"> Hugo是用Go編寫的一個開放源代碼靜態站點生成器，可在Apache許可證2.0下使用。 Hugo支持TOML, YAML和JSON數據文件類型，Markdown和HTML內容文件，並使用短代碼添加豐富的內容。其他值得註意的功能包括分類法、多語言模式、圖像處理、自定義輸出格式、HTML/CSS/JS縮小和對Sass SCSS工作流的支持。
Hugo使用了多種開源項目，包括:
https://github.com/yuin/goldmark https://github.com/alecthomas/chroma https://github.com/muesli/smartcrop https://github.com/spf13/cobra https://github.com/spf13/viper Hugo是博客、企業網站、創意作品集、在線雜志、單頁應用程式甚至是數千頁的網站的理想選擇。
Hugo適合那些想要手工編寫自己的網站代碼，而不用擔心設置復雜的運行時、依賴關系和數據庫的人。
使用Hugo建立的網站非常快速、安全，可以部署在任何地方，包括AWS、GitHub Pages、Heroku、Netlify和任何其他托管提供商。
更多信息請訪問GitHub.</content></entry><entry><title>Centos 7 安裝 iscsi server 、client</title><url>https://lovesharepc.github.io/2019/02/09/centos-7-%E5%AE%89%E8%A3%9D-iscsi-server-%E3%80%81client/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> iscsi server 端叫 target (目標端)
iscsi client 端叫 initiator (發起端)
我個人覺得就直接 server、client 這樣叫就好
反而用 initiator 、 target 很容易搞混
在 centos 搭配 webmin 有兩個套件可以使用
scsi-target-utils
netbsd-iscsi
聽說是新的 scsi-target-utils 較好
安裝部分自行選用
yum install netbsd-iscsi
或是
yum install epel-release
yum install scsi-target-utils
接著安裝 iscsi client
yum install iscsi-initiator-utils</content></entry><entry><title>office KMS 啟動</title><url>https://lovesharepc.github.io/2019/02/09/office-kms-%E5%95%9F%E5%8B%95/</url><categories><category>windows</category></categories><tags/><content type="html"> cscript ospp.vbs /inpkey:JNRGM-WHDWX-FJJG3-K47QV-DRTFM cscript ospp.vbs /sethst:192.168.1.1
cscript ospp.vbs /act</content></entry><entry><title>Blogger 導入 Google code-prettify 程式碼功能</title><url>https://lovesharepc.github.io/2019/02/08/blogger-%E5%B0%8E%E5%85%A5-google-code-prettify-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%8A%9F%E8%83%BD/</url><categories><category>網管</category></categories><tags/><content type="html">
Google code-prettify github
是 google 提供做為在文章中崁入程式碼並且自動高亮的功能
本文章參考 灰色スズメの足跡
該功能範例如下
main(){ extrn a,b,c; putchar(a); putchar(b); putchar(c); putchar('!*n'); } a ‘hell’;
b ‘o, w’;
c ‘orld’;
他是利用 blogger 小工具
將 script 導入
置換頁面內容
並且也能利用 CSS 改變格式
而我參考的灰色スズメの足跡
我個人認為它做出來的效果很好
非常適合閱讀
實際做法如下
到 blogger 後台
版面設定 – 新增小工具 – HTML/JavaScript新增
新增內容如下
&lt;script src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=vb&lang=css&skin=desert' type='text/javascript' />&lt;/script> &lt;style> /* Google code-prettify */ pre.prettyprint { border: 1px solid #cccccc !important; line-height: 1.5em; overflow: auto; padding: 2em !important; } pre.prettyprint > ol.linenums { padding-left: 2em; } pre.prettyprint > ol.linenums > li { border-left: 1px solid #cccccc; margin-bottom: 0; } pre.prettyprint > ol.linenums > li.L0, pre.prettyprint > ol.linenums > li.L1, pre.prettyprint > ol.linenums > li.L2, pre.prettyprint > ol.linenums > li.L3, pre.prettyprint > ol.linenums > li.L4, pre.prettyprint > ol.linenums > li.L5, pre.prettyprint > ol.linenums > li.L6, pre.prettyprint > ol.linenums > li.L7, pre.prettyprint > ol.linenums > li.L8, pre.prettyprint > ol.linenums > li.L9 { list-style-type: decimal; } pre.prettyprint > ol.linenums > li.L1, pre.prettyprint > ol.linenums > li.L3, pre.prettyprint > ol.linenums > li.L5, pre.prettyprint > ol.linenums > li.L7, pre.prettyprint > ol.linenums > li.L9 { background-color: transparent; } pre.prettyprint > ol.linenums > li span:first-child { padding-left: 1em; } pre.prettyprint > ol.linenums > li span:last-child { padding-right: 1em; } /* plain text */ pre.prettyprint .pln { color: #cccccc; } /* string content */ pre.prettyprint .str { color: #cccc33; } /* a keyword */ pre.prettyprint .kwd { color: #00cc00; } /* a comment */ pre.prettyprint .com { color: #cc3366; } /* a type name */ pre.prettyprint .typ { color: #00cc00; } /* a literal value */ pre.prettyprint .lit { color: #3399cc; } /* punctuation, lisp open bracket, lisp close bracket */ pre.prettyprint .pun, pre.prettyprint .opn, pre.prettyprint .clo { color: #cccccc; } /* a markup tag name */ pre.prettyprint .tag { color: #3399cc; } /* a markup attribute name */ pre.prettyprint .atn { color: #00cc00; } /* a markup attribute value */ pre.prettyprint .atv { color: #cccc33; } /* a declaration; a variable name */ pre.prettyprint .dec, pre.prettyprint .var { color: #00cc00; } /* a function name */ pre.prettyprint .fun { color: #cc66cc; } &lt;/style>
  另外我會設定不顯示
一樣會有效果但不會出現空白的小工具
最後就是使用了 只要在撰寫文章時 切換到 HTML 標籤 輸入
&lt;pre class="prettyprint lang-js linenums">這邊輸入你的程式碼 就能帶出效果&lt;/pre> 他可以客製化的程度很大很多
建議可以參考 github 官方的介紹，並看看其他人如何使用
就能做出與眾不同的效果了</content></entry><entry><title>查看 windows 版本 並線上改版</title><url>https://lovesharepc.github.io/2019/01/10/%E6%9F%A5%E7%9C%8B-windows-%E7%89%88%E6%9C%AC-%E4%B8%A6%E7%B7%9A%E4%B8%8A%E6%94%B9%E7%89%88/</url><categories><category>windows</category></categories><tags/><content type="html"> 顯示 windows 版本工具
winver.exe
查詢可改版版本
dism /online /Get-TargetEditions
執行改版程序
dism /online /set-edition:ServerStandard</content></entry><entry><title>Centos 7 Firewalld 阻擋 IP 指令</title><url>https://lovesharepc.github.io/2019/01/07/centos-7-firewalld-%E9%98%BB%E6%93%8B-ip-%E6%8C%87%E4%BB%A4/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> firewall-cmd --permanent --add-rich-rule="rule family='ipv4' source address='192.168.0.11' reject"</content></entry><entry><title>Centos 7 查詢 web 主機使用軟體及版本</title><url>https://lovesharepc.github.io/2019/01/04/centos-7-%E6%9F%A5%E8%A9%A2-web-%E4%B8%BB%E6%A9%9F%E4%BD%BF%E7%94%A8%E8%BB%9F%E9%AB%94%E5%8F%8A%E7%89%88%E6%9C%AC/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> curl --head http://your.webserver.com/</content></entry><entry><title>網管模擬工具 GNS3</title><url>https://lovesharepc.github.io/2019/01/03/%E7%B6%B2%E7%AE%A1%E6%A8%A1%E6%93%AC%E5%B7%A5%E5%85%B7-gns3/</url><categories><category>網管</category></categories><tags/><content type="html">
上一篇介紹的 eve-ng
GNS3 跟他是差不多的東西
雖然 GNS3 較難用一些
但相對穩定很多
首先上官網 https://www.gns3.com 註冊一個帳號 之後就能下載使用 它分成 server 、 client&nbsp; 上面三個就是 client 下面的 For optimal performance, make sure to also download the GNS3 VM&nbsp; 這個就是 server 端 (只有 VM 版) server 端就把他匯入 VM 即可 client 也是下一步下一步就可以裝起來 server 匯入後 建議先修改一下設定 RAM 不用太高&nbsp; CPU 可以開多一點&nbsp; 並且要啟動虛擬化功能 網卡可以依需求增加 bridge 、 host only &#8230;. 我的設定如下 接著開機後我們先設定 IP 選擇 Networking 修改紅色框起來的地方 修改完的範例如下 接著按 Ctrl + O 存檔 &nbsp;Ctrl + X&nbsp;離開 server 會自動重開機 完成後 建議先跑一下 Upgrade 之後開啟 client 端 初始化不用理他直接關到 在上面的標題列 選 Edit preferences server main server&nbsp; 輸入server 端 IP&nbsp;&nbsp; 範例如下 這邊建議 client 端重開一下 讓他重新讀取 server 端資訊 之後準備要匯入 switch VM&nbsp; 以 CISCO 為例 到官網下載&nbsp;APPLIANCE https://www.gns3.com/marketplace/appliance/cisco-nx-osv https://docs.gns3.com/appliances/cisco-iou-l2.html 清單 https://docs.gns3.com/1FFbs5hOBbx8O855KxLetlCwlbymTN8L1zXXQzCqfmy4/index.html#h.appliances 回 client 端 File import&nbsp; appliance 選擇剛剛下載的檔案 將需要的檔案匯進去 (有些檔案有版權問題 請自己再到 GOOGLE 找)
之後就能從左方工具列叫出來使用了
&lt;div> &lt;/div> &lt;div> &lt;/div></content></entry><entry><title>HP switch 5130 簡易指令</title><url>https://lovesharepc.github.io/2019/01/02/hp-switch-5130-%E7%B0%A1%E6%98%93%E6%8C%87%E4%BB%A4/</url><categories><category>網管</category></categories><tags/><content type="html"> system-view interface Vlan-interface 1 ip address 172.28.14.36 255.255.255.0 quit ip route-static 0.0.0.0 0.0.0.0 Vlan-interface 1 172.28.14.197 local-user admin service-type http https ssh authorization-attribute user-role network-admin password simple quit ip https enable ip http enable ssh server enable 存檔 save 看 config display current-configuration   </content></entry><entry><title>Fortigate config 轉檔</title><url>https://lovesharepc.github.io/2019/01/01/fortigate-config-%E8%BD%89%E6%AA%94/</url><categories><category>網管</category></categories><tags/><content type="html">
來源 https://www.brg.ch/dump-fortigate-config-into-csv/
1.先備份 fortigate config
2.準備一台 linux
3.下載 script
4.將 script、config 放進去linux
5.執行指令轉出對應的格式
fortigate-extract.pl --config &lt;fortigate-config.conf> --csv [--debug] fortigate-extract.pl --config &lt;fortigate-config.conf> --html [--debug] fortigate-extract.pl --config &lt;fortigate-config.conf> --txt [--debug] 如果有 vdom
也會依 vdom 分類</content></entry><entry><title>ESXi 使用 ghettoVCB 備份 VM</title><url>https://lovesharepc.github.io/2018/12/04/esxi-%E4%BD%BF%E7%94%A8-ghettovcb-%E5%82%99%E4%BB%BD-vm/</url><categories><category>VMware</category></categories><tags/><content type="html"> ghettoVCB
使用 ghettoVCB 備份 或是 xsibackup
ghettoVCB 說穿只是一個批次檔
他可以放在任意位置執行
也可以以 vib 檔安裝到 ESXi 中
官網
https://github.com/lamw/ghettoVCB
https://github.com/lamw/ghettoVCB/raw/master/vghetto-ghettoVCB-offline-bundle.zip
ESXi 開啟 ssh 的功能
以 ssh 登錄後
切換目錄到 datastore
cd /vmfs/volumes/datastore1/
下載 ghettoVCB
https://github.com/lamw/ghettoVCB/raw/master/vghetto-ghettoVCB-offline-bundle.zip
以 sFTP 或 SCP 丟到 ESXi 中
允許安裝非原廠 vib
esxcli software acceptance set –level=CommunitySupported
安裝
esxcli software vib install -d /vmfs/volumes/5b4aa160-d223f4c1-3f05-000c29cc1cbc/vghetto-ghettoVCB-offline-bundle.zip -f
安裝完後
批次部分在 /opt/ghettovcb/bin/
而 config 在 /etc/ghettovcb/
建立排程執行
因為 ESXi 每次從開機 crontab 會重置
所以不能直接修改 crontab (路徑於 /var/spool/cron/crontabs/)
vi /etc/rc.local.d/local.sh
echo “*/30 * * * * /opt/ghettovcb/bin/ghettoVCB.sh -g /etc/ghettovcb/ghettoVCB.conf -a > /dev/null” &raquo; /var/spool/cron/crontabs/root
kill -9 `cat /var/run/crond.pid `
/usr/lib/vmware/busybox/bin/busybox crond
======================================
以下注意事項
VM 名稱不能有特殊字元
ESXi 時間是 UTC 時區 就是沒有 timezone
config File 範例
VM_BACKUP_VOLUME=/vmfs/volumes/backup DISK_BACKUP_FORMAT=thin
VM_BACKUP_ROTATION_COUNT=10
POWER_VM_DOWN_BEFORE_BACKUP=0
ENABLE_HARD_POWER_OFF=0
ITER_TO_WAIT_SHUTDOWN=3
POWER_DOWN_TIMEOUT=5
ENABLE_COMPRESSION=1
VM_SNAPSHOT_MEMORY=0
VM_SNAPSHOT_QUIESCE=0
ALLOW_VMS_WITH_SNAPSHOTS_TO_BE_BACKEDUP=0
ENABLE_NON_PERSISTENT_NFS=0
UNMOUNT_NFS=0
NFS_SERVER=172.30.0.195
NFS_VERSION=nfs
NFS_MOUNT=/nfsshare
NFS_LOCAL_NAME=nfs_storage_backup
NFS_VM_BACKUP_DIR=mybackups
SNAPSHOT_TIMEOUT=15
EMAIL_ALERT=0
EMAIL_LOG=0
EMAIL_SERVER=auroa.primp-industries.com
EMAIL_SERVER_PORT=25
EMAIL_DELAY_INTERVAL=1
EMAIL_TO=auroa@primp-industries.com
EMAIL_ERRORS_TO=
EMAIL_FROM=root@ghettoVCB
WORKDIR_DEBUG=0
VM_SHUTDOWN_ORDER=
VM_STARTUP_ORDER=
 </content></entry><entry><title>CMD 呼叫變數</title><url>https://lovesharepc.github.io/2018/12/01/cmd-%E5%91%BC%E5%8F%AB%E8%AE%8A%E6%95%B8/</url><categories><category>windows</category><category>網管</category></categories><tags/><content type="html"> set x=%date:~0,4%%date:~5,2%%date:~8,2%  會將字串存為變數 x
要呼叫時就下 %x%
:~0,4 為擷取部分內容
從第0個字元至第四個</content></entry><entry><title>紅米 note4x 刷機</title><url>https://lovesharepc.github.io/2018/11/04/%E7%B4%85%E7%B1%B3-note4x-%E5%88%B7%E6%A9%9F/</url><categories><category>網管</category></categories><tags/><content type="html"> https://developer.android.com/studio/#downloads Command line tools only 下載 ADB、fastboot
toolsbinsdkmanager "platform-tools" "platforms;android-28" 檢查 裝置
platform-tools> .fastboot devices 下載 TWRP
https://dl.twrp.me/mido/ 刷入 recovery
.fastboot flash recovery twrp-3.2.3-1-mido.img 啟動 twrp
.fastboot boot RedWolf-027-mido.img PS.twrp 會認 android 版本</content></entry><entry><title>替 ESXi 安裝驅動</title><url>https://lovesharepc.github.io/2018/11/04/%E6%9B%BF-esxi-%E5%AE%89%E8%A3%9D%E9%A9%85%E5%8B%95/</url><categories><category>VMware</category></categories><tags/><content type="html"> 以系統管理員身分執行 powershell
Install-Module -Name VMware.PowerCLI
Set-ExecutionPolicy -ExecutionPolicy Bypass
下載 ESXi-Customizer-PS
https://www.v-front.de/p/esxi-customizer-ps.html#download
腳本說明
.ESXi-Customizer-PS-v2.6.0.ps1 -help
This is ESXi-Customizer-PS Version 2.6.0 (visit https://ESXi-Customizer-PS.v-front.de for more information!)
Usage:
ESXi-Customizer-PS [-help] | [-izip [-update]] [-sip] [-v67|-v65|-v60|-v55|-v51|-v50]
[-ozip] [-pkgDir
] [-outDir ] [-vft] [-dpt depot1[,&#8230;]]
[-load vib1[,&#8230;]] [-remove vib1[,&#8230;]] [-log ] [-ipname ]
[-ipdesc ] [-ipvendor ] [-nsc] [-test] Optional parameters: -help : display this help
-izip : use the VMware Offline bundle as input instead of the Online depot
-update : only with -izip, updates a local bundle with an ESXi patch from the VMware Online depot,
combine this with the matching ESXi version selection switch
-pkgDir
: local directory of Offline bundles and/or VIB files to add (if any, no default)
-ozip : output an Offline bundle instead of an installation ISO
-outDir : directory to store the customized ISO or Offline bundle (the default is the
script directory. If specified the log file will also be moved here.)
-vft : connect the V-Front Online depot
-dpt depot1[,&#8230;] : connect additional Online depots by URL or local Offline bundles by file name
-load vib1[,&#8230;] : load additional packages from connected depots or Offline bundles
-remove vib1[,&#8230;] : remove named VIB packages from the custom Imageprofile
-sip : select an Imageprofile from the current list
(default = auto-select latest available standard profile)
-v67 | -v65 | -v60 |
-v55 | -v51 | -v50 : Use only ESXi 6.7/6.5/6.0/5.5/5.1/5.0 Imageprofiles as input, ignore other versions
-nsc : use -NoSignatureCheck with export
-log : Use custom log file
-ipname
-ipdesc
-ipvendor : provide a name, description and/or vendor for the customized
Imageprofile (the default is derived from the cloned input Imageprofile)
-test : skip package download and image build (for testing) &nbsp; 使用指令線上產生 ISO
 輸出 Offline bundle .\\ESXi-Customizer-PS-v2.6.0.ps1 -v67 -ozip 使用 Offline bundle 並增加驅動 .\\ESXi-Customizer-PS-v2.6.0.ps1 -izip .\\ESXi-6.7.0-20191204001-standard.zip -vft -load sata-xahci,net55-r8168 -outDir d:\\share   參考
https://www.v-front.de/p/esxi-customizer-ps.html</content></entry><entry><title>檢查 server 主機對 SSL/TLS versions 的相容性</title><url>https://lovesharepc.github.io/2018/11/02/%E6%AA%A2%E6%9F%A5-server-%E4%B8%BB%E6%A9%9F%E5%B0%8D-ssl-tls-versions-%E7%9A%84%E7%9B%B8%E5%AE%B9%E6%80%A7/</url><categories><category>網管</category></categories><tags/><content type="html"> 可以使用 openssl
openssl s_client -connect example.com:443 -tls1_2
可用參數如下
-ssl2 – just use SSLv2
-ssl3 – just use SSLv3
-tls1_2 – just use TLSv1.2
-tls1_1 – just use TLSv1.1
-tls1 – just use TLSv1
也可以使用 nmap
nmap –script ssl-enum-ciphers -p 443 example.com
如果沒出現該加密訊息就是不支援</content></entry><entry><title>syslog-ng config 範例</title><url>https://lovesharepc.github.io/2018/10/13/syslog-ng-config-%E7%AF%84%E4%BE%8B/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> [root@localhost syslog-ng]# cat syslog-ng.conf
@version:3.5
@include “scl.conf”
# syslog-ng configuration file.
# This should behave pretty much like the original syslog on RedHat. But
# it could be configured a lot smarter.
# See syslog-ng(8) and syslog-ng.conf(5) for more information.
# Note: it also sources additional configuration files (*.conf)
# located in /etc/syslog-ng/conf.d/
options {
flush_lines (2000);
#time_reopen (10);
log_fifo_size (1000);
chain_hostnames (off);
use_dns (no);
use_fqdn (no);
owner(“root”);
group(“adm”);
perm(0640);
stats_freq(0);
bad_hostname(“^gconfd$”);
};
source s_sys {
system();
internal();
# udp(ip(0.0.0.0) port(514));
};
source s_net {
#tcp(port(514) flags(syslog-protocol));
udp(port(514) flags(syslog-protocol));
};
destination d_librenms {
program(“/opt/librenms/syslog.php” template (“$HOST||$FACILITY||$PRIORITY||$LEVEL||$TAG||$R_YEAR-$R_MONTH-$R_DAY $R_HOUR:$R_MIN:$R_SEC||$MSG||$PROGRAMn”) template-escape(yes));
};
destination d_cons { file(“/dev/console”); };
destination d_mesg { file(“/var/log/messages”); };
destination d_auth { file(“/var/log/secure”); };
destination d_mail { file(“/var/log/maillog” flush_lines(10)); };
destination d_spol { file(“/var/log/spooler”); };
destination d_boot { file(“/var/log/boot.log”); };
destination d_cron { file(“/var/log/cron”); };
destination d_kern { file(“/var/log/kern”); };
destination d_mlal { usertty(“*”); };
destination d_firewall_system { file(“/var/log/syslog-ng_remote/IP_${SOURCEIP}_SystemLog”); };
destination d_firewall_traffic { file(“/var/log/syslog-ng_remote/IP_${SOURCEIP}_TrafficLog”); };
destination d_imperva_SecurityEvent { file(“/var/log/syslog-ng_remote/IP_${SOURCEIP}_SecurityEvent”); };
filter f_kernel { facility(kern); };
filter f_default { level(info..emerg) and
not (facility(mail)
or facility(authpriv)
or facility(cron)); };
filter f_auth { facility(authpriv); };
filter f_mail { facility(mail); };
filter f_emergency { level(emerg); };
filter f_news { facility(uucp) or
(facility(news)
and level(crit..emerg)); };
filter f_boot { facility(local7); };
filter f_cron { facility(cron); };
filter f_firewall_1_traffic {(host(172.28.10.254))};
filter f_firewall_1_system {(host(172.28.10.254)and not match(“traffic”))};
filter f_firewall_2_traffic {(host(172.28.100.38))};
filter f_firewall_2_system {(host(172.28.100.38)and not match(“TRAFFIC”))};
filter f_imperva_SecurityEvent {(host(172.28.11.200))};
filter f_imperva_SystemEvent {(host(172.28.11.200)and match(“SystemEvent”))};
filter f_noLogToLibrenms1 {(host(172.28.11.200)) };
filter f_noLogToLibrenms2 {(host(172.28.10.254)) };
filter f_noLogToLibrenms3 {(host(172.28.100.38)) };
log {source(s_net);filter(f_firewall_1_traffic);destination(d_firewall_traffic); };
log {source(s_net);filter(f_firewall_1_system);destination(d_firewall_system); };
log {source(s_net);filter(f_firewall_2_traffic);destination(d_firewall_traffic); };
log {source(s_net);filter(f_firewall_2_system);destination(d_firewall_system);;};
log {source(s_net);filter(f_imperva_SecurityEvent);destination(d_imperva_SecurityEvent); };
log {source(s_net);filter(f_imperva_SystemEvent);destination(d_firewall_system);;};
log {source(s_net); filter(f_firewall_1_system); destination(d_librenms);};
log {source(s_net); filter(f_firewall_2_system); destination(d_librenms);};
log {source(s_net); filter(f_imperva_SystemEvent); destination(d_librenms);};
log {
source(s_net);
source(s_sys);
filter(f_noLogToLibrenms1);
filter(f_noLogToLibrenms2);
filter(f_noLogToLibrenms3);
destination(d_librenms);
};
# Source additional configuration files (.conf extension only)
@include “/etc/syslog-ng/conf.d/*.conf”
# vim:ft=syslog-ng:ai:si:ts=4:sw=4:et:</content></entry><entry><title>開源企業備份軟體 Bareos</title><url>https://lovesharepc.github.io/2018/09/09/%E9%96%8B%E6%BA%90%E4%BC%81%E6%A5%AD%E5%82%99%E4%BB%BD%E8%BB%9F%E9%AB%94-bareos/</url><categories><category>bareos</category></categories><tags><tag>bareos</tag><tag>centos 7</tag></tags><content type="html"> 簡介 在 centos 中，官方預設的備份軟體是 Amanda
另外有一套 bacula
但這兩套實際上並沒有這麼好用
作為上面兩套 netbackup 的替代方案 Bareos 是由 bacula 分支而來
簡單來說，他更好用
Bareos 官網
 功能面來說
首先 他支援 VSS 陰影複製
他是 server – client 中央控管備份軟體，不是單機備份軟體
他是網路備份軟體，備份檔案資料，無法直接裸機還原
   Bareos 架構如下 引用自 https://www.serveradminz.com/blog/what-is-bareos-and-how-to-install-bareos/
Bareos 分成幾個服務元件
Director – 作為中央控制服務 Bareos Console – 指令控制介面 File Daemon – 作為控制檔案存取 (備份、還原) Storage Daemon – 作為提供儲存備份空間的服務 Catalog – 資料庫，用來維護備份索引 (那些檔案有備份、存在哪裡…..的紀錄) bareos-webui 能夠觀看備份狀態、簡易的手動備份/還原操作、控制 這些東西可以安裝在單一 server 上
也可以拆開
好處是 一個 Director ，可以同時控制多個服務
比如說的多個存放備份的地方，成為分散式儲存
 支援系統清單 支援的系統清單如下
https://docs.bareos.org/Appendix/OperatingSystems.html
Director Daemon 即為能作為 server 端
Client Daemon 能被備份的對象
 Server 端安裝 Server 端介紹 Server 端
即包含所有元件
Director
Bareos Console
File Daemon
Storage Daemon
Catalog
bareos-webui
 這邊要講清楚
因為他是 linux 上的軟體
雖然官方有支援在 windows 上安裝 server 端
但會碰到 Unicode 的問題
非英文語系字元會全部變成亂碼，以個人慘痛經驗來說
不 要 裝 在 windows 上 !!
實際操作安裝 以下安裝採用，單一伺服器架構
Centos 7 Minimal Bareos 18.2 MariaDB 10.4 apache 2.4 php 7.2  首先安裝 epel repository 、 工具程式
apache2 、php7.2、mariadb
yum install -y epel-release yum install -y wget nano yum install -y http://rpms.remirepo.net/enterprise/remi-release-7.rpm yum install -y yum-utils yum-config-manager --disable remi-php54 yum-config-manager --enable remi-php72 curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash cd /etc/yum.repos.d && wget https://repo.codeit.guru/codeit.el`rpm -q --qf "%{VERSION}" $(rpm -q --whatprovides redhat-release)`.repo 匯入官方 Bareos REPO (18.2 穩定版)
wget -O /etc/yum.repos.d/bareos.repo http://download.bareos.org/bareos/release/18.2/CentOS_7/bareos.repo &nbsp; 安裝套件
yum clean all yum install -y httpd php php-gd bareos bareos-database-mysql bareos-webui mariadb-server  優化 PHP 設定
timedatectl set-timezone Asia/Taipei sed -e 's/memory_limit = 128M/memory_limit = 1024M/' -i /etc/php.ini sed -e 's/max_execution_time = 30/max_execution_time = 3600/' -i /etc/php.ini sed -e 's/max_input_time = 60/max_input_time = 3600/' -i /etc/php.ini sed -e 's/upload_max_filesize = 2M/upload_max_filesize = 1024M/' -i /etc/php.ini sed -e 's/post_max_size = 8M/post_max_size = 1024M/' -i /etc/php.ini sed -e 's/^;date\.timezone =/date\\.timezone ="Asia\\/Taipei"/' -i /etc/php.ini &nbsp; 讓服務開機自動執行
systemctl start mariadb && systemctl start bareos-dir && systemctl start bareos-sd && systemctl start bareos-fd && systemctl start httpd && systemctl enable mariadb && systemctl enable bareos-dir && systemctl enable bareos-sd && systemctl enable bareos-fd && systemctl enable httpd &lt;p> &amp;nbsp; &lt;/p> 匯入 bareos schema
/usr/lib/bareos/scripts/create_bareos_database /usr/lib/bareos/scripts/make_bareos_tables /usr/lib/bareos/scripts/grant_bareos_privileges &nbsp; selinux 允許 webui 連線
setsebool -P httpd_can_network_connect on
 建立 bareos webui 帳密 admin/admin
執行 bconsole 輸入 configure add console name=admin password=admin profile=webui-admin tlsenable=false
重新套用 config reload
離開 q
 開通防火牆
firewall-cmd --zone=public --permanent --add-service=http firewall-cmd --zone=public --permanent --add-port=9101/tcp firewall-cmd --zone=public --permanent --add-port=9102/tcp firewall-cmd --zone=public --permanent --add-port=9103/tcp firewall-cmd --reload #Console -> DIR:9101 #DIR -> SD:9103 #DIR -> FD:9102 #FD -> SD:9103  最後這邊我建議重開機一下
再進去 webui
http:///bareos-webui/
如果能夠登錄，代表上述步驟都沒有問題 這樣就能進行預設的備份作業了 Server 端 config 位置、優化 位置 Server 端主要有三個 config
/etc/bareos/bareos-dir.d # Director /etc/bareos/bareos-fd.d # File /etc/bareos/bareos-sd.d # storage #進入 Director conf 目錄
cd /etc/bareos/bareos-dir.d/ bareos 在 config 切得相當細，提供了大量的彈性應用
在這裡有幾個 conf 目錄是我們新增備份來源會用到的 &lt;p> client – 要備份的裝置&lt;br /> Job – 要執行備份的工作&lt;br /> JobDefs – job 的範本，用在快速引用&lt;br /> FileSet – 要備份的項目&lt;br /> pool &amp;#8211; 備份檔的存放空間&lt;br /> schedule &amp;#8211; 備份排程 &lt;/p> 備份存放位置 Archive Device 是指存放備份檔的目錄 依自己的實際情況做更改 nano /etc/bareos/bareos-sd.d/device/FileStorage.conf Device { Name = FileStorage Media Type = File Archive Device = /var/lib/bareos/storage LabelMedia = yes; # lets Bareos label unlabeled media Random Access = yes; AutomaticMount = yes; # when device opened, read it RemovableMedia = no; AlwaysOpen = no; Description = &ldquo;File device. A connecting Director must have the same Name and MediaType.&rdquo;
}
以我的例子 我是把它改到 /home/ 記得目錄也要建立 擁有者是 bareos
&nbsp; client 連線 storage 服務位置 Address = localhost
localhost 改成 server 的 IP (不一定要用 FQDN)
nano /etc/bareos/bareos-dir.d/storage/File.conf Storage { Name = File Address = 192.168.43.203 # N.B. Use a fully qualified name here (do not use "localhost" here). Password = "JytUV8gWZhPxY/koRhEzRdsVEH3d/q8YLzxI5qLOtA8B" Device = FileStorage Media Type = File Maximum Concurrent Jobs = 10 } 不改的話 client 會連線至 localhost 等於client 一直連自己
 Maximum Concurrent Jobs = 10
讓該儲存空間最多能同時接受 10 個作業
 備份使用空間大小 https://docs.bareos.org/Configuration/Director.html#directorresourcepool
nano /etc/bareos/bareos-dir.d/pool/File.conf Pool { Name = File_pool Pool Type = Backup Recycle = yes # Bareos can automatically recycle Volumes AutoPrune = yes # Prune expired volumes Volume Retention = 7 days # How long should the Full Backups be kept? (#06) Maximum Volume Bytes = 100G # Limit Volume size to something reasonable Maximum Volumes = 5 # Limit number of Volumes in Pool Label Format = &ldquo;Full-&rdquo; # Volumes will be labeled &ldquo;Full-&lt;volume-id>&rdquo;
Purge Oldest Volume = yes Recycle Oldest Volume = yes
}
範例說明 這裡建立一個存放備份檔的 pool 命名為 File_pool File_pool 底下會有 5 個 Volumes ，每個 100GB 等於這個 File_pool 最大能存放 500GB 的備份資料 Volume Retention 什麼時候備份內容會過期 AutoPrune 、Recycle 基本上一同使用，代表備份內容過期後能夠被複寫 當空間已滿但沒有任何 pool 可存放備份時
這時備份 job 就會停擺
要解決這問題就要加上這兩個參數 Purge Oldest Volume = yes
Recycle Oldest Volume = yes
不論備份是否過期，皆會自動清除回收最後的備份空間 Client 端安裝 windows 官方文件
再來下一步是新增 windows 裝置進行備份 在官方網站下載 client 後 http://download.bareos.org/bareos/release/18.2/windows/ 以預設選項安裝即可 (client) &nbsp; 參數的部分
如果你有多台電腦要備份
我的建議密碼都設一樣即可
不然管理上會很累 記住，networkaddress 是 client 自己的 IP 設定範例 之後就是下一步、下一步安裝完成 接著他會產生一段 conf 要你放到 server 端 如果你在安裝時都採用同樣的模式，倒也不必特別記 &nbsp; 安裝完成後只要一登錄系統
在app tray 就會看到 bareos tray monitor 可以看到自己的備份狀況
而相關的 config 都會放在
C:\\ProgramData\\Bareos 日後如果有需要修改來這邊即可
 Linux (Centos 7) wget -O /etc/yum.repos.d/bareos.repo http://download.bareos.org/bareos/release/18.2/CentOS_7/bareos.repo yum install -y bareos-filedaemon /etc/bareos/bareos-fd.d/client/myself.conf 修改 Name /etc/bareos/bareos-fd.d/director/bareos-dir.conf 修改 Password 重啟服務 systemctl restart bareos-fd firewall-cmd --zone=public --permanent --add-port=9102/tcp firewall-cmd --reload     建立備份任務 回到 server 上
#進入 Director conf 目錄
cd /etc/bareos/bareos-dir.d/ 再次說明每個目錄對應的功能
client – 要備份的裝置
Job – 要執行備份的工作
JobDefs – job 的範本，用在快速引用
FileSet – 要備份的項目
pool – 備份檔的存放空間
schedule – 備份排程
  新增備份 Client 官方文件 意思就是能被控制的 client 我們在 client 目錄新增一個 conf 我的習慣檔名就是該 client 的名稱
這邊輸入 nano /etc/bareos/bareos-dir.d/client/192.168.43.200.conf Client { Name = 192.168.43.200 Address = 192.168.43.200 Password = "bareos" # uncomment the following if using bacula # Catalog = "MyCatalog" Auto Prune=yes Maximum Concurrent Jobs = 4 } Auto Prune=yes
這個參數可以讓資料滿的時候
自動將舊資料刪除
 Maximum Concurrent Jobs = 4
讓該 client 能同時接受 4 個作業 (每個作業只會吃掉一個 cpu thread)
藉此加速備份速度
 新增備份項目 FileSet 官方文件 意思就是要備份哪些檔案 我們新增一個備份項目，可以參考 Windows All Drives.conf 做修改
而我這裡建立一個備份 D:\\ 的項目
這邊要特別注意，linux 的路徑以 / 表示而不是 \\
所以 config 要用 / 表示 儘管來源是 windows
compression 可以調整壓縮率，細節請參考文件 nano /etc/bareos/bareos-dir.d/fileset/WinD_fileset.conf FileSet { Name = &ldquo;WinD_fileset&rdquo; Enable VSS = yes Include { Options { Signature = MD5 Drive Type = fixed IgnoreCase = yes WildFile = &ldquo;[A-Z]:/pagefile.sys&rdquo; WildDir = &ldquo;[A-Z]:/RECYCLER&rdquo; WildDir = &ldquo;[A-Z]:/$RECYCLE.BIN&rdquo; WildDir = &ldquo;[A-Z]:/System Volume Information&rdquo; Exclude = yes compression=GZIP } File = D:/ } }
這邊有個特別的參數
Drive Type = fixed
代表外接式裝置是排除掉的，包含網路磁碟(待求證?)
 如果要讓 client 多工備份
你可以選擇建立兩個 FileSet
比如說 C 槽、D槽
 建立排程 Schedule 官方文件 這邊指的是建立一個時間表 後面的 jobdefs 可以依這邊的 Schedule 執行備份作業
nano /etc/bareos/bareos-dir.d/schedule/CyclePM21_Schedule.conf Schedule { Name = &ldquo;CyclePM21_Schedule&rdquo; Run = Full 1st saturday at 00:01 # 每個月的第一周的禮拜六早上 00:01 執行全備份 Run = Differential daily at 21:00 # 每天晚上 9 點執行差異備份 (沒有全備份紀錄會變成跑全備份工作)
}
Full Differential
Incremental 三者間的關係 https://searchdatabackup.techtarget.com/tip/Data-backup-types-explained-Full-incremental-differential-and-incremental-forever-backup job 範本 jobdefs jobdefs 他並不是一個必要的 config 它的用途在建立一個 job 的範本 設定好後 在最後建立 job 的 config 會輕鬆很多
nano /etc/bareos/bareos-dir.d/jobdefs/winD_jobdefs.conf JobDefs { Name = "winD_jobdefs" Type = Backup Level = Incremental Client = "192.168.43.200" FileSet = "WinD_fileset" # selftest fileset Schedule = "CyclePM21_Schedule" Storage = File Messages = Standard Pool = File_pool Priority = 10 Write Bootstrap = "/var/lib/bareos/%c.bsr" Maximum Concurrent Jobs = 4 } 記得要多工 這邊也要給
Maximum Concurrent Jobs
 建立 job 總算到最後了，job 要建立非常簡單
因為我們建好 jobdefs 了
所以最後只要帶進來就可以使用
nano /etc/bareos/bareos-dir.d/job/192.168.43.200_job.conf Job { Name = "192.168.43.200_job" JobDefs = "winD_jobdefs" Client = "192.168.43.200" }  重新讀取 config 最後進入 bareos 操作工具，執行 reload 命令
bconsole
reload
這樣前面的設定就會套進去 bareos 中
接著去 webui
job – actions
就能手動執行工作
或是等排程到，job 也會自動進行
 其他 刪除備份 進入 bconsole 執行 purge 指令
按照提示進行即可，以下範例
*purge This command can be DANGEROUS!!! It purges (deletes) all Files from a Job, JobId, Client or Volume; or it purges (deletes) all Jobs from a Client or Volume without regard to retention periods. Normally you should use the PRUNE command, which respects retention periods. This command requires full access to all resources. Automatically selected Catalog: MyCatalog Using Catalog "MyCatalog" You have the following choices: 1: files 2: jobs 3: volume 4: quota Choose item to purge (1-4): 2 The defined Client resources are: 1: bareos-fd 2: 192.168.43.200 Select Client (File daemon) resource (1-2): 2 Begin purging jobs from Client "192.168.43.200" Found 5 Jobs for client "192.168.43.200" in catalog "MyCatalog". Purge (yes/no)? yes *   故障排除 如果遇到服務起不來
記得所有相關目錄、config 都要是用 bareos 的權限
chown -R bareos: /etc/bareos/* 或是利用 config 檢測工具
能告訴你是哪邊有錯
官方文件
su bareos -s /bin/sh -c "/usr/sbin/bareos-dir -t" su bareos -s /bin/sh -c "/usr/sbin/bareos-sd -t" bareos-fd -t bconsole -t bareos-tray-monitor -t 實際檢測會是這樣
[root@localhost job]# su bareos -s /bin/sh -c "/usr/sbin/bareos-dir -t" bareos-dir: ERROR TERMINATION at lib/res.cc:574 Config error: Could not find config resource "winD_jobdefs11" referenced on line 3: JobDefs = "winD_jobdefs11" : line 3, col 28 of file /etc/bareos/bareos-dir.d/job/192.168.43.200_job.conf JobDefs = "winD_jobdefs11"  減少重複數據 官方文件
簡單來說 就是找一台設備當作 base (基底)
後面的備份就跟他比較，一樣的檔案就不進行備份
 舉個例子 有 3 台 windows ，A、B、C
那個只要第 1 台 A 先作為 base 先進行備份 ，後面B、C 台可以跟 A 的備份做比較，相同的檔案就不進行備份，以節省空間
 實際舉例
Client_1 -> BASE backup Client_2 -> 使用 Client_1 的 BASE backup 減少備份空間 fileset/BaseFileset_var.conf ## 參數為官方手冊範本 FileSet { Name = BaseFileset_var Include { Options { BaseJob = pmugcs5 Accurate = mcs Verify = pin5 } File = /var/ } } jobdefs/create_base_jobdefs.conf ## 建立 base backup 的 jobdefs(job 範本) JobDefs { Name = "create_base_jobdefs" Type = Backup Level = base FileSet = "BaseFileset_var" Storage = File Messages = Standard Pool = File_pool client = client_1 } jobdefs/use_base_jobdefs.conf ## 使用 base backup 的 jobdefs(job 範本) JobDefs { Name = "use_base_jobdefs" Type = Backup Level = Full FileSet = "BaseFileset_var" Storage = File Messages = Standard Base = create_base_job Pool = File_pool client = client_2 Accurate = yes } job/create_base_job.conf ## 建立 base backup job Job { Name = "create_base_job" JobDefs = create_base_jobdefs } job/use_base_job.conf ## 使用 base backup job Job { Name = "use_base_job" JobDefs = use_base_jobdefs }  實際執行效果
base backup 備份 165 MB
使用 base backup 只需備份 3 MB
 點進去 job 可以看到 節省近 97 % 的檔案不須備份
Base files/Used files: 3831/3713 (96.92%)
節省 154 MB
Space saved with Base jobs: 154 MB
 多工處理 bareos 預設一個 client 同時只會有一個 job
打開壓縮功能後，一般備份大概只能跑 10MB/s
這速度其實蠻慢的
為了要解決這種狀況
我們可以建立多個 job
比如說
job1 備份 C 槽
job2 備份 D 槽
 會動到的參數
Maximum Concurrent Jobs = &lt;數值>
 會動到的 config
/etc/bareos/bareos-dir.d/director/ /etc/bareos/bareos-dir.d/client/ /etc/bareos/bareos-dir.d/storage/ /etc/bareos/bareos-dir.d/jobdefs/ /etc/bareos/bareos-dir.d/job/  director、storage 影響 server 端
其他影響 client 端
建議公式
client 端 &lt; CPU 線程數
我個人建議用 4
 server 端 I/O 除以10MB
比如說 server 使用 1Gb 的網路
那
Maximum Concurrent Jobs = 10
 記得 fileset
要去設定分工作業
備份 C
備份 D
 最後 job
也要建立多份讓他同步執行
 使用 command 還原檔案 有時候備份內容太大
webui 會無法還原
這時候就只能使用指令操作
以下簡單操作範例
*restore First you select one or more JobIds that contain files to be restored. You will be presented several methods of specifying the JobIds. Then you will be allowed to select which files from those JobIds are to be restored. To select the JobIds, you have the following choices: 1: List last 20 Jobs run 2: List Jobs where a given File is saved 3: Enter list of comma separated JobIds to select 4: Enter SQL list command 5: Select the most recent backup for a client 6: Select backup for a client before a specified time 7: Enter a list of files to restore 8: Enter a list of files to restore before a specified time 9: Find the JobIds of the most recent backup for a client 10: Find the JobIds for a backup for a client before a specified time 11: Enter a list of directories to restore for found JobIds 12: Select full restore to a specified Job date 13: Cancel Select item: (1-13): 1 +-------+----------------+---------------------+----------+----------+---------------+ | JobId | Client | StartTime | JobLevel | JobFiles | JobBytes | +-------+----------------+---------------------+----------+----------+---------------+ | 55 | 192.168.43.200 | 2019-11-03 21:11:15 | B | 49642 | 4659885968 | | 53 | 192.168.43.200 | 2019-11-03 21:00:02 | F | 193132 | 8884700929 | | 54 | 192.168.43.200 | 2019-11-03 21:00:02 | F | 26272 | 2401983322 | | 52 | 192.168.43.200 | 2019-11-03 21:00:00 | F | 25374 | 2332146461 | | 51 | 192.168.43.200 | 2019-11-03 20:56:04 | B | 193132 | 8884550034 | | 50 | 192.168.43.200 | 2019-11-03 20:53:22 | B | 9 | 129946759 | | 47 | 192.168.43.204 | 2019-11-03 20:47:43 | F | 30996 | 1075651426 | | 48 | bareos-fd | 2019-11-03 20:47:43 | F | 39677 | 1786903959 | | 45 | 192.168.43.204 | 2019-11-03 20:44:33 | F | 425 | 42228487 | | 8 | bareos-fd | 2019-11-02 21:00:00 | F | 449 | 67708047 | +-------+----------------+---------------------+----------+----------+---------------+ To select the JobIds, you have the following choices: 1: List last 20 Jobs run 2: List Jobs where a given File is saved 3: Enter list of comma separated JobIds to select 4: Enter SQL list command 5: Select the most recent backup for a client 6: Select backup for a client before a specified time 7: Enter a list of files to restore 8: Enter a list of files to restore before a specified time 9: Find the JobIds of the most recent backup for a client 10: Find the JobIds for a backup for a client before a specified time 11: Enter a list of directories to restore for found JobIds 12: Select full restore to a specified Job date 13: Cancel 3 Enter JobId(s), comma separated, to restore: 55 You have selected the following JobId: 55 Building directory tree for JobId(s) 55 ... +++++++++++++++++++++++++++++++++++++++++++++++++ 49,572 files inserted into the tree. You are now entering file selection mode where you add (mark) and remove (unmark) files to be restored. No files are initially added, unless you used the "all" keyword on the command line. Enter "done" to leave this mode. cwd is: / $ ls D:/ $ ls 1/ 1 - 複製/ cd "1 - 複製" cwd is: D:/1 - 複製/ $ ls Application - 複製 (2) - 複製.evtx $ ? $ abort add cd count delete dir done estimate exit find help ls lsmark mark markdir pwd quit unmark unmarkdir mark mark markdir mark Display all 730 possibilities? (y or n) mark System.evtx 1 file marked. $ add Display all 730 possibilities? (y or n) ? Command Description ======= =========== abort abort and do not do restore add add dir/file to be restored recursively, wildcards allowed cd change current directory count count marked files in and below the cd delete delete dir/file to be restored recursively in dir dir long list current directory, wildcards allowed done leave file selection mode estimate estimate restore size exit same as done command find find files, wildcards allowed help print help ls list current directory, wildcards allowed lsmark list the marked files in and below the cd mark mark dir/file to be restored recursively, wildcards allowed markdir mark directory name to be restored (no files) pwd print current working directory unmark unmark dir/file to be restored recursively in dir unmarkdir unmark directory name only no recursion quit quit and do not do restore ? print help $ done Bootstrap records written to /var/lib/bareos/bareos-dir.restore.1.bsr The job will require the following Volume(s) Storage(s) SD Device(s) =========================================================================== File-0030 File FileStorage Volumes marked with "*" are online. 1 file selected to be restored. Defined Clients: 1: 192.168.43.200 2: 192.168.43.204 3: bareos-fd Select the Client (1-3): 2 Using Catalog "MyCatalog" Run Restore job JobName: RestoreFiles Bootstrap: /var/lib/bareos/bareos-dir.restore.1.bsr Where: /tmp/bareos-restores Replace: Always FileSet: LinuxAll Backup Client: 192.168.43.204 Restore Client: 192.168.43.204 Format: Native Storage: File When: 2019-11-03 21:42:40 Catalog: MyCatalog Priority: 10 Plugin Options: *None* OK to run? (yes/mod/no): mod Parameters to modify: 1: Level 2: Storage 3: Job 4: FileSet 5: Restore Client 6: Backup Format 7: When 8: Priority 9: Bootstrap 10: Where 11: File Relocation 12: Replace 13: JobId 14: Plugin Options Select parameter to modify (1-14): 4 The defined FileSet resources are: 1: Windows All Drives 2: WinD_fileset 3: WinD2_fileset 4: WinD1_fileset 5: SelfTest 6: LinuxAll 7: Catalog Select FileSet resource (1-7): 6 Run Restore job JobName: RestoreFiles Bootstrap: /var/lib/bareos/bareos-dir.restore.1.bsr Where: /tmp/bareos-restores Replace: Always FileSet: LinuxAll Backup Client: 192.168.43.204 Restore Client: 192.168.43.204 Format: Native Storage: File When: 2019-11-03 21:42:40 Catalog: MyCatalog Priority: 10 Plugin Options: *None* OK to run? (yes/mod/no): yes Job queued. JobId=56   </content></entry><entry><title>在 centos 7 安裝 odoo</title><url>https://lovesharepc.github.io/2018/09/02/%E5%9C%A8-centos-7-%E5%AE%89%E8%A3%9D-odoo/</url><categories><category>網管</category></categories><tags/><content type="html"> 在 centos 7 安裝 odoo
#雖然官方有提供 deb、rpm 包安裝
#但限於 ubuntu 跟 fedora
#centos 7
#必須從 git 下載編譯安裝才可以
#但還好步驟不難
#首先做一次系統更新
yum update -y
#安裝 SCL 頻道 (python 3)
yum install centos-release-scl -y
#安裝 python 3.5
yum install rh-python35 -y
#安裝工具包、相依元件
sudo yum install -y git gcc wget nodejs-less libxslt-devel bzip2-devel openldap-devel libjpeg-devel freetype-devel postgresql-devel
#建立一個 user for odoo 使用
useradd -m -U -r -d /opt/odoo -s /bin/bash odoo
#安裝 Postgre SQL 、 初始化
install postgresql-server
postgresql-setup initdb
#啟動 Postgre SQL
systemctl enable postgresql
systemctl start postgresql
Postgre SQL 建立 user odoo
su – postgres -c “createuser -s odoo”
#安裝 odoo
#步驟依序為1.切換使用者 2.下載 odoo 3.安裝 odoo
su – odoo
git clone https://www.github.com/odoo/odoo –depth 1 –branch 11.0 /opt/odoo/odoo11
scl enable rh-python35 bash
cd /opt/odoo
python3 -m venv odoo11-venv
#建立 odoo 環境
source odoo11-venv/bin/activate
pip3 install -r odoo11/requirements.txt
#離開
deactivate &amp;&amp; exit
exit
#建立設定檔 密碼記得修改
nano /etc/odoo11.conf
[options]
; This is the password that allows database operations:
admin_passwd = superadmin_passwd
db_host = False
db_port = False
db_user = odoo
db_password = False
addons_path = /opt/odoo/odoo11/addons
; If you are using custom modules
; addons_path = /opt/odoo/odoo11/addons,/opt/odoo/odoo11-custom-addons
#建立 service file 方便 systemctl 控制
nano /etc/systemd/system/odoo11.service
[Unit]
Description=Odoo11
Requires=postgresql.service
After=network.target postgresql.service
[Service]
Type=simple
SyslogIdentifier=odoo11
PermissionsStartOnly=true
User=odoo
Group=odoo
ExecStart=/usr/bin/scl enable rh-python35 — /opt/odoo/odoo11-venv/bin/python3 /opt/odoo/odoo11/odoo-bin -c /etc/odoo11.conf
StandardOutput=journal+console
[Install]
WantedBy=multi-user.target
#自動啟動
systemctl daemon-reload
systemctl start odoo11
#開始 odoo 初始化設定
http://&lt;your_domain_or_IP_address>:8069
#後記
#記得 odoo 使用 mail 作為帳號，有發信的功能
#新的使用者會以 mail 通知來建立密碼
#中文環境會有些許 BUG
#可以切換回英文版解決
參考來源
https://linuxize.com/post/install-odoo-11-on-centos-7/#install-and-configure-odoo-11</content></entry><entry><title>centos 排程 遠端指令</title><url>https://lovesharepc.github.io/2018/09/01/centos-%E6%8E%92%E7%A8%8B-%E9%81%A0%E7%AB%AF%E6%8C%87%E4%BB%A4/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> yum -y install expect
switchBK.sh
chmod 775 switch.sh
建立 shell
#!/usr/bin/expect
## TomDV
## http://blog.penumbra.be/2010/02/expect-scripts-backup-cisco-config/
set timeout 600
# —————- configuration device —————- #
## device 1
set device1
set tftp
set device1_user
set device1_pass
# ————– run command ————– #
## device 1
spawn ssh -l $user $device
expect “Password:”
send “$passn”
expect “#”
send “copy running-config tftp://$tftpn”
expect “$tftp”
send “n”
expect “Destination”
send “n”
expect copied
send “exitn”</content></entry><entry><title>centos 7 設定 tftp server</title><url>https://lovesharepc.github.io/2018/08/31/centos-7-%E8%A8%AD%E5%AE%9A-tftp-server/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> TFTP server can be installed using following command, where xinetd is necessary.
#安裝 tftp server yum install xinetd tftp-server #編輯設定檔 nano /etc/xinetd.d/tftp # default: off # description: The tftp server serves files using the trivial file transfer # protocol. The tftp protocol is often used to boot diskless # workstations, download configuration files to network-aware printers, # and to start the installation process for some operating systems. service tftp { socket_type = dgram protocol = udp wait = yes user = root server = /usr/sbin/in.tftpd #-c allow client upload file #-s use this path to as server directory server_args = -c -s /var/tftp # disable = no 不關閉 tftp server disable = no per_source = 11 cps = 100 2 flags = IPv4 } systemctl restart xinetd tftp systemctl enable xinetd tftp 參考資料 https://linux.die.net/man/8/tftpd</content></entry><entry><title>centos 7 安裝 vsftpd</title><url>https://lovesharepc.github.io/2018/08/27/centos-7-%E5%AE%89%E8%A3%9D-vsftpd/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> vsftpd 算是相當老牌的 FTP server
簡單好用
安裝很簡單
yum install vsftpd
systemctl enable vsftpd
systemctl start vsftpd 要注意的是要將 centos 7 的 selinux 加入對應的規則 或是就直接關了吧 哈哈</content></entry><entry><title>CentOS7 安裝 librenms</title><url>https://lovesharepc.github.io/2018/08/11/centos7-%E5%AE%89%E8%A3%9D-librenms/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 其實 librenms 官方 doc 已經寫得很詳細了
照做只有幾個點要注意而已
官方手冊
https://docs.librenms.org/#Installation/Installation-CentOS-7-Apache/
在 Install Required Packages
建議順便裝 3 個套件
wget nano python-ipaddress
該動作為每天凌晨執行 scan 動作
建議不要太常執行，因為掃一次的時間會蠻長的
接著設定 syslog
https://docs.librenms.org/#Extensions/Syslog/#syslog-server-installation
tcp(port(514) 會失敗 建議先不開
記得開防火牆，librenms 就能收到 log 了
firewall-cmd –permanent –add-port=514/udp
firewall-cmd –permanent –add-port=514/tcp
安裝工具 yum install -y nano wget unzip 指定 php 版本
yum install -y epel-release
yum install -y http://rpms.remirepo.net/enterprise/remi-release-7.rpm
yum install -y yum-utils
yum-config-manager –disable remi-php54
yum-config-manager –enable remi-php72
新版 mariadb
curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash
新版 apache
cd /etc/yum.repos.d &amp;&amp; wget https://repo.codeit.guru/codeit.el`rpm -q –qf “%{VERSION}” $(rpm -q –whatprovides redhat-release)`.repo
安裝套件
yum install -y git cronie fping jwhois ImageMagick mtr MySQL-python MySQL-python net-snmp net-snmp-utils nmap python-memcached rrdtool policycoreutils-python httpd mariadb mariadb-server
yum install -y php httpd mod_php php-cli php-common php-curl php-gd php-mbstring php-process php-snmp php-xml php-zip php-memcached php-mysqlnd
useradd librenms -d /opt/librenms -M -r
usermod -a -G librenms apache
cd /opt
git clone https://github.com/librenms/librenms.git
chown -R librenms:librenms /opt/librenms
chmod 770 /opt/librenms
setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ /opt/librenms/cache
setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ /opt/librenms/cache
su – librenms
./scripts/composer_wrapper.php install –no-dev
exit
systemctl start mariadb
systemctl start httpd
systemctl enable mariadb
systemctl enable httpd
systemctl disable firewalld
mysql -u root -p
CREATE DATABASE librenmsDB CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE USER ‘librenmsUSER’@’localhost’ IDENTIFIED BY ‘librenmsPW’;
GRANT ALL PRIVILEGES ON librenmsDB.* TO ‘librenmsUSER’@’localhost’;
FLUSH PRIVILEGES;
exit
nano /etc/my.cnf.d/server.cnf
Within the [mysqld] section please add:
default-time-zone = ‘+8:00’
innodb_file_per_table=1
lower_case_table_names=0
systemctl restart mariadb
Configure Apache
Create the librenms.conf:
nano /etc/httpd/conf.d/librenms.conf
Add the following config, edit ServerName as required:
DocumentRoot /opt/librenms/html/
ServerName librenms.example.com
AllowEncodedSlashes NoDecode
&lt;directory “/opt/librenms/html/”>
Require all granted
AllowOverride All
Options FollowSymLinks MultiViews
sed -e ‘s/memory_limit = 128M/memory_limit = 1024M/’ -i /etc/php.ini
sed -e ‘s/max_execution_time = 30/max_execution_time = 180/’ -i /etc/php.ini
sed -e ‘s/upload_max_filesize = 2M/upload_max_filesize = 1024M/’ -i /etc/php.ini
sed -e ‘s/post_max_size = 8M/post_max_size = 1024M/’ -i /etc/php.ini
sed -e ‘s/^;date.timezone =/date.timezone =”Asia/Taipei”/’ -i /etc/php.ini
systemctl restart httpd
nano http_fping.tt
module http_fping 1.0;
require {
type httpd_t;
class capability net_raw;
class rawip_socket { getopt create setopt write read };
}
#============= httpd_t ==============
allow httpd_t self:capability net_raw;
allow httpd_t self:rawip_socket { getopt create setopt write read };
checkmodule -M -m -o http_fping.mod http_fping.tt
semodule_package -o http_fping.pp -m http_fping.mod
semodule -i http_fping.pp
Copy the example snmpd.conf from the LibreNMS install.
cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf
vi /etc/snmp/snmpd.conf
Edit the text which says RANDOMSTRINGGOESHERE and set your own community string.
curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro
chmod +x /usr/bin/distro
systemctl enable snmpd
systemctl restart snmpd
Cron job
cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms
NOTE: Keep in mind that cron, by default, only uses a very limited set of environment variables. You may need to configure proxy variables for the cron invocation. Alternatively adding the proxy settings in config.php is possible too. The config.php file will be created in the upcoming steps. Review the following URL after you finished librenms install steps: https://docs.librenms.org/Support/Configuration/#proxy-support
Copy logrotate config
LibreNMS keeps logs in /opt/librenms/logs. Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file:
cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms
Web installer
Now head to the web installer and follow the on-screen instructions.
http://librenms.example.com/install.php
sed -e ‘s/memory_limit = 128M/memory_limit = 1024M/’ -i /etc/php.ini
sed -e ‘s/max_execution_time = 30/max_execution_time = 180/’ -i /etc/php.ini
sed -e ‘s/upload_max_filesize = 2M/upload_max_filesize = 1024M/’ -i /etc/php.ini
sed -e ‘s/post_max_size = 8M/post_max_size = 1024M/’ -i /etc/php.ini
sed -e ‘s/^;date.timezone =/date.timezone =”Asia/Taipei”/’ -i /etc/php.ini
systemctl restart httpd
sudo chown -R librenms:librenms /opt/librenms
sudo setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/
sudo chmod -R ug=rwX /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/
timedatectl set-timezone Asia/Taipei</content></entry><entry><title>移除市集</title><url>https://lovesharepc.github.io/2018/08/07/%E7%A7%BB%E9%99%A4%E5%B8%82%E9%9B%86/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 移除市集
用power shell
Get-AppxPackage -AllUsers &raquo; C:test.txt
搜尋找到 Microsoft.WindowsStore……
Remove-AppxPackage
DISM /Online /Get-ProvisionedAppxPackages
找到 Microsoft.WindowsStore……
DISM /Online /Remove-ProvisionedAppxPackage /PackageName:</content></entry><entry><title>ESXi 系統更新</title><url>https://lovesharepc.github.io/2018/08/05/esxi-%E6%9B%B4%E6%96%B0/</url><categories><category>VMware</category></categories><tags/><content type="html"> ESXi 更新
ESXi 上傳 zip 到local 儲存區 開SSH 、 進入維護模式
檢查 source
esxcli software sources profile list -d &lt;路徑>esxcli software sources profile list -d /vmfs/volumes/ESXI-97/VMware-VMvisor-Installer-6.5.0.update02-8935087.x86\_64-DellEMC\_Customized-A01.zipName Vendor Acceptance Level Creation Time Modification Time———————————————————— ———— ——————————- ————————————- ————————————-DellEMC-ESXi-6.5U2-8935087-A01 Dell PartnerSupported 2018-06-24T02:43:16 2018-07-09T11:38:57 套用 source
esxcli software profile update -d &lt;路徑> -p 發生錯誤
[root@ESXI96:~] esxcli software profile update -d /vmfs/volumes/ESXI-96/esxi/VMware-VMvisor-Installer-6.5.0.update02-8935087.x86\_64-DellEMC\_Customized-A01.zip -p DellEMC-ESXi-6.5U2-8935087-A01[DependencyError]File path of ‘‘/etc/vmware/oem.xml’’ is claimed by multiple overlay VIBs: {‘‘DellEMC\_bootbank\_dell-configuration-vib\_6.5-2A01’’, ‘‘Lenovo\_bootbank\_lnvcustomization\_6.5-00’’}File path of ‘‘/etc/vmware/support’’ is claimed by multiple overlay VIBs: {‘‘DellEMC\_bootbank\_dell-configuration-vib\_6.5-2A01’’, ‘‘Lenovo\_bootbank\_lnvcustomization\_6.5-00’’} 移除 VIB
esxcli software vib remove ––vibname=lnvcustomization reboot</content></entry><entry><title>使用 VMware ovf tool 匯出虛擬機</title><url>https://lovesharepc.github.io/2018/07/23/%E4%BD%BF%E7%94%A8-vmware-ovf-tool-%E5%8C%AF%E5%87%BA%E8%99%9B%E6%93%AC%E6%A9%9F/</url><categories><category>網管</category></categories><tags/><content type="html"> # 匯出虛擬機 ovftool.exe &#8211;machineOutput &#8211;noSSLVerify vi://root:@10.4.200.90/&#8220;&#8221; D:test.ova</content></entry><entry><title>CentOS 7 安裝 cacti 1.2.3</title><url>https://lovesharepc.github.io/2018/07/02/centos-7-%E5%AE%89%E8%A3%9D-cacti-1-2-3/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> cacti 為一套免費的 SNMP monitoring soft 由 MRTG 演化而來 主要差別在於比 MRTG 簡易好上手許多 (不過其實也是挺麻煩的) 在我接觸 cacti 之前，我是使用 PRTG 的 如果你只是要小範圍的監控，100 個監視項目以內(其實也蠻多了) 我建議你到這裡打住，離開 使用 PRTG 來達成你的目的，畢竟商業軟體還是比較厲害 cacti 除了免費外，我找不到別的優點(監控成果有差) ============================================================================================================ 在這邊先講解一下 cacti 的核心由 web、php、sql、snmp 元件組成 其中也能掛附加元件的方式來擴充它 而既然是一個 SNMP monitoring soft 主要就是蒐集 port 的流量、設備運作狀況(CPU、RAM…) 這邊進入主題 這篇我使用 CentOS7 Minimal 架設 架設好後 先進行軟體的安裝動作 建議關閉 selinux #安裝 EPEL 擴充套件庫、工具 安裝新版 php7.3、mariadb、apache 、工具 Install EPEL Repository (Extra Packages for Enterprise Linux) 、Remi Repository (packaging PHP)、 mariadb Repository
rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm yum install -y epel-release
yum install http://rpms.remirepo.net/enterprise/remi-release-7.rpm
yum install -y yum-utils
yum-config-manager –disable remi-php54
yum-config-manager –enable remi-php73
curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash
cd /etc/yum.repos.d &amp;&amp; wget https://repo.codeit.guru/codeit.el`rpm -q –qf “%{VERSION}” $(rpm -q –whatprovides redhat-release)`.repo
yum update -y
yum install -y net-snmp net-snmp-utils net-snmp-libs rrdtool php php-xml php-session php-sockets php-ldap php-gd cacti* nano wget MariaDB-server galera MariaDB-client MariaDB-shared MariaDB-backup MariaDB-common
更改系統時區、啟動服務
timedatectl set-timezone Asia/Taipei systemctl enable httpd
systemctl enable mariadb
systemctl start httpd
systemctl start mariadb
systemctl enable snmpd
systemctl start snmpd
mariadb 安全性設定
mysql_secure_installation 匯入 timezone 資料
mysql -u root -p mysql &lt; /usr/share/mysql/mysql_test_data_timezone.sql 進入 mariadb(mysql)
mysql -u root -p 建立 DB cacti
create database cacti; 建立使用者、權限
GRANT ALL ON cacti.* TO cactiuser@localhost IDENTIFIED BY 'cactipassword'; GRANT SELECT ON mysql.time_zone_name TO cactiuser@localhost; flush privileges; exit; 匯入 Cacti 所需 table: 這邊注意路徑有版本號，記得照實修改
mysql -u root -p cacti &lt; /usr/share/doc/cacti-1.2.3/cacti.sql 修改 apache 設定，才能從遠端連線 cacti (參考檔案上方說明，因部落格限制部分內容無法顯示)
nano /etc/httpd/conf.d/cacti.conf # httpd 2.4
#Require host localhost
Require all granted
# httpd 2.2
Order deny,allow
Deny from all
Allow from all
#Allow from localhost
修改 PHP 時區
nano /etc/php.ini [Date]
;date.timezone =
date.timezone = “Asia/Taipei”
接著修改 cacti 連線設定讓 cacti 能連線 mysql
nano /usr/share/cacti/include/config.php $database_type = ‘mysql’;
$database_default = ‘cacti’;
$database_hostname = ‘localhost’;
$database_username = ‘cactiuser’;
$database_password = ‘cactipassword’;
$database_port = ‘3306’;
$database_ssl = false;
讓 cacti 每 1 分鐘做一次資料收集 (預設 5 分鐘)
nano /etc/cron.d/cacti */1 * * * * cacti php /usr/share/cacti/poller.php > /dev/null 2>&1 開通防火牆
firewall-cmd --permanent --add-service=http firewall-cmd --reload 優化 PHP
sed -e 's/memory_limit = 128M/memory_limit = 512M/' -i /etc/php.ini sed -e 's/max_execution_time = 30/max_execution_time = 300/' -i /etc/php.ini 優化 mariadb
echo character-set-server = utf8mb4 >> /etc/my.cnf.d/server.cnf echo collation_server = utf8mb4_unicode_ci >> /etc/my.cnf.d/server.cnf echo character_set_client = utf8mb4 >> /etc/my.cnf.d/server.cnf echo join_buffer_size = 30M >> /etc/my.cnf.d/server.cnf # innodb_file_format = Barracuda (mariadb 10 版以後不需修改) cacti 安裝過程建議修改項目自行決定是否修改 reboot 用無痕模式開啟安裝 http://192.168.43.21/cacti admin/admin</content></entry><entry><title>VMWare ovf 匯入失敗 (line 1) is invalid: SHA256</title><url>https://lovesharepc.github.io/2018/06/05/vmware-ovf-%E5%8C%AF%E5%85%A5%E5%A4%B1%E6%95%97-line-1-is-invalid-sha256/</url><categories><category>Centos 7</category></categories><tags/><content type="html"> 該原因為 vsphere client 不支援 (那就讓它支援阿!!!!)
必須用 OVF Tool 轉換
下載 OVF TOOL
用指令進行轉換動作(記得去 OVF tool 目錄執行)
ovftool.exe --shaAlgorithm=SHA1 /path/to/the/original/ova_file.ova /path/to/the/new/ova/file-SHA1.ova</content></entry><entry><title>微軟 KMS 序號</title><url>https://lovesharepc.github.io/2018/05/04/%E5%BE%AE%E8%BB%9F-kms-%E5%BA%8F%E8%99%9F/</url><categories><category>windows</category></categories><tags/><content type="html"> 應用範例
slmgr -upk //移除授權 slmgr -skms xxx.xxx.xxx.xxx:1688 //指定 KMS 主機 slmgr -ipk [key] //安裝金鑰 slmgr -ato //啟用授權 序號收集
Windows Server 版本1709 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows Server Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">6Y6KB-N82V8-D8CQV-23MJW-BWTG6&lt;/span> &lt;/div> &lt;/td> Windows Server Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4&lt;/span> &lt;/div> &lt;/td> Windows Server 2016 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows Server 2016 Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">CB7KF-BWN84-R7R2Y-793K2-8XDDG&lt;/span> &lt;/div> &lt;/td> Windows Server 2016 Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY&lt;/span> &lt;/div> &lt;/td> Windows Server 2016 Essentials &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">JCKRF-N37P4-C2D82-9YXRT-4M63B&lt;/span> &lt;/div> &lt;/td> Windows 10 1709 版 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows 10 專業版工作站 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J&lt;/span> &lt;/div> &lt;/td> Windows 10 專業版工作站N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">9FNHH-K3HBT-3W4TD-6383H-6XYWF&lt;/span> &lt;/div> &lt;/td> Windows 10 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows 10 專業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">W269N-WFGWX-YVC9B-4J6C9-T83GX&lt;/span> &lt;/div> &lt;/td> Windows 10 專業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">MH37W-N47XK-V7XM9-C7227-GCQG9&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">NPPR9-FWDCX-D2C8J-H872K-2YT43&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4&lt;/span> &lt;/div> &lt;/td> Windows 10 教育版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">NW6C2-QMPVW-D7KKK-3GKT6-VCFB2&lt;/span> &lt;/div> &lt;/td> Windows 10 教育版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">2WH4N-8QGBV-H22JP-CT43Q-MDWWJ&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版2015 長期維護 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">WNMTR-4C88C-JK8YV-HQ7T2-76DF9&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版2015 長期維護N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">2F77B-TNFGY-69QQF-B8YKP-D69TJ&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版2016 長期維護 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ&lt;/span> &lt;/div> &lt;/td> Windows 10 企業版2016 長期維護N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">QFFDN-GRT3P-VKWWX-X7T3R-8B639&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 R2 與Windows 8.1 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows 8.1 專業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">GCRJD-8NW9H-F2CDX-CCM8D-9D6T9&lt;/span> &lt;/div> &lt;/td> Windows 8.1 專業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">HMCNV-VVBFX-7HMBH-CTY9B-B4FXY&lt;/span> &lt;/div> &lt;/td> Windows 8.1 企業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">MHF9N-XY6XB-WVXMC-BTDCT-MKKG7&lt;/span> &lt;/div> &lt;/td> Windows 8.1 企業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">TT4HM-HN7YT-62K67-RGRQJ-JFFXW&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 R2 Server Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">D2N9P-3P6X9-2R39C-7RTCD-MDVJX&lt;/span> &lt;/div> &lt;/td> WindowsServer 2012 R2 Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 R2 Essentials &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">KNC87-3J2TX-XB4WP-VCPJV-M4FWM&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 與Windows 8 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows 8 專業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">NG4HW-VH26C-733KW-K6F98-J8CK4&lt;/span> &lt;/div> &lt;/td> Windows 8 專業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">XCVCF-2NXM9-723PB-MHCB7-2RYQQ&lt;/span> &lt;/div> &lt;/td> Windows 8 企業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">32JNW-9KQ84-P47T8-D8GGY-CWCK7&lt;/span> &lt;/div> &lt;/td> Windows 8 企業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">JMNMF-RHW7P-DMY6X-RF3DR-X2BQT&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">BN3D2-R7TKB-3YPBD-8DRP2-27GG4&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">8N2M2-HWPGY-7PGT9-HGDD8-GVGGY&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 單一語言 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">2WN2H-YGCQR-KFX6K-CD6TF-84YXQ&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 國家/地區特定 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">4K36P-JN4VD-GDC6V-KDT89-DYFKP&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 Server Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">XC9B7-NBPP2-83J2H-RHMBY-92BT4&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 MultiPoint Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">HM7DN-YVMH3-46JC3-XYTG7-CYQJJ&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 MultiPoint Premium &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G&lt;/span> &lt;/div> &lt;/td> Windows Server 2012 Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">48HP8-DN98B-MYWDG-T2DCC-8W83P&lt;/span> &lt;/div> &lt;/td> Windows 7 和Windows Server 2008 R2 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows 7 專業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4&lt;/span> &lt;/div> &lt;/td> Windows 7 專業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">MRPKT-YTG23-K7D7T-X2JMM-QY7MG&lt;/span> &lt;/div> &lt;/td> Windows 7 專業版E &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">W82YF-2Q76Y-63HXB-FGJG9-GF7QX&lt;/span> &lt;/div> &lt;/td> Windows7 企業版 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">33PXH-7Y6KF-2VJC9-XBBR8-HVTHH&lt;/span> &lt;/div> &lt;/td> Windows 7 企業版N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">YDRBP-3D83W-TY26F-D46B2-XCKRJ&lt;/span> &lt;/div> &lt;/td> Windows 7 企業版E &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">C29WB-22CC8-VJ326-GHFJW-H9DH4&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 R2 Web &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">6TPJF-RBVHG-WBW2R-86QPH-6RTM4&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 R2 HPC Edition &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">TT8MH-CG224-D3D7Q-498W2-9QCTX&lt;/span> &lt;/div> &lt;/td> WindowsServer 2008 R2 Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">YC6KT-GKW9T-YTKYR-T4X34-R7VHC&lt;/span> &lt;/div> &lt;/td> WindowsServer 2008 R2 Enterprise &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">489J6-VHDMP-X63PK-3K798-CPX3Y&lt;/span> &lt;/div> &lt;/td> WindowsServer 2008 R2 Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">74YFP-3QFB3-KQT8W-PMXWJ-7M648&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 R2 for Itanium-based Systems &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">GT63C-RJFQ3-4GMB6-BRFB9-CB83V&lt;/span> &lt;/div> &lt;/td> Windows Vista 和Windows Server 2008 作業系統版本 &lt;td style="border-left: none; border: solid #E3E3E3 1.0pt; mso-border-alt: solid #E3E3E3 .25pt; mso-border-bottom-alt: solid #E3E3E3 .75pt; mso-border-left-alt: solid #E3E3E3 .25pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="bottom"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: 'Segoe UI Semibold',sans-serif; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 新細明體; mso-font-kerning: 0pt;">KMS &lt;/span>&lt;span style="font-family: '新細明體',serif; mso-ascii-font-family: 'Segoe UI Semibold'; mso-bidi-font-family: 'Segoe UI Semibold'; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-hansi-font-family: 'Segoe UI Semibold';">用戶端安裝識別碼&lt;/span> &lt;/div> &lt;/td> Windows Vista Business &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">YFKBB-PQJJV-G996G-VWGXY-2V3X8&lt;/span> &lt;/div> &lt;/td> Windows Vista Business N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">HMBQG-8H2RH-C77VX-27R82-VMQBT&lt;/span> &lt;/div> &lt;/td> Windows Vista Enterprise &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">VKK3X-68KWM-X2YGT-QR4M6-4BWMV&lt;/span> &lt;/div> &lt;/td> Windows Vista Enterprise N &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">VTC42-BM838-43QHV-84HX6-XJXKV&lt;/span> &lt;/div> &lt;/td> Windows Web Server 2008 &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">WYR28-R7TFJ-3X2YQ-YCY4H-M249D&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Standard &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">TM24T-X9RMF-VWXK6-X8JC9-BFGM2&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Standard (無Hyper-V) &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Enterprise &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">YQGMW-MPWTJ-34KDK-48M3W-X4Q6V&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Enterprise (無Hyper-V) &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">39BXF-X8Q23-P2WWT-38T2F-G3FPG&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 HPC &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">RCTX3-KWVHP-BR6TB-RB6DM-6X7HP&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Datacenter &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">7M67G-PC374-GR742-YH8V4-TCBY3&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 Datacenter (無Hyper-V) &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">22XQ2-VRXRG-P8D42-K34TD-G3QQC&lt;/span> &lt;/div> &lt;/td> Windows Server 2008 for Itanium-Based Systems &lt;td style="border-bottom: solid #E3E3E3 1.0pt; border-left: none; border-right: solid #E3E3E3 1.0pt; border-top: none; mso-border-alt: solid #E3E3E3 .25pt; mso-border-left-alt: solid #E3E3E3 .25pt; mso-border-top-alt: solid #E3E3E3 .75pt; padding: 9.0pt 12.0pt 9.0pt 12.0pt;" valign="top"> &lt;div style="mso-pagination: widow-orphan;"> &lt;span lang="EN-US" style="font-family: '新細明體',serif; mso-bidi-font-family: 新細明體; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt;">4DWFP-JF3DJ-B7DTH-78FJB-PDRHK&lt;/span> &lt;/div> &lt;/td>  </content></entry><entry><title>Extreme 基本設定</title><url>https://lovesharepc.github.io/2018/05/03/extreme-%E5%9F%BA%E6%9C%AC%E8%A8%AD%E5%AE%9A/</url><categories><category>網管</category></categories><tags/><content type="html"> extreme 的預設帳號密碼是 admin/空白 預設會有兩個 vlan
default、mgmt 首先設定 mgmt 的 IP 以及 gateway
#移除預設 IP unconfigure vlan mgmt ipaddress #建立 IP configure vlan mgmt ipaddress 192.0.2.100/24 #建立 gateway configure iproute add default 192.0.2.1 vr vr-mgmt save //儲存設定 #而預設本來就有開 telnet 這邊開啟 ssh 連線
enable ssh2 //使用 ssh v2 disable telnet //關閉 telnet # 建立 vlan
# extreme 部分指令可以 vlan name 來設定
# 但不是任何地方都可以，所以建議還是以 ID 來下指令 # create vlan 名稱 tag ID create vlan test2 tag 2 create vlan test3 tag 3 create vlan test4 tag 4 # 設定 port vlan
# 列出 port 所屬 vlan
show ports vlan # 刪除 port vlan configure vlan Default delete ports 1-5 #把 1-5 port 加到 vlan test1 中 configure vlan test1 add ports 1-5
#將 port 6-10 加入 vlan 2-4 帶 tag (trunk) configure vlan 2-4 add ports 6-10 tag # 安全性設定修改 # 關閉不安全連線 # 改用加密連線 # 產生SSL 憑證 configure ssl certificate privkeylen 2048 country us organization extreme common-name name1 disable web http enable web https disable telnet enable ssh2 # 韌體更新 download image 192.168.1.126 summitX-22.5.1.7.xos vr "VR-Default" secondary # 設定時間 configure timezone name Taipei 480 configure ntp server add 10.4.2.250 # 啟動 SNMP enable snmp access configure snmp delete community readonly public configure snmp add community readonly yantech # 設定/移除 vlan IP configure vlan 200 ipaddress 10.4.200.2/24 unconfigure vlan 200 ipaddress # 設定 host name configure snmp sysname BA-1-1_210-24p-1 其他一些指令
# 重設交換器 unconfigure switch # 顯示 port 所屬 vlan show ports vlan # 修改帳號設定 configure account admin password create account admin Yantech Password delete account user # 開啟路由 # 全開 或 只對 vlan enable ipforwarding vlan v2 enable ipforwarding 建立 VRRP -----------------------------------------------------------------------enable ipforwarding vlan v2 enable ipforwarding vlan v3 enable ipforwarding vlan v4 create vrrp vlan 2 vrid 1
configure vrrp vlan 2 vrid 1 add 192.168.1.254
configure vrrp vlan 2 vrid 1 priority 150
enable vrrp vlan 2 vrid 1
create vrrp vlan 3 vrid 1
configure vrrp vlan 3 vrid 1 add 192.168.2.254
configure vrrp vlan 3 vrid 1 priority 150
enable vrrp vlan 3 vrid 1
create vrrp vlan 4 vrid 1
configure vrrp vlan 4 vrid 1 add 192.168.3.254
configure vrrp vlan 4 vrid 1 priority 150
enable vrrp vlan 4 vrid 1
建立 MLAG --------------------------------------- create vlan ISC tag 3000 enable sharing 11 group 11,12 lacp configure vlan 2-3000 add ports 11 tag configure vlan ISC ipaddress 10.0.0.1/30 # 指向對方 # RouterB 指向 RouterA create mlag peer "RouterB" configure mlag peer "RouterB" ipaddress 10.0.0.2   # 在 core 上設定單一 port group 並啟用 MLAG enable sharing 1 grouping 1 lacp enable mlag port 1 peer "RouterB" id 1 enable sharing 2 grouping 2 lacp
enable mlag port 2 peer “RouterB” id 2
enable sharing 3 grouping 3 lacp
enable mlag port 3 peer “RouterB” id 3
# 在 egde SW 上設定兩個 port 為一 group # edge SW 務必以對稱式接到 core 上 # 舉例 # edge port 3 -> coreA port 3 # edge port 4 -> coreB port 3 enable sharing 3 grouping 3,4 lacp # 在 ISC 上阻擋 VRRP 封包 # 達到 ative-ative 狀態 vi vrrp-hello-block.pol entry vrrp-block { if match all { destination-address 224.0.0.18/32 ; } then { deny ; } } configure access-list vrrp-hello-block.pol port 11 ingress
configure access-list vrrp-hello-block.pol port 12 ingress
# 參考來源 http://www.shunze.info/forum/thread.php?threadid=1914&amp;boardid=31&amp;sid=e0806a4c65b46dda64add7f7a065089d&amp;page=1#3</content></entry><entry><title>CISCO 基本設定 (ssh、spanning tree)</title><url>https://lovesharepc.github.io/2018/04/30/cisco-%E5%9F%BA%E6%9C%AC%E8%A8%AD%E5%AE%9A-ssh%E3%80%81spanning-tree/</url><categories><category>網管</category></categories><tags/><content type="html"> SSH 開啟前要完成 HOST neme 、 doman name 的設定
 switch (config)#spanning-tree mode rapid-pvst switch(config)# hostname test //命名主機名稱
test(config)# ip domain-name test.local //設定網域名稱
test(config)# crypto key generate rsa //產生金鑰
//金鑰預設是用 512 bit 指定 768 bit 以上才能啟用 ssh v2
test(config)# ip ssh version 2 ////使用 ssh v2
test(config)# username test privilege 15 password test //建立帳號並給予最高權限
Switch(config)# line vty 0 4
Switch(config-line)# transport input ssh //限制遠端登錄只能用 ssh
Switch(config-line)# login local //使用本機登錄
test(config)# service password-encryption //密碼加密
test(config)# enable secret test //設定 enable 的密碼</content></entry><entry><title>vCenter SERVER 安裝</title><url>https://lovesharepc.github.io/2018/02/04/vcenter-server-%E5%AE%89%E8%A3%9D/</url><categories><category>VMware</category></categories><tags/><content type="html"> 首先安裝 ESXi
 並改為固定 IP 以 web 開啟主控台將 SSH 打開
 下指令改 hostname
 esxcfg-advcfg -s ESXi1 /Misc/hostname 因為 SSL 證書要先重設(如果你沒有註冊過的) 照以下流程 1.Back up SSL certificates with the command: cp /etc/vmware/ssl/rui.* /var/tmp 2.Remove the SSL certificates with the command: rm /etc/vmware/ssl/rui.* 3.Restart the host's Management agents. For more information, see Restarting the Management agents on an ESXi or ESX host (1003490). /etc/init.d/hostd restart /etc/init.d/vpxa restart      </content></entry><entry><title>CentOS 7 安裝 webmin</title><url>https://lovesharepc.github.io/2018/01/02/centos-7-%E5%AE%89%E8%A3%9D-webmin/</url><categories><category>Centos 7</category><category>網管</category></categories><tags/><content type="html"> CentOS 7 設定網路連線
以 nmtui 文字UI設定
yum update 更新
Install WebMin
執行nano /etc/yum.repos.d/webmin.repo
建立內容如下
[Webmin] name=Webmin Distribution Neutral #baseurl=http://download.webmin.com/download/yum mirrorlist=http://download.webmin.com/download/yum/mirrorlist enabled=1  執行
wget http://www.webmin.com/jcameron-key.asc sudo rpm --import jcameron-key.asc sudo yum install webmin perl-Digest-MD5 Add FirewallD firewall-cmd --zone=public --add-port=10000/tcp --permanent systemctl restart firewalld  </content></entry><entry><title>Windows 部屬製作</title><url>https://lovesharepc.github.io/2017/12/30/windows-%E9%83%A8%E5%B1%AC%E8%A3%BD%E4%BD%9C/</url><categories><category>windows</category></categories><tags/><content type="html">
Windows 世界上最多人使用的作業系統
面對各種不同族群，也有各自的需求
所以建立一個屬於自己部屬的 windows 也是微軟提供的一項功能
個人建議在虛擬化環境製作，才可以快速製作各種需求
首先就跟往常一樣重裝 windows 在進入 OOBE 畫面時 (建立帳號密碼)
按下 ctrl + shift + F3 這時就會發現系統重開機了
之後開機就會進入稽核模式
帳號會是 會出現一個 sysprep 工具 (系統準備工具)
這個是當你軟體環境都準備好時，建立部屬檔案用
在這之前，可以先將 OS 更新、安裝所需的軟體、設定都準備好
然後再用此工具，建議勾選 一般化 系統 SID 才會重設
之後再以 PE 開機 使用 DISM 工具擷取系統為 wim 映像檔
再放回 windows 安裝光碟中取代 source/install.wim 就完成了 (或是 install.esd 也可以)
 </content></entry><entry><title>Windows7 OEM 啟動教學</title><url>https://lovesharepc.github.io/2017/11/20/windows7-oem-%E5%95%9F%E5%8B%95%E6%95%99%E5%AD%B8/</url><categories><category>windows</category></categories><tags><tag>windows</tag></tags><content type="html"> 從 Vista、7 都是使用 SLIC 2.1 來做 OEM 的授權
win 8 之後是 SLIC 3.0
最大差別是 SLIC 3.0 之後會自動啟動
SLIC 2.1 必須手動
而要啟動 OEM 授權要達成三個條件
  BIOS 中有 OEM 的 SLIC table 系統輸入 OEM 序號 系統帶入 OEM 證書   對於購買套裝電腦，卻又不想使用 OEM 廠商給的 recover 映像檔
就必須自己完成 2、3 的啟動步驟，這些都在 BIOS 中，可以使用 SLIC_ToolKit 來匯出序號跟證書
 假設都備齊上面三個條件
就可以來啟動了
 先安裝好 Windows
以系統管理員權限啟動 cmd
輸入
slmgr.vbs -ipk &lt;序號> slmgr.vbs -ilc &lt;證書 *.XRM-MS 的路徑> slmgr.vbs -ato  重新開機後就會發現 windows 已經正常啟動，或是用下列命令查詢啟動資訊
slmgr.vbs -dlv   最後附上 OEM 的證書以及序號收集 請勿使用破解用途
SLIC_ToolKit
 </content></entry><entry><title>eve-ng 模擬 palo alto</title><url>https://lovesharepc.github.io/2017/11/09/eve-ng-%E6%A8%A1%E6%93%AC-palo-alto/</url><categories><category>網管</category></categories><tags/><content type="html">
   模擬 palo alto 所需要的 image 就是從 palo alto 提供的 VM 版來使用
VM 通常有 OVA 跟 qcow2 兩種 image 格式
eve-ng 需要用 qemu 來虛擬化 palo alto (使用 qcow2 格式)
如果你取得的檔案是 OVA 就要做轉換的動作
因為要做轉換，建議開一個 temp 資料夾動作
用 SFTP 開一個 temp 資料夾，將 OVA 檔上傳
開 SSH 下指令
cd temp
tar xf *.ova
/opt/qemu/bin/qemu-img convert -f vmdk -O qcow2 *.vmdk virtioa.qcow2
然後建立資料夾
mkdir /opt/unetlab/addons/qemu/paloalto-&lt;版本號>
mv virtioa.qcow2 /opt/unetlab/addons/qemu/paloalto-&lt;版本號>
 接著移除 temp 資料夾
cd ..
rm -rf abc
一樣修正權限後就可以開始 LAB
/opt/unetlab/wrappers/unl_wrapper -a fixpermissions
   我建立的簡易 LAB 如下
 以下幾點要注意
1.記得 palo alto 在建立時記憶體要大於 5120 否則開機會跳入維護模式
2.建立網路點要選擇 TYPE cloud0 才能上 Internet
我的 LAB 建立兩個網路，一個連接到 mgmt (從 HOST 進 Web 管理用)
另一個接到其中一個 eth 做 LAB 對外使用
3.login 預設帳密為 admin ，如果一直出現錯誤，代表還沒開機完成 (要有耐心)
可以使用 show system info 查目前的 IP
參考資料
HowTo add Palo Alto
How to Add Palo Alto 7.1.0 on EVE-NG And Initial Configuration Palo Alto – Youtube
 本 LAB使用
EVE-NG version 2.0.3-84
palo alto VM 8 (PA-VM-ESX-8.0.0.ova)
 </content></entry><entry><title>完整匯出 IE 設定</title><url>https://lovesharepc.github.io/2017/11/08/%E5%AE%8C%E6%95%B4%E5%8C%AF%E5%87%BA-ie-%E8%A8%AD%E5%AE%9A/</url><categories><category>網管</category></categories><tags/><content type="html">  雖然 IE 已經不是主流瀏覽器
 但仍有許多系統持續使用 IE，如果要轉移的話匯出 REG 是最方便
執行下列指令即可完整備份
可以再自行合併為一個 reg 檔方便匯入
 reg export "HKCU\\software\\microsoft\\WindowsCurrentVersionInternet Settings" C:\\1.reg reg export "HKLM\\software\\microsoft\\WindowsCurrentVersionInternet Settings" C:\\2.reg reg export "HKLU\\software\\microsoft\\Internet Explorer" C:\\3.reg reg export "HKLM\\software\\microsoft\\Internet Explorer" C:\\4.reg   </content></entry><entry><title>eve-ng 教學、IOU 環境建立</title><url>https://lovesharepc.github.io/2017/11/07/eve-ng-%E6%95%99%E5%AD%B8%E3%80%81iou-%E7%92%B0%E5%A2%83%E5%BB%BA%E7%AB%8B/</url><categories><category>網管</category></categories><tags/><content type="html">
eve-ng 簡單來說它就是一台虛擬機
優點是他已經建立好許多網管常用的品牌、設備的設定檔
提供給網管快速建立 LAB 使用
http://www.eve-ng.net/
在官網中已經提供 VM 用的 OVA 檔，直接匯入就好
這邊嘗試建立 Cisco IOL (IOS On Linux)環境
以下我使用 VMWARE 來實作
在 VM 匯入 eve-ng 後先打開 VT-x 虛擬化功能增強效能
官方建議將硬碟容量調大，但基本上有需要時再調整即可
開機後就會 show 出目前的 LAB WEB 路徑
這邊先了解他是以 Ubuntu 製作的，找資料別忘了
預設帳號 root 密碼 eve
做一些初始化設定
然後就可以準備將要模擬的設備 image 映像檔放入
依官方的教學以 SFTP 將 license(iourc) 跟 images 放入 /opt/unetlab/addons/iol/bin/ 目錄中
開啟 SSH 連線進 eve-ng 執行下列指令修正權限 (有新增 image 檔案都需要再次執行修正指令)
/opt/unetlab/wrappers/unl_wrapper -a fixpermissions
然後測試 IOS 是否能開機 執行下列三行指令
cd /opt/unetlab/addons/iol/bin
touch NETMAP
LD_LIBRARY_PATH=/opt/unetlab/addons/iol/lib /opt/unetlab/addons/iol/bin/&lt;iosname.bin> 1
有出現 IOS 畫面就是能開始建 LAB 了
打開瀏覽器 輸入開機顯示的 LAB WEB 路徑
帳號跟剛才登錄虛擬機的帳號不同
這裡預設帳號 admin 密碼 eve
這邊建議用 html5 console 就可以直接用 web 來做 console 管理 IOS
進去後
點選 add new lab
完成後開啟剛剛建立的 LAB 在左方選擇 Add an object – Node
下方找到 Cisco IOL 就可以選擇 image 、參數來建立設備
點選剛剛建立的設備就可以開機、進入 console 管理嘍
  參考資料
EVE-NG HOW TO cisco IOL
https://www.youtube.com/watch?v=GGCTzZPQoHY
本 LAB使用
EVE-NG version 2.0.3-84
 </content></entry><entry><title>Windows 常用指令</title><url>https://lovesharepc.github.io/2017/11/01/windows-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/</url><categories><category>windows</category></categories><tags><tag>windows</tag></tags><content type="html">  GPO 相關
更新 gpupdate /force
GPO 狀態 GPRESULT /H 匯出檔案位置
編輯本機GPO gpedit.msc
備份/還原本機GPO %windir%System32GroupPolicyUsers
 檔案複製
robocopy /E
     </content></entry><entry><title>檔案遭病毒隱藏解法</title><url>https://lovesharepc.github.io/2017/10/13/%E6%AA%94%E6%A1%88%E9%81%AD%E7%97%85%E6%AF%92%E9%9A%B1%E8%97%8F%E8%A7%A3%E6%B3%95/</url><categories><category>windows</category></categories><tags/><content type="html"> 遇到一次檔案遭到病毒隱藏
當病毒已經殺掉卻無法解除隱藏的問題
儘管有 administrator 權限卻無法動作
實際問題是因為檔案屬性被改為系統檔案
在使用 ATTRIB 時 也要將 S 屬性解除掉
變成 ATTRIB -S -H . /S /D
ATTRIB [+R | -R] [+A | -A] [+S | -S] [+H | -H] [+O | -O] [+I | -I] [+P | -P] [+U | -U]
[磁碟機:][路徑][檔案名稱] [/S [/D]] [/L]
設定屬性。
– 清除屬性。
R 唯讀檔案屬性。
A 封存檔案屬性。
S 系統檔案屬性。
H 隱藏檔案屬性。
O 離線屬性。
I 非內容索引檔案屬性。
X 無清理檔案屬性。
V 完整性屬性。
P 固定屬性。
U 已取消固定屬性。
[磁碟機:][路徑][檔案名稱]
為屬性指定一或多個檔案進行處理。
/S 處理目前的資料夾及
所有子資料夾中相符的檔案。
/D 一併處理資料夾。
/L 處理符號連結的屬性，
而非符號連結的目標。</content></entry><entry><title>VIRTUALBOX VDI 虛擬磁碟瘦身</title><url>https://lovesharepc.github.io/2017/08/28/virtualbox-vdi-%E8%99%9B%E6%93%AC%E7%A3%81%E7%A2%9F%E7%98%A6%E8%BA%AB/</url><categories><category>網管</category></categories><tags/><content type="html"> 虛擬磁碟在建立時我們通常會選用動態磁碟
 在使用空間上會較彈性 (有資料時才增加磁碟檔案容量)
 但使用久了
 磁碟檔案會越來越大，儘管磁碟中沒有什麼資料
 主要是因為我們系統在刪除資料時
 都是把表頭刪除，沒有刪除真正的資料(僅記錄該區塊無資料)
 對於真正”空的”硬碟，其硬碟上的資料要寫 0 才算
 所以在瘦身前，必須進入 對其硬碟寫 0
 先下載 Sdelete
 使用指令
 sdelete -z c:
 將空白資料刪除
 之後關機
 回到 HOST OS
 使用指令
 VBoxManage.exe modifyhd XXX.vdi -compact
 空間就會回來了
 </content></entry><entry><title>offline 修改 IP</title><url>https://lovesharepc.github.io/2017/05/12/offline-%E4%BF%AE%E6%94%B9-ip/</url><categories><category>windows</category></categories><tags/><content type="html"> 以 windows PE 開機
使用 regworkshop
載入管理單元
Windowssystem32configsystem
找到並修改
ControlSet001Servicestpcipparameterinterffaces{*}ipaddres ControlSet002Servicestpcipparameterinterffaces{*}ipaddres  </content></entry><entry><title>將指令結果存成文字檔</title><url>https://lovesharepc.github.io/2017/04/27/%E5%B0%87%E6%8C%87%E4%BB%A4%E7%B5%90%E6%9E%9C%E5%AD%98%E6%88%90%E6%96%87%E5%AD%97%E6%AA%94/</url><categories><category>windows</category></categories><tags/><content type="html"> 只要在指令後方加 &raquo; 就可以指定存成文字檔
例如
ping 192.168.1.1 -t &raquo;PingLog.txt
 例外 |clip 則是存在剪貼簿
  </content></entry><entry><title>IP 查詢網站</title><url>https://lovesharepc.github.io/2017/04/23/ip-%E6%9F%A5%E8%A9%A2%E7%B6%B2%E7%AB%99/</url><categories><category>網管</category></categories><tags/><content type="html"> 以下幾個網站可以提供 IP 查詢以及 目前 IP 所屬 ISP 業者查詢
https://rms.twnic.net.tw/help_ipv4_assign.php
http://www.ipfingerprints.com
 https://www.iplocation.net
 http://dir.twseo.org/ip-check.php
 </content></entry><entry><title>windows 10 未出現登入畫面解決方法</title><url>https://lovesharepc.github.io/2017/04/03/windows-10-%E6%9C%AA%E5%87%BA%E7%8F%BE%E7%99%BB%E5%85%A5%E7%95%AB%E9%9D%A2%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/</url><categories><category>windows</category></categories><tags><tag>windows</tag></tags><content type="html"> 發生問題如下
 windows 10 不知原因之 BUG 沒有登錄畫面(無法輸入密碼)
 解決方法如下
 首先要進入安全模式
設定電腦自動登錄
之後重開機進入系統後再將自動登錄拿掉
就正常了
           詳細步驟
 首先進入安全模式 (windows 10 進入安全模式)
 執行 Netplwiz 工具 (window + R 輸入 Netplwiz 按確定)
 先選擇要自動登錄的使用者
 將 “必須輸入使用者名稱和密碼，才能使用這台電腦” 的勾拿掉
 按確定後會要你輸入密碼
 完成後重開機即可正常進入系統
 
   若要取消自動登錄
 一樣執行 Netplwiz 反向操作即可
       </content></entry><entry><title>windows 10/8.1/7 多合一安裝系統製作</title><url>https://lovesharepc.github.io/2016/03/23/windows-10-8-1-7-%E5%A4%9A%E5%90%88%E4%B8%80%E5%AE%89%E8%A3%9D%E7%B3%BB%E7%B5%B1%E8%A3%BD%E4%BD%9C/</url><categories><category>windows</category></categories><tags><tag>windows</tag></tags><content type="html"> 必備
 DISM、ImageX (Windows ADK)
windows 10/8.1/7 ISO
UltraISO
     首先
   將各 windows ISO 中的 sources/install.wim or install.esd 取出 並更名以便識別
 使用系統管理員執行”部署與映像工具環境”
 輸入 imagex /info c:/windows7.wim 取得映像 IMAGE INDEX
 舉例
      
21538
106594
14584092454
6330133898
0x01D16666
0xF3A62F36
0x01D16667
0x0A62A64E
0
9
Microsoft® Windows® Operating System
Professional
Client
20160212
10.0.10586.0;2015-10-30T01:17:41Z
acpiapic
WinNT
Terminal Server
zh-TW
en-US
zh-TW
10
0
10586
0
0
WINDOWS
Windows 10 Pro
Windows 10 Pro
Professional
Windows 10 專業版
Windows 10 專業版
     從紅色的字可以得到該 index 編號 以及該 index 的 windows 版本
 接著我們提出所需的版本，並建立一個新檔
 imagex /export C:/windows7.wim 1 c:/install.wim NAME /check /compress maximum
 就是從 windows7.wim 的 index 1 提出並建立於 install.wim 中 而 NAME 可自行設定 建議依版本輸入控管
 重複該步驟 直到你提出所有所需的 windows 至 install.wim 中
 接著利用 UltraISO 將新建立的 install.wim 取代原 ISO 的 install.wim 檔案即可
注意應使用最新的 ISO 來做 因為有架構、驅動問題 所以應使用 windows 10 32 bit ISO 來建立 多版本的安裝光碟
     最後
   可使用 DISM 指令來建立高壓縮的 install.esd
 dism /Export-Image /SourceImageFile:”install.wim” /SourceIndex:1 /DestinationImageFile:”install.esd” /Compress:recovery /CheckIntegrity
 注意該指令一次只能壓縮 1 個 index
 所以有 n 個 index 則必須執行 N 次
 完成後的 install.esd 同樣放於 install.wim 同位置即可
 </content></entry><entry><title>防毒軟體評比整理</title><url>https://lovesharepc.github.io/2012/08/26/%E9%98%B2%E6%AF%92%E8%BB%9F%E9%AB%94%E8%A9%95%E6%AF%94%E6%95%B4%E7%90%86/</url><categories><category>windows</category></categories><tags><tag>Anti-Virus</tag></tags><content type="html"> av-comparatives av-comparatives
業界評比最詳細的網站的
 av-test av-test
評比結果最直覺
  </content></entry><entry><title>移除驅動程式</title><url>https://lovesharepc.github.io/2012/02/24/%E7%A7%BB%E9%99%A4%E9%A9%85%E5%8B%95%E7%A8%8B%E5%BC%8F/</url><categories><category>windows</category></categories><tags><tag>windows</tag></tags><content type="html"> 一般來說雖然驅動可以直接用 windows 內定的系統管理解除
 不過有些驅動就是解不掉
 這時就必須靠工具 Driver Sweeper (官網)
 完整的把驅動移除掉
   運作方式很簡單
 1.首先用 windows 內的工具解除驅動
 2.再來重開機進入安全模式 (開機按F8)
 3.執行 Driver Sweeper
 4.再選擇沒移除的驅動刪掉就行了
 </content></entry><entry><title/><url>https://lovesharepc.github.io/en/zh-tw/post/hugo_install/hugo_install.html</url><categories/><tags/><content type="html"> g+++ title = &lsquo;hugo host in github&rsquo; date = &ldquo;2022-02-19&rdquo; author = &ldquo;owan"description = &lsquo;紀錄安裝建置過程&rsquo; tags = [&lsquo;hugo&rsquo;] categories = [&lsquo;hugo&rsquo;] toc = &ldquo;true&rdquo; +++
在此網站建立時順手作的紀錄文章
序言 github 提供一個功能 叫做 GitHub Pages
GitHub Pages 讓 github 帳號建立 repository 後 讓該 repository 能夠以靜態網頁呈現內容
好處是你不需要有 server 、 DNS domain 就能夠使用 當使用 markdown 編寫文件，並結合 Jekyll 就能產生簡易的部落格
在此指之前我都使用 GCP 開一個永久免費的 VM 架設 wordpress 使用
論功能來說 wordpress 較強大 但文件應用彈性，使用 markdown 會較容易 比如說我可以將筆記功能與網站結合，而不需要發布兩個地方
GitHub Pages 介紹可以使用 Jekyll 作為網站生成器 但評估後，覺得 HUGO 似乎較符合我 所以這網站就以 HUGO 建立
建置流程簡介 建立 github 帳號並建立 2 個 repository 下載網站生成器 hugo 下載 VScode、gitdesktop 生成網站、文章 發佈到 github 建立 github 帳號並建立 2 個 repository github 預設會將 &lt;username>.github.io 這個 Repository name 直接對應到 https://&lt;username>.github.io 這個 domain 如果你想要使用其他 Repository name 也是可以設定為虛擬目錄使用
這邊我們建立兩個 repository 一個用為供 public 瀏覽用 另一個做為我們網站程式碼的保存用 (這步驟就非必要)
以我舉例我分別建立 lovesharepc.github.io 權限: public hugo_sitetool 權限: private
下載 VScode、github desktop 下一步 我們要準備好開發工具
VScode 可以作為多功能的編輯器(包含 markdown) https://code.visualstudio.com/
GitHub Desktop 則是用來將我們的網站 push 到網路上 https://desktop.github.com/
下載網站生成器 hugo 到 hugo 的 github 下載執行檔
https://github.com/gohugoio/hugo/releases
在電腦上建立目錄 hugo_sitetool 使用 github desktop 將 github reopsitory clone 至此
將 hogo 檔案放置此處 並設定環境變數 開啟 terminal 軟體嘗試執行 hugo 確認是否能正常運作 hugo help
PS D:\Gdrive\hugo_sitetool\quickstart> hugo help hugo is the main command, used to build your Hugo site. Hugo is a Fast and Flexible Static Site Generator built with love by spf13 and friends in Go. Complete documentation is available at http://gohugo.io/. Usage: hugo [flags] hugo [command] Available Commands: completion generate the autocompletion script for the specified shell config Print the site configuration convert Convert your content to different formats deploy Deploy your site to a Cloud provider. env Print Hugo version and environment info gen A collection of several useful generators. help Help about any command import Import your site from others. list Listing out various types of content mod Various Hugo Modules helpers. 生成網站、文章 這邊簡單的流程說明如下 首先建立網站
hugo new site quickstart 參考 quick-start 設定 Theme
接著建立目錄 public 將 github repository (lovesharepc.github.io) clone 至此
然後執行 hugo 編譯網站，網站就準備好發布了
發佈到 github 發布很簡單 就是使用 github desktop commt 變更並 push 至 github
hugo_sitetool 要將 public 目錄排除掉
之後到 https://lovesharepc.github.io/
就能看到自己網站的成品了</content></entry></search>